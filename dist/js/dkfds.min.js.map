{"version":3,"file":"js/dkfds.min.js","mappings":"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","sources":["webpack://DKFDS/webpack/universalModuleDefinition","webpack://DKFDS/./node_modules/array-foreach/index.js","webpack://DKFDS/./src/js/utils/behavior.js","webpack://DKFDS/./src/js/utils/is-ios-device.js","webpack://DKFDS/./src/js/components/date-picker.js","webpack://DKFDS/./src/js/utils/active-element.js","webpack://DKFDS/./src/js/polyfills/custom-event.js","webpack://DKFDS/./src/js/polyfills/element-hidden.js","webpack://DKFDS/./src/js/polyfills/index.js","webpack://DKFDS/./src/js/polyfills/number-is-nan.js","webpack://DKFDS/./src/js/utils/breakpoints.js","webpack://DKFDS/./src/js/utils/is-in-viewport.js","webpack://DKFDS/./src/js/utils/select.js","webpack://DKFDS/./src/js/utils/toggle.js","webpack://DKFDS/./node_modules/classlist-polyfill/src/index.js","webpack://DKFDS/./node_modules/keyboardevent-key-polyfill/index.js","webpack://DKFDS/./node_modules/matches-selector/index.js","webpack://DKFDS/./node_modules/object-assign/index.js","webpack://DKFDS/./node_modules/receptor/lib/behavior.js","webpack://DKFDS/./node_modules/receptor/lib/closest.js","webpack://DKFDS/./node_modules/receptor/lib/compose.js","webpack://DKFDS/./node_modules/receptor/lib/delegate.js","webpack://DKFDS/./node_modules/receptor/lib/delegateAll.js","webpack://DKFDS/./node_modules/receptor/lib/ignore.js","webpack://DKFDS/./node_modules/receptor/lib/index.js","webpack://DKFDS/./node_modules/receptor/lib/keymap.js","webpack://DKFDS/webpack/bootstrap","webpack://DKFDS/webpack/runtime/compat get default export","webpack://DKFDS/webpack/runtime/define property getters","webpack://DKFDS/webpack/runtime/hasOwnProperty shorthand","webpack://DKFDS/webpack/runtime/make namespace object","webpack://DKFDS/./src/js/components/accordion.js","webpack://DKFDS/./src/js/components/alert.js","webpack://DKFDS/./src/js/components/back-to-top.js","webpack://DKFDS/./src/js/components/character-limit.js","webpack://DKFDS/./src/js/components/checkbox-toggle-content.js","webpack://DKFDS/./src/js/components/dropdown.js","webpack://DKFDS/./src/js/components/dropdown-sort.js","webpack://DKFDS/./src/js/components/error-summary.js","webpack://DKFDS/./src/js/components/modal.js","webpack://DKFDS/./src/js/components/navigation.js","webpack://DKFDS/./src/js/components/navigation-drawer-overflow.js","webpack://DKFDS/./src/js/components/radio-toggle-content.js","webpack://DKFDS/./src/js/components/table.js","webpack://DKFDS/./src/js/components/tabs.js","webpack://DKFDS/./src/js/components/selectable-table.js","webpack://DKFDS/./src/js/components/toast.js","webpack://DKFDS/./src/js/components/tooltip.js","webpack://DKFDS/./src/js/dkfds.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DKFDS\"] = factory();\n\telse\n\t\troot[\"DKFDS\"] = factory();\n})(this, () => {\nreturn ","/**\n * array-foreach\n *   Array#forEach ponyfill for older browsers\n *   (Ponyfill: A polyfill that doesn't overwrite the native method)\n * \n * https://github.com/twada/array-foreach\n *\n * Copyright (c) 2015-2016 Takuto Wada\n * Licensed under the MIT license.\n *   https://github.com/twada/array-foreach/blob/master/MIT-LICENSE\n */\n'use strict';\n\nmodule.exports = function forEach (ary, callback, thisArg) {\n    if (ary.forEach) {\n        ary.forEach(callback, thisArg);\n        return;\n    }\n    for (var i = 0; i < ary.length; i+=1) {\n        callback.call(thisArg, ary[i], i, ary);\n    }\n};\n","import assign from \"object-assign\";\r\nconst receptor = require(\"receptor\");\r\n\r\n/**\r\n * @name sequence\r\n * @param {...Function} seq an array of functions\r\n * @return { closure } callHooks\r\n */\r\n// We use a named function here because we want it to inherit its lexical scope\r\n// from the behavior props object, not from the module\r\nconst sequence = (...seq) =>\r\n  function callHooks(target = document.body) {\r\n    seq.forEach((method) => {\r\n      if (typeof this[method] === \"function\") {\r\n        this[method].call(this, target);\r\n      }\r\n    });\r\n  };\r\n\r\n/**\r\n * @name behavior\r\n * @param {object} events\r\n * @param {object?} props\r\n * @return {receptor.behavior}\r\n */\r\nexport default (events, props) =>\r\n  receptor.behavior(\r\n    events,\r\n    assign(\r\n      {\r\n        on: sequence(\"init\", \"add\"),\r\n        off: sequence(\"teardown\", \"remove\"),\r\n      },\r\n      props\r\n    )\r\n  );\r\n","// iOS detection from: http://stackoverflow.com/a/9039885/177710\r\nfunction isIosDevice() {\r\n  return (\r\n    typeof navigator !== \"undefined\" &&\r\n    (navigator.userAgent.match(/(iPod|iPhone|iPad)/g) ||\r\n      (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1)) &&\r\n    !window.MSStream\r\n  );\r\n}\r\n\r\nexport default isIosDevice;\r\n","import {keymap} from 'receptor';\r\nimport behavior from \"../utils/behavior\";\r\nimport select from \"../utils/select\";\r\nimport activeElement from \"../utils/active-element\";\r\nimport isIosDevice from \"../utils/is-ios-device\";\r\nconst CLICK = 'click';\r\n\r\nconst DATE_PICKER_CLASS = `date-picker`;\r\nconst DATE_PICKER_WRAPPER_CLASS = `${DATE_PICKER_CLASS}__wrapper`;\r\nconst DATE_PICKER_INITIALIZED_CLASS = `${DATE_PICKER_CLASS}--initialized`;\r\nconst DATE_PICKER_ACTIVE_CLASS = `${DATE_PICKER_CLASS}--active`;\r\nconst DATE_PICKER_INTERNAL_INPUT_CLASS = `${DATE_PICKER_CLASS}__internal-input`;\r\nconst DATE_PICKER_EXTERNAL_INPUT_CLASS = `${DATE_PICKER_CLASS}__external-input`;\r\nconst DATE_PICKER_BUTTON_CLASS = `${DATE_PICKER_CLASS}__button`;\r\nconst DATE_PICKER_CALENDAR_CLASS = `${DATE_PICKER_CLASS}__calendar`;\r\nconst DATE_PICKER_STATUS_CLASS = `${DATE_PICKER_CLASS}__status`;\r\nconst DATE_PICKER_GUIDE_CLASS = `${DATE_PICKER_CLASS}__guide`;\r\nconst CALENDAR_DATE_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__date`;\r\n\r\nconst DIALOG_WRAPPER_CLASS = `dialog-wrapper`;\r\nconst DATE_PICKER_DIALOG_WRAPPER = `.${DIALOG_WRAPPER_CLASS}`;\r\n\r\nconst CALENDAR_DATE_FOCUSED_CLASS = `${CALENDAR_DATE_CLASS}--focused`;\r\nconst CALENDAR_DATE_SELECTED_CLASS = `${CALENDAR_DATE_CLASS}--selected`;\r\nconst CALENDAR_DATE_PREVIOUS_MONTH_CLASS = `${CALENDAR_DATE_CLASS}--previous-month`;\r\nconst CALENDAR_DATE_CURRENT_MONTH_CLASS = `${CALENDAR_DATE_CLASS}--current-month`;\r\nconst CALENDAR_DATE_NEXT_MONTH_CLASS = `${CALENDAR_DATE_CLASS}--next-month`;\r\nconst CALENDAR_DATE_RANGE_DATE_CLASS = `${CALENDAR_DATE_CLASS}--range-date`;\r\nconst CALENDAR_DATE_TODAY_CLASS = `${CALENDAR_DATE_CLASS}--today`;\r\nconst CALENDAR_DATE_RANGE_DATE_START_CLASS = `${CALENDAR_DATE_CLASS}--range-date-start`;\r\nconst CALENDAR_DATE_RANGE_DATE_END_CLASS = `${CALENDAR_DATE_CLASS}--range-date-end`;\r\nconst CALENDAR_DATE_WITHIN_RANGE_CLASS = `${CALENDAR_DATE_CLASS}--within-range`;\r\nconst CALENDAR_PREVIOUS_YEAR_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__previous-year`;\r\nconst CALENDAR_PREVIOUS_MONTH_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__previous-month`;\r\nconst CALENDAR_NEXT_YEAR_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__next-year`;\r\nconst CALENDAR_NEXT_MONTH_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__next-month`;\r\nconst CALENDAR_MONTH_SELECTION_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__month-selection`;\r\nconst CALENDAR_YEAR_SELECTION_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__year-selection`;\r\nconst CALENDAR_MONTH_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__month`;\r\nconst CALENDAR_MONTH_FOCUSED_CLASS = `${CALENDAR_MONTH_CLASS}--focused`;\r\nconst CALENDAR_MONTH_SELECTED_CLASS = `${CALENDAR_MONTH_CLASS}--selected`;\r\nconst CALENDAR_YEAR_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__year`;\r\nconst CALENDAR_YEAR_FOCUSED_CLASS = `${CALENDAR_YEAR_CLASS}--focused`;\r\nconst CALENDAR_YEAR_SELECTED_CLASS = `${CALENDAR_YEAR_CLASS}--selected`;\r\nconst CALENDAR_PREVIOUS_YEAR_CHUNK_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__previous-year-chunk`;\r\nconst CALENDAR_NEXT_YEAR_CHUNK_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__next-year-chunk`;\r\nconst CALENDAR_DATE_PICKER_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__date-picker`;\r\nconst CALENDAR_MONTH_PICKER_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__month-picker`;\r\nconst CALENDAR_YEAR_PICKER_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__year-picker`;\r\nconst CALENDAR_TABLE_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__table`;\r\nconst CALENDAR_ROW_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__row`;\r\nconst CALENDAR_CELL_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__cell`;\r\nconst CALENDAR_CELL_CENTER_ITEMS_CLASS = `${CALENDAR_CELL_CLASS}--center-items`;\r\nconst CALENDAR_MONTH_LABEL_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__month-label`;\r\nconst CALENDAR_DAY_OF_WEEK_CLASS = `${DATE_PICKER_CALENDAR_CLASS}__day-of-week`;\r\n\r\nconst DATE_PICKER = `.${DATE_PICKER_CLASS}`;\r\nconst DATE_PICKER_BUTTON = `.${DATE_PICKER_BUTTON_CLASS}`;\r\nconst DATE_PICKER_INTERNAL_INPUT = `.${DATE_PICKER_INTERNAL_INPUT_CLASS}`;\r\nconst DATE_PICKER_EXTERNAL_INPUT = `.${DATE_PICKER_EXTERNAL_INPUT_CLASS}`;\r\nconst DATE_PICKER_CALENDAR = `.${DATE_PICKER_CALENDAR_CLASS}`;\r\nconst DATE_PICKER_STATUS = `.${DATE_PICKER_STATUS_CLASS}`;\r\nconst DATE_PICKER_GUIDE = `.${DATE_PICKER_GUIDE_CLASS}`;\r\nconst CALENDAR_DATE = `.${CALENDAR_DATE_CLASS}`;\r\nconst CALENDAR_DATE_FOCUSED = `.${CALENDAR_DATE_FOCUSED_CLASS}`;\r\nconst CALENDAR_DATE_CURRENT_MONTH = `.${CALENDAR_DATE_CURRENT_MONTH_CLASS}`;\r\nconst CALENDAR_PREVIOUS_YEAR = `.${CALENDAR_PREVIOUS_YEAR_CLASS}`;\r\nconst CALENDAR_PREVIOUS_MONTH = `.${CALENDAR_PREVIOUS_MONTH_CLASS}`;\r\nconst CALENDAR_NEXT_YEAR = `.${CALENDAR_NEXT_YEAR_CLASS}`;\r\nconst CALENDAR_NEXT_MONTH = `.${CALENDAR_NEXT_MONTH_CLASS}`;\r\nconst CALENDAR_YEAR_SELECTION = `.${CALENDAR_YEAR_SELECTION_CLASS}`;\r\nconst CALENDAR_MONTH_SELECTION = `.${CALENDAR_MONTH_SELECTION_CLASS}`;\r\nconst CALENDAR_MONTH = `.${CALENDAR_MONTH_CLASS}`;\r\nconst CALENDAR_YEAR = `.${CALENDAR_YEAR_CLASS}`;\r\nconst CALENDAR_PREVIOUS_YEAR_CHUNK = `.${CALENDAR_PREVIOUS_YEAR_CHUNK_CLASS}`;\r\nconst CALENDAR_NEXT_YEAR_CHUNK = `.${CALENDAR_NEXT_YEAR_CHUNK_CLASS}`;\r\nconst CALENDAR_DATE_PICKER = `.${CALENDAR_DATE_PICKER_CLASS}`;\r\nconst CALENDAR_MONTH_PICKER = `.${CALENDAR_MONTH_PICKER_CLASS}`;\r\nconst CALENDAR_YEAR_PICKER = `.${CALENDAR_YEAR_PICKER_CLASS}`;\r\nconst CALENDAR_MONTH_FOCUSED = `.${CALENDAR_MONTH_FOCUSED_CLASS}`;\r\nconst CALENDAR_YEAR_FOCUSED = `.${CALENDAR_YEAR_FOCUSED_CLASS}`;\r\n\r\nlet text = {\r\n  \"open_calendar\": \"bn kalender\",\r\n  \"choose_a_date\": \"Vlg en dato\",\r\n  \"choose_a_date_between\": \"Vlg en dato mellem {minDay}. {minMonthStr} {minYear} og {maxDay}. {maxMonthStr} {maxYear}\",\r\n  \"choose_a_date_before\": \"Vlg en dato. Der kan vlges indtil {maxDay}. {maxMonthStr} {maxYear}.\",\r\n  \"choose_a_date_after\": \"Vlg en dato. Der kan vlges fra {minDay}. {minMonthStr} {minYear} og fremad.\",\r\n  \"aria_label_date\": \"{dayStr} den {day}. {monthStr} {year}\",\r\n  \"current_month_displayed\": \"Viser {monthLabel} {focusedYear}\",\r\n  \"first_possible_date\": \"Frste valgbare dato\",\r\n  \"last_possible_date\": \"Sidste valgbare dato\",\r\n  \"previous_year\": \"Navigr t r tilbage\",\r\n  \"previous_month\": \"Navigr n mned tilbage\",\r\n  \"next_month\": \"Navigr n mned frem\",\r\n  \"next_year\": \"Navigr t r frem\",\r\n  \"select_month\": \"Vlg mned\",\r\n  \"select_year\": \"Vlg r\",\r\n  \"previous_years\": \"Navigr {years} r tilbage\",\r\n  \"next_years\": \"Navigr {years} r frem\",\r\n  \"guide\": \"Navigerer du med tastatur, kan du skifte dag med hjre og venstre piletaster, uger med op og ned piletaster, mneder med page up og page down-tasterne og r med shift-tasten plus page up eller page down. Home og end-tasten navigerer til start eller slutning af en uge.\",\r\n  \"months_displayed\": \"Vlg en mned\",\r\n  \"years_displayed\": \"Viser r {start} til {end}. Vlg et r.\",\r\n  \"january\": \"januar\",\r\n  \"february\": \"februar\",\r\n  \"march\": \"marts\",\r\n  \"april\": \"april\",\r\n  \"may\": \"maj\",\r\n  \"june\": \"juni\",\r\n  \"july\": \"juli\",\r\n  \"august\": \"august\",\r\n  \"september\": \"september\",\r\n  \"october\": \"oktober\",\r\n  \"november\": \"november\",\r\n  \"december\": \"december\",\r\n  \"monday\": \"mandag\",\r\n  \"tuesday\": \"tirsdag\",\r\n  \"wednesday\": \"onsdag\",\r\n  \"thursday\": \"torsdag\",\r\n  \"friday\": \"fredag\",\r\n  \"saturday\": \"lrdag\",\r\n  \"sunday\": \"sndag\"\r\n}\r\n\r\nconst VALIDATION_MESSAGE = \"Indtast venligst en gyldig dato\";\r\n\r\nlet MONTH_LABELS = [\r\n  text.january,\r\n  text.february,\r\n  text.march,\r\n  text.april,\r\n  text.may,\r\n  text.june,\r\n  text.july,\r\n  text.august,\r\n  text.september,\r\n  text.october,\r\n  text.november,\r\n  text.december\r\n];\r\n\r\nlet DAY_OF_WEEK_LABELS = [\r\n  text.monday,\r\n  text.tuesday,\r\n  text.wednesday,\r\n  text.thursday,\r\n  text.friday,\r\n  text.saturday,\r\n  text.sunday\r\n];\r\n\r\nconst ENTER_KEYCODE = 13;\r\n\r\nconst YEAR_CHUNK = 12;\r\n\r\nconst DEFAULT_MIN_DATE = \"0000-01-01\";\r\nconst DATE_FORMAT_OPTION_1 = \"DD/MM/YYYY\";\r\nconst DATE_FORMAT_OPTION_2 = \"DD-MM-YYYY\";\r\nconst DATE_FORMAT_OPTION_3 = \"DD.MM.YYYY\";\r\nconst DATE_FORMAT_OPTION_4 = \"DD MM YYYY\";\r\nconst DATE_FORMAT_OPTION_5 = \"DD/MM-YYYY\";\r\nconst INTERNAL_DATE_FORMAT = \"YYYY-MM-DD\";\r\n\r\nconst NOT_DISABLED_SELECTOR = \":not([disabled])\";\r\n\r\nconst processFocusableSelectors = (...selectors) =>\r\n  selectors.map((query) => query + NOT_DISABLED_SELECTOR).join(\", \");\r\n\r\nconst DATE_PICKER_FOCUSABLE = processFocusableSelectors(\r\n  CALENDAR_PREVIOUS_YEAR,\r\n  CALENDAR_PREVIOUS_MONTH,\r\n  CALENDAR_YEAR_SELECTION,\r\n  CALENDAR_MONTH_SELECTION,\r\n  CALENDAR_NEXT_YEAR,\r\n  CALENDAR_NEXT_MONTH,\r\n  CALENDAR_DATE_FOCUSED\r\n);\r\n\r\nconst MONTH_PICKER_FOCUSABLE = processFocusableSelectors(\r\n  CALENDAR_MONTH_FOCUSED\r\n);\r\n\r\nconst YEAR_PICKER_FOCUSABLE = processFocusableSelectors(\r\n  CALENDAR_PREVIOUS_YEAR_CHUNK,\r\n  CALENDAR_NEXT_YEAR_CHUNK,\r\n  CALENDAR_YEAR_FOCUSED\r\n);\r\n\r\n// #region Date Manipulation Functions\r\n\r\n/**\r\n * Keep date within month. Month would only be over by 1 to 3 days\r\n *\r\n * @param {Date} dateToCheck the date object to check\r\n * @param {number} month the correct month\r\n * @returns {Date} the date, corrected if needed\r\n */\r\nconst keepDateWithinMonth = (dateToCheck, month) => {\r\n  if (month !== dateToCheck.getMonth()) {\r\n    dateToCheck.setDate(0);\r\n  }\r\n\r\n  return dateToCheck;\r\n};\r\n\r\n/**\r\n * Set date from month day year\r\n *\r\n * @param {number} year the year to set\r\n * @param {number} month the month to set (zero-indexed)\r\n * @param {number} date the date to set\r\n * @returns {Date} the set date\r\n */\r\nconst setDate = (year, month, date) => {\r\n  const newDate = new Date(0);\r\n  newDate.setFullYear(year, month, date);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * todays date\r\n *\r\n * @returns {Date} todays date\r\n */\r\nconst today = () => {\r\n  const newDate = new Date();\r\n  const day = newDate.getDate();\r\n  const month = newDate.getMonth();\r\n  const year = newDate.getFullYear();\r\n  return setDate(year, month, day);\r\n};\r\n\r\n/**\r\n * Set date to first day of the month\r\n *\r\n * @param {number} date the date to adjust\r\n * @returns {Date} the adjusted date\r\n */\r\nconst startOfMonth = (date) => {\r\n  const newDate = new Date(0);\r\n  newDate.setFullYear(date.getFullYear(), date.getMonth(), 1);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Set date to last day of the month\r\n *\r\n * @param {number} date the date to adjust\r\n * @returns {Date} the adjusted date\r\n */\r\nconst lastDayOfMonth = (date) => {\r\n  const newDate = new Date(0);\r\n  newDate.setFullYear(date.getFullYear(), date.getMonth() + 1, 0);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Add days to date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numDays the difference in days\r\n * @returns {Date} the adjusted date\r\n */\r\nconst addDays = (_date, numDays) => {\r\n  const newDate = new Date(_date.getTime());\r\n  newDate.setDate(newDate.getDate() + numDays);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Subtract days from date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numDays the difference in days\r\n * @returns {Date} the adjusted date\r\n */\r\nconst subDays = (_date, numDays) => addDays(_date, -numDays);\r\n\r\n/**\r\n * Add weeks to date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numWeeks the difference in weeks\r\n * @returns {Date} the adjusted date\r\n */\r\nconst addWeeks = (_date, numWeeks) => addDays(_date, numWeeks * 7);\r\n\r\n/**\r\n * Subtract weeks from date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numWeeks the difference in weeks\r\n * @returns {Date} the adjusted date\r\n */\r\nconst subWeeks = (_date, numWeeks) => addWeeks(_date, -numWeeks);\r\n\r\n/**\r\n * Set date to the start of the week (Monday)\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @returns {Date} the adjusted date\r\n */\r\nconst startOfWeek = (_date) => {\r\n  let dayOfWeek = _date.getDay()-1;\r\n  if(dayOfWeek === -1){\r\n    dayOfWeek = 6;\r\n  }\r\n  return subDays(_date, dayOfWeek);\r\n};\r\n\r\n/**\r\n * Set date to the end of the week (Sunday)\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numWeeks the difference in weeks\r\n * @returns {Date} the adjusted date\r\n */\r\nconst endOfWeek = (_date) => {\r\n  const dayOfWeek = _date.getDay();\r\n  return addDays(_date, 7 - dayOfWeek);\r\n};\r\n\r\n/**\r\n * Add months to date and keep date within month\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numMonths the difference in months\r\n * @returns {Date} the adjusted date\r\n */\r\nconst addMonths = (_date, numMonths) => {\r\n  const newDate = new Date(_date.getTime());\r\n\r\n  const dateMonth = (newDate.getMonth() + 12 + numMonths) % 12;\r\n  newDate.setMonth(newDate.getMonth() + numMonths);\r\n  keepDateWithinMonth(newDate, dateMonth);\r\n\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Subtract months from date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numMonths the difference in months\r\n * @returns {Date} the adjusted date\r\n */\r\nconst subMonths = (_date, numMonths) => addMonths(_date, -numMonths);\r\n\r\n/**\r\n * Add years to date and keep date within month\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numYears the difference in years\r\n * @returns {Date} the adjusted date\r\n */\r\nconst addYears = (_date, numYears) => addMonths(_date, numYears * 12);\r\n\r\n/**\r\n * Subtract years from date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} numYears the difference in years\r\n * @returns {Date} the adjusted date\r\n */\r\nconst subYears = (_date, numYears) => addYears(_date, -numYears);\r\n\r\n/**\r\n * Set months of date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} month zero-indexed month to set\r\n * @returns {Date} the adjusted date\r\n */\r\nconst setMonth = (_date, month) => {\r\n  const newDate = new Date(_date.getTime());\r\n\r\n  newDate.setMonth(month);\r\n  keepDateWithinMonth(newDate, month);\r\n\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Set year of date\r\n *\r\n * @param {Date} _date the date to adjust\r\n * @param {number} year the year to set\r\n * @returns {Date} the adjusted date\r\n */\r\nconst setYear = (_date, year) => {\r\n  const newDate = new Date(_date.getTime());\r\n\r\n  const month = newDate.getMonth();\r\n  newDate.setFullYear(year);\r\n  keepDateWithinMonth(newDate, month);\r\n\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * Return the earliest date\r\n *\r\n * @param {Date} dateA date to compare\r\n * @param {Date} dateB date to compare\r\n * @returns {Date} the earliest date\r\n */\r\nconst min = (dateA, dateB) => {\r\n  let newDate = dateA;\r\n\r\n  if (dateB < dateA) {\r\n    newDate = dateB;\r\n  }\r\n\r\n  return new Date(newDate.getTime());\r\n};\r\n\r\n/**\r\n * Return the latest date\r\n *\r\n * @param {Date} dateA date to compare\r\n * @param {Date} dateB date to compare\r\n * @returns {Date} the latest date\r\n */\r\nconst max = (dateA, dateB) => {\r\n  let newDate = dateA;\r\n\r\n  if (dateB > dateA) {\r\n    newDate = dateB;\r\n  }\r\n\r\n  return new Date(newDate.getTime());\r\n};\r\n\r\n/**\r\n * Check if dates are the in the same year\r\n *\r\n * @param {Date} dateA date to compare\r\n * @param {Date} dateB date to compare\r\n * @returns {boolean} are dates in the same year\r\n */\r\nconst isSameYear = (dateA, dateB) => {\r\n  return dateA && dateB && dateA.getFullYear() === dateB.getFullYear();\r\n};\r\n\r\n/**\r\n * Check if dates are the in the same month\r\n *\r\n * @param {Date} dateA date to compare\r\n * @param {Date} dateB date to compare\r\n * @returns {boolean} are dates in the same month\r\n */\r\nconst isSameMonth = (dateA, dateB) => {\r\n  return isSameYear(dateA, dateB) && dateA.getMonth() === dateB.getMonth();\r\n};\r\n\r\n/**\r\n * Check if dates are the same date\r\n *\r\n * @param {Date} dateA the date to compare\r\n * @param {Date} dateB the date to compare\r\n * @returns {boolean} are dates the same date\r\n */\r\nconst isSameDay = (dateA, dateB) => {\r\n  return isSameMonth(dateA, dateB) && dateA.getDate() === dateB.getDate();\r\n};\r\n\r\n/**\r\n * return a new date within minimum and maximum date\r\n *\r\n * @param {Date} date date to check\r\n * @param {Date} minDate minimum date to allow\r\n * @param {Date} maxDate maximum date to allow\r\n * @returns {Date} the date between min and max\r\n */\r\nconst keepDateBetweenMinAndMax = (date, minDate, maxDate) => {\r\n  let newDate = date;\r\n\r\n  if (date < minDate) {\r\n    newDate = minDate;\r\n  } else if (maxDate && date > maxDate) {\r\n    newDate = maxDate;\r\n  }\r\n\r\n  return new Date(newDate.getTime());\r\n};\r\n\r\n/**\r\n * Check if dates is valid.\r\n *\r\n * @param {Date} date date to check\r\n * @param {Date} minDate minimum date to allow\r\n * @param {Date} maxDate maximum date to allow\r\n * @return {boolean} is there a day within the month within min and max dates\r\n */\r\nconst isDateWithinMinAndMax = (date, minDate, maxDate) =>\r\n  date >= minDate && (!maxDate || date <= maxDate);\r\n\r\n/**\r\n * Check if dates month is invalid.\r\n *\r\n * @param {Date} date date to check\r\n * @param {Date} minDate minimum date to allow\r\n * @param {Date} maxDate maximum date to allow\r\n * @return {boolean} is the month outside min or max dates\r\n */\r\nconst isDatesMonthOutsideMinOrMax = (date, minDate, maxDate) => {\r\n  return (\r\n    lastDayOfMonth(date) < minDate || (maxDate && startOfMonth(date) > maxDate)\r\n  );\r\n};\r\n\r\n/**\r\n * Check if dates year is invalid.\r\n *\r\n * @param {Date} date date to check\r\n * @param {Date} minDate minimum date to allow\r\n * @param {Date} maxDate maximum date to allow\r\n * @return {boolean} is the month outside min or max dates\r\n */\r\nconst isDatesYearOutsideMinOrMax = (date, minDate, maxDate) => {\r\n  return (\r\n    lastDayOfMonth(setMonth(date, 11)) < minDate ||\r\n    (maxDate && startOfMonth(setMonth(date, 0)) > maxDate)\r\n  );\r\n};\r\n\r\n/**\r\n * Parse a date with format D-M-YY\r\n *\r\n * @param {string} dateString the date string to parse\r\n * @param {string} dateFormat the format of the date string\r\n * @param {boolean} adjustDate should the date be adjusted\r\n * @returns {Date} the parsed date\r\n */\r\nconst parseDateString = (\r\n  dateString,\r\n  dateFormat = INTERNAL_DATE_FORMAT,\r\n  adjustDate = false\r\n) => {\r\n  let date;\r\n  let month;\r\n  let day;\r\n  let year;\r\n  let parsed;\r\n  \r\n  if (dateString) {\r\n    let monthStr, dayStr, yearStr;\r\n    if (dateFormat === DATE_FORMAT_OPTION_1 || dateFormat === DATE_FORMAT_OPTION_2 || dateFormat === DATE_FORMAT_OPTION_3 || dateFormat === DATE_FORMAT_OPTION_4 || dateFormat === DATE_FORMAT_OPTION_5) {\r\n      [dayStr, monthStr, yearStr] = dateString.split(/-|\\.|\\/|\\s/);\r\n    } else {\r\n      [yearStr, monthStr, dayStr] = dateString.split(\"-\");\r\n    }\r\n\r\n    if (yearStr) {\r\n      parsed = parseInt(yearStr, 10);\r\n      if (!Number.isNaN(parsed)) {\r\n        year = parsed;\r\n        if (adjustDate) {\r\n          year = Math.max(0, year);\r\n          if (yearStr.length < 3) {\r\n            const currentYear = today().getFullYear();\r\n            const currentYearStub =\r\n              currentYear - (currentYear % Math.pow(10, yearStr.length));\r\n            year = currentYearStub + parsed;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (monthStr) {\r\n      parsed = parseInt(monthStr, 10);\r\n      if (!Number.isNaN(parsed)) {\r\n        month = parsed;\r\n        if (adjustDate) {\r\n          month = Math.max(1, month);\r\n          month = Math.min(12, month);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (month && dayStr && year != null) {\r\n      parsed = parseInt(dayStr, 10);\r\n      if (!Number.isNaN(parsed)) {\r\n        day = parsed;\r\n        if (adjustDate) {\r\n          const lastDayOfTheMonth = setDate(year, month, 0).getDate();\r\n          day = Math.max(1, day);\r\n          day = Math.min(lastDayOfTheMonth, day);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (month && day && year != null) {\r\n      date = setDate(year, month - 1, day);\r\n    }\r\n  }\r\n\r\n  return date;\r\n};\r\n\r\n/**\r\n * Format a date to format DD-MM-YYYY\r\n *\r\n * @param {Date} date the date to format\r\n * @param {string} dateFormat the format of the date string\r\n * @returns {string} the formatted date string\r\n */\r\nconst formatDate = (date, dateFormat = INTERNAL_DATE_FORMAT) => {\r\n  const padZeros = (value, length) => {\r\n    return `0000${value}`.slice(-length);\r\n  };\r\n\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  const year = date.getFullYear();\r\n\r\n  if (dateFormat === DATE_FORMAT_OPTION_1) {\r\n    return [padZeros(day, 2), padZeros(month, 2), padZeros(year, 4)].join(\"/\");\r\n  }\r\n  else if (dateFormat === DATE_FORMAT_OPTION_2) {\r\n    return [padZeros(day, 2), padZeros(month, 2), padZeros(year, 4)].join(\"-\");\r\n  }\r\n  else if (dateFormat === DATE_FORMAT_OPTION_3) {\r\n    return [padZeros(day, 2), padZeros(month, 2), padZeros(year, 4)].join(\".\");\r\n  }\r\n  else if (dateFormat === DATE_FORMAT_OPTION_4) {\r\n    return [padZeros(day, 2), padZeros(month, 2), padZeros(year, 4)].join(\" \");\r\n  }\r\n  else if (dateFormat === DATE_FORMAT_OPTION_5) {\r\n    let tempDayMonth = [padZeros(day, 2), padZeros(month, 2)].join(\"/\");\r\n    return [tempDayMonth, padZeros(year, 4)].join(\"-\");\r\n  }\r\n\r\n  return [padZeros(year, 4), padZeros(month, 2), padZeros(day, 2)].join(\"-\");\r\n};\r\n\r\n// #endregion Date Manipulation Functions\r\n\r\n/**\r\n * Create a grid string from an array of html strings\r\n *\r\n * @param {string[]} htmlArray the array of html items\r\n * @param {number} rowSize the length of a row\r\n * @returns {string} the grid string\r\n */\r\nconst listToGridHtml = (htmlArray, rowSize) => {\r\n  const grid = [];\r\n  let row = [];\r\n\r\n  let i = 0;\r\n  while (i < htmlArray.length) {\r\n    row = [];\r\n    while (i < htmlArray.length && row.length < rowSize) {\r\n      row.push(`<td>${htmlArray[i]}</td>`);\r\n      i += 1;\r\n    }\r\n    grid.push(`<tr>${row.join(\"\")}</tr>`);\r\n  }\r\n\r\n  return grid.join(\"\");\r\n};\r\n\r\n/**\r\n * set the value of the element and dispatch a change event\r\n *\r\n * @param {HTMLInputElement} el The element to update\r\n * @param {string} value The new value of the element\r\n */\r\nconst changeElementValue = (el, value = \"\") => {\r\n  const elementToChange = el;\r\n  elementToChange.value = value;\r\n\r\n\r\n  var event = new Event('change');\r\n  elementToChange.dispatchEvent(event);\r\n};\r\n\r\n/**\r\n * The properties and elements within the date picker.\r\n * @typedef {Object} DatePickerContext\r\n * @property {HTMLDivElement} calendarEl\r\n * @property {HTMLElement} datePickerEl\r\n * @property {HTMLDivElement} dialogEl\r\n * @property {HTMLInputElement} internalInputEl\r\n * @property {HTMLInputElement} externalInputEl\r\n * @property {HTMLDivElement} statusEl\r\n * @property {HTMLDivElement} guideEl\r\n * @property {HTMLDivElement} firstYearChunkEl\r\n * @property {Date} calendarDate\r\n * @property {Date} minDate\r\n * @property {Date} maxDate\r\n * @property {Date} selectedDate\r\n * @property {Date} rangeDate\r\n * @property {Date} defaultDate\r\n */\r\n\r\n/**\r\n * Get an object of the properties and elements belonging directly to the given\r\n * date picker component.\r\n *\r\n * @param {HTMLElement} el the element within the date picker\r\n * @returns {DatePickerContext} elements\r\n */\r\nconst getDatePickerContext = (el) => {\r\n  const datePickerEl = el.closest(DATE_PICKER);\r\n\r\n  if (!datePickerEl) {\r\n    throw new Error(`Element is missing outer ${DATE_PICKER}`);\r\n  }\r\n\r\n  const internalInputEl = datePickerEl.querySelector(\r\n    DATE_PICKER_INTERNAL_INPUT\r\n  );\r\n  const externalInputEl = datePickerEl.querySelector(\r\n    DATE_PICKER_EXTERNAL_INPUT\r\n  );\r\n  const calendarEl = datePickerEl.querySelector(DATE_PICKER_CALENDAR);\r\n  const toggleBtnEl = datePickerEl.querySelector(DATE_PICKER_BUTTON);\r\n  const statusEl = datePickerEl.querySelector(DATE_PICKER_STATUS);\r\n  const guideEl = datePickerEl.querySelector(DATE_PICKER_GUIDE);\r\n  const firstYearChunkEl = datePickerEl.querySelector(CALENDAR_YEAR);\r\n  const dialogEl = datePickerEl.querySelector(DATE_PICKER_DIALOG_WRAPPER);\r\n\r\n  // Set date format\r\n  let selectedDateFormat = DATE_FORMAT_OPTION_1;\r\n  if (datePickerEl.hasAttribute(\"data-dateformat\")) {\r\n    switch (datePickerEl.dataset.dateformat) {\r\n      case DATE_FORMAT_OPTION_1:\r\n        selectedDateFormat = DATE_FORMAT_OPTION_1;\r\n        break;\r\n      case DATE_FORMAT_OPTION_2:\r\n        selectedDateFormat = DATE_FORMAT_OPTION_2;\r\n        break;\r\n      case DATE_FORMAT_OPTION_3:\r\n        selectedDateFormat = DATE_FORMAT_OPTION_3;\r\n        break;\r\n      case DATE_FORMAT_OPTION_4:\r\n        selectedDateFormat = DATE_FORMAT_OPTION_4;\r\n        break;\r\n      case DATE_FORMAT_OPTION_5:\r\n        selectedDateFormat = DATE_FORMAT_OPTION_5;\r\n    }\r\n  }\r\n  const dateFormatOption = selectedDateFormat; \r\n\r\n  const inputDate = parseDateString(\r\n    externalInputEl.value,\r\n    dateFormatOption,\r\n    true\r\n  );\r\n  const selectedDate = parseDateString(internalInputEl.value);\r\n\r\n  const calendarDate = parseDateString(calendarEl.dataset.value);\r\n  const minDate = parseDateString(datePickerEl.dataset.minDate);\r\n  const maxDate = parseDateString(datePickerEl.dataset.maxDate);\r\n  const rangeDate = parseDateString(datePickerEl.dataset.rangeDate);\r\n  const defaultDate = parseDateString(datePickerEl.dataset.defaultDate);\r\n\r\n  if (minDate && maxDate && minDate > maxDate) {\r\n    throw new Error(\"Minimum date cannot be after maximum date\");\r\n  }\r\n\r\n  return {\r\n    calendarDate,\r\n    minDate,\r\n    toggleBtnEl,\r\n    dialogEl,\r\n    selectedDate,\r\n    maxDate,\r\n    firstYearChunkEl,\r\n    datePickerEl,\r\n    inputDate,\r\n    internalInputEl,\r\n    externalInputEl,\r\n    calendarEl,\r\n    rangeDate,\r\n    defaultDate,\r\n    statusEl,\r\n    guideEl,\r\n    dateFormatOption\r\n  };\r\n};\r\n\r\n/**\r\n * Disable the date picker component\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst disable = (el) => {\r\n  const { externalInputEl, toggleBtnEl } = getDatePickerContext(el);\r\n\r\n  toggleBtnEl.disabled = true;\r\n  externalInputEl.disabled = true;\r\n};\r\n\r\n/**\r\n * Enable the date picker component\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst enable = (el) => {\r\n  const { externalInputEl, toggleBtnEl } = getDatePickerContext(el);\r\n\r\n  toggleBtnEl.disabled = false;\r\n  externalInputEl.disabled = false;\r\n};\r\n\r\n// #region Validation\r\n\r\n/**\r\n * Validate the value in the input as a valid date of format D/M/YYYY\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst isDateInputInvalid = (el) => {\r\n  const { externalInputEl, minDate, maxDate } = getDatePickerContext(el);\r\n\r\n  const dateString = externalInputEl.value;\r\n  let isInvalid = false;\r\n\r\n  if (dateString) {\r\n    isInvalid = true;\r\n\r\n    const dateStringParts = dateString.split(/-|\\.|\\/|\\s/);\r\n    const [day, month, year] = dateStringParts.map((str) => {\r\n      let value;\r\n      const parsed = parseInt(str, 10);\r\n      if (!Number.isNaN(parsed)) value = parsed;\r\n      return value;\r\n    });\r\n\r\n    if (month && day && year != null) {\r\n      const checkDate = setDate(year, month - 1, day);\r\n\r\n      if (\r\n        checkDate.getMonth() === month - 1 &&\r\n        checkDate.getDate() === day &&\r\n        checkDate.getFullYear() === year &&\r\n        dateStringParts[2].length === 4 &&\r\n        isDateWithinMinAndMax(checkDate, minDate, maxDate)\r\n      ) {\r\n        isInvalid = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return isInvalid;\r\n};\r\n\r\n/**\r\n * Validate the value in the input as a valid date of format M/D/YYYY\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst validateDateInput = (el) => {\r\n  const { externalInputEl } = getDatePickerContext(el);\r\n  const isInvalid = isDateInputInvalid(externalInputEl);\r\n\r\n  if (isInvalid && !externalInputEl.validationMessage) {\r\n    externalInputEl.setCustomValidity(VALIDATION_MESSAGE);\r\n  }\r\n\r\n  if (!isInvalid && externalInputEl.validationMessage === VALIDATION_MESSAGE) {\r\n    externalInputEl.setCustomValidity(\"\");\r\n  }\r\n};\r\n\r\n// #endregion Validation\r\n\r\n/**\r\n * Enable the date picker component\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst reconcileInputValues = (el) => {\r\n  const { internalInputEl, inputDate } = getDatePickerContext(el);\r\n  let newValue = \"\";\r\n\r\n  if (inputDate && !isDateInputInvalid(el)) {\r\n    newValue = formatDate(inputDate);\r\n  }\r\n\r\n  if (internalInputEl.value !== newValue) {\r\n    changeElementValue(internalInputEl, newValue);\r\n  }\r\n};\r\n\r\n/**\r\n * Select the value of the date picker inputs.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n * @param {string} dateString The date string to update in YYYY-MM-DD format\r\n */\r\nconst setCalendarValue = (el, dateString) => {\r\n  const parsedDate = parseDateString(dateString);\r\n\r\n  if (parsedDate) {\r\n    \r\n    const {\r\n      datePickerEl,\r\n      internalInputEl,\r\n      externalInputEl,\r\n      dateFormatOption\r\n    } = getDatePickerContext(el);\r\n\r\n    const formattedDate = formatDate(parsedDate, dateFormatOption);\r\n\r\n    changeElementValue(internalInputEl, dateString);\r\n    changeElementValue(externalInputEl, formattedDate);\r\n\r\n    validateDateInput(datePickerEl);\r\n  }\r\n};\r\n\r\n/**\r\n * Enhance an input with the date picker elements\r\n *\r\n * @param {HTMLElement} el The initial wrapping element of the date picker component\r\n */\r\nconst enhanceDatePicker = (el) => {\r\n  const datePickerEl = el.closest(DATE_PICKER);\r\n  const defaultValue = datePickerEl.dataset.defaultValue;\r\n\r\n  const internalInputEl = datePickerEl.querySelector(`input`);\r\n\r\n  if (!internalInputEl) {\r\n    throw new Error(`${DATE_PICKER} is missing inner input`);\r\n  }\r\n\r\n  const minDate = parseDateString(\r\n    datePickerEl.dataset.minDate || internalInputEl.getAttribute(\"min\")\r\n  );\r\n  datePickerEl.dataset.minDate = minDate\r\n    ? formatDate(minDate)\r\n    : DEFAULT_MIN_DATE;\r\n\r\n  const maxDate = parseDateString(\r\n    datePickerEl.dataset.maxDate || internalInputEl.getAttribute(\"max\")\r\n  );\r\n  if (maxDate) {\r\n    datePickerEl.dataset.maxDate = formatDate(maxDate);\r\n  }\r\n\r\n  const calendarWrapper = document.createElement(\"div\");\r\n  calendarWrapper.classList.add(DATE_PICKER_WRAPPER_CLASS);\r\n  calendarWrapper.tabIndex = \"-1\";\r\n\r\n  const externalInputEl = internalInputEl.cloneNode();\r\n  externalInputEl.classList.add(DATE_PICKER_EXTERNAL_INPUT_CLASS);\r\n  externalInputEl.type = \"text\";\r\n  externalInputEl.name = \"\";\r\n\r\n  let dialogTitle = text.choose_a_date;\r\n  const hasMinDate = minDate !== undefined && minDate !== \"\";\r\n  const isDefaultMinDate =  minDate !== undefined && minDate !== \"\" && parseDateString(DEFAULT_MIN_DATE).getTime() === minDate.getTime();\r\n  const hasMaxDate = maxDate !== undefined && maxDate !== \"\";\r\n  \r\n  if (hasMinDate && !isDefaultMinDate && hasMaxDate) {\r\n    const minDay = minDate.getDate();\r\n    const minMonth = minDate.getMonth();\r\n    const minMonthStr = MONTH_LABELS[minMonth];\r\n    const minYear = minDate.getFullYear();\r\n    const maxDay = maxDate.getDate();\r\n    const maxMonth = maxDate.getMonth();\r\n    const maxMonthStr = MONTH_LABELS[maxMonth];\r\n    const maxYear = maxDate.getFullYear();\r\n    dialogTitle = text.choose_a_date_between.replace(/{minDay}/, minDay).replace(/{minMonthStr}/, minMonthStr).replace(/{minYear}/, minYear).replace(/{maxDay}/, maxDay).replace(/{maxMonthStr}/, maxMonthStr).replace(/{maxYear}/, maxYear);\r\n  }\r\n  else if (hasMinDate && !isDefaultMinDate && !hasMaxDate) {\r\n    const minDay = minDate.getDate();\r\n    const minMonth = minDate.getMonth();\r\n    const minMonthStr = MONTH_LABELS[minMonth];\r\n    const minYear = minDate.getFullYear();\r\n    dialogTitle = text.choose_a_date_after.replace(/{minDay}/, minDay).replace(/{minMonthStr}/, minMonthStr).replace(/{minYear}/, minYear);\r\n  }\r\n  else if (hasMaxDate) {\r\n    const maxDay = maxDate.getDate();\r\n    const maxMonth = maxDate.getMonth();\r\n    const maxMonthStr = MONTH_LABELS[maxMonth];\r\n    const maxYear = maxDate.getFullYear();\r\n    dialogTitle = text.choose_a_date_before.replace(/{maxDay}/, maxDay).replace(/{maxMonthStr}/, maxMonthStr).replace(/{maxYear}/, maxYear);\r\n  }\r\n\r\n  const guideID = externalInputEl.getAttribute(\"id\") + \"-guide\";\r\n\r\n  calendarWrapper.appendChild(externalInputEl);\r\n  calendarWrapper.insertAdjacentHTML(\r\n    \"beforeend\",\r\n    [\r\n      `<button type=\"button\" class=\"${DATE_PICKER_BUTTON_CLASS}\" aria-haspopup=\"true\" aria-label=\"${text.open_calendar}\">&nbsp;</button>`,\r\n      `<div class=\"${DIALOG_WRAPPER_CLASS}\" role=\"dialog\" aria-modal=\"true\" aria-label=\"${dialogTitle}\" aria-describedby=\"${guideID}\" hidden><div role=\"application\"><div class=\"${DATE_PICKER_CALENDAR_CLASS}\" hidden></div></div></div>`,\r\n      `<div class=\"sr-only ${DATE_PICKER_STATUS_CLASS}\" role=\"status\" aria-live=\"polite\"></div>`,\r\n      `<div class=\"sr-only ${DATE_PICKER_GUIDE_CLASS}\" id=\"${guideID}\" hidden>${text.guide}</div>`\r\n    ].join(\"\")\r\n  );\r\n\r\n  internalInputEl.setAttribute(\"aria-hidden\", \"true\");\r\n  internalInputEl.setAttribute(\"tabindex\", \"-1\");\r\n  internalInputEl.classList.add(\r\n    \"sr-only\",\r\n    DATE_PICKER_INTERNAL_INPUT_CLASS\r\n  );\r\n  internalInputEl.removeAttribute('id');\r\n  internalInputEl.required = false;\r\n\r\n  datePickerEl.appendChild(calendarWrapper);\r\n  datePickerEl.classList.add(DATE_PICKER_INITIALIZED_CLASS);\r\n\r\n  if (defaultValue) {\r\n    setCalendarValue(datePickerEl, defaultValue);\r\n  }\r\n\r\n  if (internalInputEl.disabled) {\r\n    disable(datePickerEl);\r\n    internalInputEl.disabled = false;\r\n  }\r\n  \r\n  if (externalInputEl.value) {\r\n    validateDateInput(externalInputEl);\r\n  }\r\n};\r\n\r\n// #region Calendar - Date Selection View\r\n\r\n/**\r\n * render the calendar.\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n * @param {Date} _dateToDisplay a date to render on the calendar\r\n * @returns {HTMLElement} a reference to the new calendar element\r\n */\r\nconst renderCalendar = (el, _dateToDisplay) => {\r\n  const {\r\n    datePickerEl,\r\n    calendarEl,\r\n    statusEl,\r\n    selectedDate,\r\n    maxDate,\r\n    minDate,\r\n    rangeDate,\r\n    dialogEl,\r\n    guideEl\r\n  } = getDatePickerContext(el);\r\n  const todaysDate = today();\r\n  let dateToDisplay = _dateToDisplay || todaysDate;\r\n\r\n  const calendarWasHidden = calendarEl.hidden;\r\n\r\n  const focusedDate = addDays(dateToDisplay, 0);\r\n  const focusedMonth = dateToDisplay.getMonth();\r\n  const focusedYear = dateToDisplay.getFullYear();\r\n\r\n  const prevMonth = subMonths(dateToDisplay, 1);\r\n  const nextMonth = addMonths(dateToDisplay, 1);\r\n\r\n  const currentFormattedDate = formatDate(dateToDisplay);\r\n\r\n  const firstOfMonth = startOfMonth(dateToDisplay);\r\n  const prevButtonsDisabled = isSameMonth(dateToDisplay, minDate);\r\n  const nextButtonsDisabled = isSameMonth(dateToDisplay, maxDate);\r\n\r\n  const rangeConclusionDate = selectedDate || dateToDisplay;\r\n  const rangeStartDate = rangeDate && min(rangeConclusionDate, rangeDate);\r\n  const rangeEndDate = rangeDate && max(rangeConclusionDate, rangeDate);\r\n\r\n  const withinRangeStartDate = rangeDate && addDays(rangeStartDate, 1);\r\n  const withinRangeEndDate = rangeDate && subDays(rangeEndDate, 1);\r\n\r\n  const monthLabel = MONTH_LABELS[focusedMonth];\r\n\r\n  const generateDateHtml = (dateToRender) => {\r\n    const classes = [CALENDAR_DATE_CLASS];\r\n    const day = dateToRender.getDate();\r\n    const month = dateToRender.getMonth();\r\n    const year = dateToRender.getFullYear();\r\n    let dayOfWeek = dateToRender.getDay() - 1;\r\n    if (dayOfWeek === -1) {\r\n      dayOfWeek = 6;\r\n    }\r\n\r\n    const formattedDate = formatDate(dateToRender);\r\n\r\n    let tabindex = \"-1\";\r\n\r\n    const isDisabled = !isDateWithinMinAndMax(dateToRender, minDate, maxDate);\r\n    const isSelected = isSameDay(dateToRender, selectedDate);\r\n\r\n    if (isSameMonth(dateToRender, prevMonth)) {\r\n      classes.push(CALENDAR_DATE_PREVIOUS_MONTH_CLASS);\r\n    }\r\n\r\n    if (isSameMonth(dateToRender, focusedDate)) {\r\n      classes.push(CALENDAR_DATE_CURRENT_MONTH_CLASS);\r\n    }\r\n\r\n    if (isSameMonth(dateToRender, nextMonth)) {\r\n      classes.push(CALENDAR_DATE_NEXT_MONTH_CLASS);\r\n    }\r\n\r\n    if (isSelected) {\r\n      classes.push(CALENDAR_DATE_SELECTED_CLASS);\r\n    }\r\n\r\n    if (isSameDay(dateToRender, todaysDate)) {\r\n      classes.push(CALENDAR_DATE_TODAY_CLASS);\r\n    }\r\n\r\n    if (rangeDate) {\r\n      if (isSameDay(dateToRender, rangeDate)) {\r\n        classes.push(CALENDAR_DATE_RANGE_DATE_CLASS);\r\n      }\r\n\r\n      if (isSameDay(dateToRender, rangeStartDate)) {\r\n        classes.push(CALENDAR_DATE_RANGE_DATE_START_CLASS);\r\n      }\r\n\r\n      if (isSameDay(dateToRender, rangeEndDate)) {\r\n        classes.push(CALENDAR_DATE_RANGE_DATE_END_CLASS);\r\n      }\r\n\r\n      if (\r\n        isDateWithinMinAndMax(\r\n          dateToRender,\r\n          withinRangeStartDate,\r\n          withinRangeEndDate\r\n        )\r\n      ) {\r\n        classes.push(CALENDAR_DATE_WITHIN_RANGE_CLASS);\r\n      }\r\n    }\r\n\r\n    if (isSameDay(dateToRender, focusedDate)) {\r\n      tabindex = \"0\";\r\n      classes.push(CALENDAR_DATE_FOCUSED_CLASS);\r\n    }\r\n\r\n    const monthStr = MONTH_LABELS[month];\r\n    const dayStr = DAY_OF_WEEK_LABELS[dayOfWeek];\r\n    const ariaLabelDate = text.aria_label_date.replace(/{dayStr}/, dayStr).replace(/{day}/, day).replace(/{monthStr}/, monthStr).replace(/{year}/, year);\r\n\r\n    return `<button\r\n      type=\"button\"\r\n      tabindex=\"${tabindex}\"\r\n      class=\"${classes.join(\" \")}\" \r\n      data-day=\"${day}\" \r\n      data-month=\"${month + 1}\" \r\n      data-year=\"${year}\" \r\n      data-value=\"${formattedDate}\"\r\n      aria-label=\"${ariaLabelDate}\"\r\n      aria-current=\"${isSelected ? \"date\" : \"false\"}\"\r\n      ${isDisabled ? `disabled=\"disabled\"` : \"\"}\r\n    >${day}</button>`;\r\n  };\r\n  // set date to first rendered day\r\n  dateToDisplay = startOfWeek(firstOfMonth);\r\n\r\n  const days = [];\r\n\r\n  while (\r\n    days.length < 28 ||\r\n    dateToDisplay.getMonth() === focusedMonth ||\r\n    days.length % 7 !== 0\r\n  ) {\r\n    days.push(generateDateHtml(dateToDisplay));\r\n    dateToDisplay = addDays(dateToDisplay, 1);    \r\n  }\r\n  const datesHtml = listToGridHtml(days, 7);\r\n\r\n  const newCalendar = calendarEl.cloneNode();\r\n  newCalendar.dataset.value = currentFormattedDate;\r\n  newCalendar.style.top = `${datePickerEl.offsetHeight}px`;\r\n  newCalendar.hidden = false;\r\n  let content = `<div tabindex=\"-1\" class=\"${CALENDAR_DATE_PICKER_CLASS}\">\r\n      <div class=\"${CALENDAR_ROW_CLASS}\">\r\n        <div class=\"${CALENDAR_CELL_CLASS} ${CALENDAR_CELL_CENTER_ITEMS_CLASS}\">\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_PREVIOUS_YEAR_CLASS}\"\r\n            aria-label=\"${text.previous_year}\"\r\n            ${prevButtonsDisabled ? `disabled=\"disabled\"` : \"\"}\r\n          >&nbsp;</button>\r\n        </div>\r\n        <div class=\"${CALENDAR_CELL_CLASS} ${CALENDAR_CELL_CENTER_ITEMS_CLASS}\">\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_PREVIOUS_MONTH_CLASS}\"\r\n            aria-label=\"${text.previous_month}\"\r\n            ${prevButtonsDisabled ? `disabled=\"disabled\"` : \"\"}\r\n          >&nbsp;</button>\r\n        </div>\r\n        <div class=\"${CALENDAR_CELL_CLASS} ${CALENDAR_MONTH_LABEL_CLASS}\">\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_MONTH_SELECTION_CLASS}\" aria-label=\"${monthLabel}. ${text.select_month}.\"\r\n          >${monthLabel}</button>\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_YEAR_SELECTION_CLASS}\" aria-label=\"${focusedYear}. ${text.select_year}.\"\r\n          >${focusedYear}</button>\r\n        </div>\r\n        <div class=\"${CALENDAR_CELL_CLASS} ${CALENDAR_CELL_CENTER_ITEMS_CLASS}\">\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_NEXT_MONTH_CLASS}\"\r\n            aria-label=\"${text.next_month}\"\r\n            ${nextButtonsDisabled ? `disabled=\"disabled\"` : \"\"}\r\n          >&nbsp;</button>\r\n        </div>\r\n        <div class=\"${CALENDAR_CELL_CLASS} ${CALENDAR_CELL_CENTER_ITEMS_CLASS}\">\r\n          <button \r\n            type=\"button\"\r\n            class=\"${CALENDAR_NEXT_YEAR_CLASS}\"\r\n            aria-label=\"${text.next_year}\"\r\n            ${nextButtonsDisabled ? `disabled=\"disabled\"` : \"\"}\r\n          >&nbsp;</button>\r\n        </div>\r\n      </div>\r\n      <table class=\"${CALENDAR_TABLE_CLASS}\" role=\"presentation\">\r\n        <thead>\r\n          <tr>`;\r\n  for(let d in DAY_OF_WEEK_LABELS){\r\n    content += `<th class=\"${CALENDAR_DAY_OF_WEEK_CLASS}\" scope=\"col\" aria-label=\"${DAY_OF_WEEK_LABELS[d]}\">${DAY_OF_WEEK_LABELS[d].charAt(0)}</th>`;\r\n  }\r\n  content += `</tr>\r\n        </thead>\r\n        <tbody>\r\n          ${datesHtml}\r\n        </tbody>\r\n      </table>\r\n    </div>`;\r\n  newCalendar.innerHTML = content;\r\n  calendarEl.parentNode.replaceChild(newCalendar, calendarEl);\r\n\r\n  datePickerEl.classList.add(DATE_PICKER_ACTIVE_CLASS);\r\n  if (dialogEl.hidden === true) {\r\n    dialogEl.hidden = false;\r\n    if (guideEl.hidden) {\r\n      guideEl.hidden = false;\r\n    }\r\n  }\r\n  \r\n  const statuses = [];\r\n\r\n  if (calendarWasHidden) {\r\n    statusEl.textContent = \"\";\r\n  } \r\n  else if (_dateToDisplay.getTime() === minDate.getTime()) {\r\n    statuses.push(text.first_possible_date);\r\n  }\r\n  else if (maxDate !== undefined && maxDate !== \"\" && _dateToDisplay.getTime() === maxDate.getTime()) {\r\n    statuses.push(text.last_possible_date);\r\n  }\r\n  else {\r\n    statuses.push(text.current_month_displayed.replace(/{monthLabel}/, monthLabel).replace(/{focusedYear}/, focusedYear));\r\n  }\r\n\r\n  statusEl.textContent = statuses.join(\". \");\r\n\r\n  return newCalendar;\r\n};\r\n\r\n/**\r\n * Navigate back one year and display the calendar.\r\n *\r\n * @param {HTMLButtonElement} _buttonEl An element within the date picker component\r\n */\r\nconst displayPreviousYear = (_buttonEl) => {\r\n  if (_buttonEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    _buttonEl\r\n  );\r\n  let date = subYears(calendarDate, 1);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_PREVIOUS_YEAR);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_DATE_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Navigate back one month and display the calendar.\r\n *\r\n * @param {HTMLButtonElement} _buttonEl An element within the date picker component\r\n */\r\nconst displayPreviousMonth = (_buttonEl) => {\r\n  if (_buttonEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    _buttonEl\r\n  );\r\n  let date = subMonths(calendarDate, 1);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_PREVIOUS_MONTH);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_DATE_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Navigate forward one month and display the calendar.\r\n *\r\n * @param {HTMLButtonElement} _buttonEl An element within the date picker component\r\n */\r\nconst displayNextMonth = (_buttonEl) => {\r\n  if (_buttonEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    _buttonEl\r\n  );\r\n  let date = addMonths(calendarDate, 1);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_NEXT_MONTH);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_DATE_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Navigate forward one year and display the calendar.\r\n *\r\n * @param {HTMLButtonElement} _buttonEl An element within the date picker component\r\n */\r\nconst displayNextYear = (_buttonEl) => {\r\n  if (_buttonEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    _buttonEl\r\n  );\r\n  let date = addYears(calendarDate, 1);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_NEXT_YEAR);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_DATE_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Hide the calendar of a date picker component.\r\n *\r\n * @param {HTMLElement} el An element within the date picker component\r\n */\r\nconst hideCalendar = (el) => {\r\n  const { datePickerEl, calendarEl, statusEl } = getDatePickerContext(el);\r\n\r\n  datePickerEl.classList.remove(DATE_PICKER_ACTIVE_CLASS);\r\n  calendarEl.hidden = true;\r\n  statusEl.textContent = \"\";\r\n};\r\n\r\n/**\r\n * Select a date within the date picker component.\r\n *\r\n * @param {HTMLButtonElement} calendarDateEl A date element within the date picker component\r\n */\r\nconst selectDate = (calendarDateEl) => {\r\n  if (calendarDateEl.disabled) return;\r\n\r\n  const { datePickerEl, externalInputEl, dialogEl, guideEl } = getDatePickerContext(\r\n    calendarDateEl\r\n  );\r\n  setCalendarValue(calendarDateEl, calendarDateEl.dataset.value);\r\n  hideCalendar(datePickerEl);\r\n  dialogEl.hidden = true;\r\n  guideEl.hidden = true;\r\n\r\n  externalInputEl.focus();\r\n};\r\n\r\n/**\r\n * Toggle the calendar.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n */\r\nconst toggleCalendar = (el) => {\r\n  if (el.disabled) return;\r\n  const {\r\n    dialogEl,\r\n    calendarEl,\r\n    inputDate,\r\n    minDate,\r\n    maxDate,\r\n    defaultDate,\r\n    guideEl\r\n  } = getDatePickerContext(el);\r\n\r\n  if (calendarEl.hidden) {\r\n    const dateToDisplay = keepDateBetweenMinAndMax(\r\n      inputDate || defaultDate || today(),\r\n      minDate,\r\n      maxDate\r\n    );\r\n    const newCalendar = renderCalendar(calendarEl, dateToDisplay);\r\n    newCalendar.querySelector(CALENDAR_DATE_FOCUSED).focus();\r\n  } else {\r\n    hideCalendar(el);\r\n    dialogEl.hidden = true;\r\n    guideEl.hidden = true;\r\n  }\r\n};\r\n\r\n/**\r\n * Update the calendar when visible.\r\n *\r\n * @param {HTMLElement} el an element within the date picker\r\n */\r\nconst updateCalendarIfVisible = (el) => {\r\n  const { calendarEl, inputDate, minDate, maxDate } = getDatePickerContext(el);\r\n  const calendarShown = !calendarEl.hidden;\r\n\r\n  if (calendarShown && inputDate) {\r\n    const dateToDisplay = keepDateBetweenMinAndMax(inputDate, minDate, maxDate);\r\n    renderCalendar(calendarEl, dateToDisplay);\r\n  }\r\n};\r\n\r\n// #endregion Calendar - Date Selection View\r\n\r\n// #region Calendar - Month Selection View\r\n/**\r\n * Display the month selection screen in the date picker.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n * @returns {HTMLElement} a reference to the new calendar element\r\n */\r\nconst displayMonthSelection = (el, monthToDisplay) => {\r\n  const {\r\n    calendarEl,\r\n    statusEl,\r\n    calendarDate,\r\n    minDate,\r\n    maxDate,\r\n  } = getDatePickerContext(el);\r\n\r\n  const selectedMonth = calendarDate.getMonth();\r\n  const focusedMonth = monthToDisplay == null ? selectedMonth : monthToDisplay;\r\n\r\n  const months = MONTH_LABELS.map((month, index) => {\r\n    const monthToCheck = setMonth(calendarDate, index);\r\n\r\n    const isDisabled = isDatesMonthOutsideMinOrMax(\r\n      monthToCheck,\r\n      minDate,\r\n      maxDate\r\n    );\r\n\r\n    let tabindex = \"-1\";\r\n\r\n    const classes = [CALENDAR_MONTH_CLASS];\r\n    const isSelected = index === selectedMonth;\r\n\r\n    if (index === focusedMonth) {\r\n      tabindex = \"0\";\r\n      classes.push(CALENDAR_MONTH_FOCUSED_CLASS);\r\n    }\r\n\r\n    if (isSelected) {\r\n      classes.push(CALENDAR_MONTH_SELECTED_CLASS);\r\n    }\r\n\r\n    return `<button \r\n        type=\"button\"\r\n        tabindex=\"${tabindex}\"\r\n        class=\"${classes.join(\" \")}\" \r\n        data-value=\"${index}\"\r\n        data-label=\"${month}\"\r\n        aria-current=\"${isSelected ? \"true\" : \"false\"}\"\r\n        ${isDisabled ? `disabled=\"disabled\"` : \"\"}\r\n      >${month}</button>`;\r\n  });\r\n\r\n  const monthsHtml = `<div tabindex=\"-1\" class=\"${CALENDAR_MONTH_PICKER_CLASS}\">\r\n    <table class=\"${CALENDAR_TABLE_CLASS}\" role=\"presentation\">\r\n      <tbody>\r\n        ${listToGridHtml(months, 3)}\r\n      </tbody>\r\n    </table>\r\n  </div>`;\r\n\r\n  const newCalendar = calendarEl.cloneNode();\r\n  newCalendar.innerHTML = monthsHtml;\r\n  calendarEl.parentNode.replaceChild(newCalendar, calendarEl);\r\n\r\n  statusEl.textContent = text.months_displayed;\r\n\r\n  return newCalendar;\r\n};\r\n\r\n/**\r\n * Select a month in the date picker component.\r\n *\r\n * @param {HTMLButtonElement} monthEl An month element within the date picker component\r\n */\r\nconst selectMonth = (monthEl) => {\r\n  if (monthEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    monthEl\r\n  );\r\n  const selectedMonth = parseInt(monthEl.dataset.value, 10);\r\n  let date = setMonth(calendarDate, selectedMonth);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n  newCalendar.querySelector(CALENDAR_DATE_FOCUSED).focus();\r\n};\r\n\r\n// #endregion Calendar - Month Selection View\r\n\r\n// #region Calendar - Year Selection View\r\n\r\n/**\r\n * Display the year selection screen in the date picker.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n * @param {number} yearToDisplay year to display in year selection\r\n * @returns {HTMLElement} a reference to the new calendar element\r\n */\r\nconst displayYearSelection = (el, yearToDisplay) => {\r\n  const {\r\n    calendarEl,\r\n    statusEl,\r\n    calendarDate,\r\n    minDate,\r\n    maxDate,\r\n  } = getDatePickerContext(el);\r\n\r\n  const selectedYear = calendarDate.getFullYear();\r\n  const focusedYear = yearToDisplay == null ? selectedYear : yearToDisplay;\r\n\r\n  let yearToChunk = focusedYear;\r\n  yearToChunk -= yearToChunk % YEAR_CHUNK;\r\n  yearToChunk = Math.max(0, yearToChunk);\r\n\r\n  const prevYearChunkDisabled = isDatesYearOutsideMinOrMax(\r\n    setYear(calendarDate, yearToChunk - 1),\r\n    minDate,\r\n    maxDate\r\n  );\r\n\r\n  const nextYearChunkDisabled = isDatesYearOutsideMinOrMax(\r\n    setYear(calendarDate, yearToChunk + YEAR_CHUNK),\r\n    minDate,\r\n    maxDate\r\n  );\r\n\r\n  const years = [];\r\n  let yearIndex = yearToChunk;\r\n  while (years.length < YEAR_CHUNK) {\r\n    const isDisabled = isDatesYearOutsideMinOrMax(\r\n      setYear(calendarDate, yearIndex),\r\n      minDate,\r\n      maxDate\r\n    );\r\n\r\n    let tabindex = \"-1\";\r\n\r\n    const classes = [CALENDAR_YEAR_CLASS];\r\n    const isSelected = yearIndex === selectedYear;\r\n\r\n    if (yearIndex === focusedYear) {\r\n      tabindex = \"0\";\r\n      classes.push(CALENDAR_YEAR_FOCUSED_CLASS);\r\n    }\r\n\r\n    if (isSelected) {\r\n      classes.push(CALENDAR_YEAR_SELECTED_CLASS);\r\n    }\r\n\r\n    years.push(\r\n      `<button \r\n        type=\"button\"\r\n        tabindex=\"${tabindex}\"\r\n        class=\"${classes.join(\" \")}\" \r\n        data-value=\"${yearIndex}\"\r\n        aria-current=\"${isSelected ? \"true\" : \"false\"}\"\r\n        ${isDisabled ? `disabled=\"disabled\"` : \"\"}\r\n      >${yearIndex}</button>`\r\n    );\r\n    yearIndex += 1;\r\n  }\r\n\r\n  const yearsHtml = listToGridHtml(years, 3);\r\n  const ariaLabelPreviousYears = text.previous_years.replace(/{years}/, YEAR_CHUNK);\r\n  const ariaLabelNextYears = text.next_years.replace(/{years}/, YEAR_CHUNK);\r\n  const announceYears = text.years_displayed.replace(/{start}/, yearToChunk).replace(/{end}/, yearToChunk + YEAR_CHUNK - 1);\r\n\r\n  const newCalendar = calendarEl.cloneNode();\r\n  newCalendar.innerHTML = `<div tabindex=\"-1\" class=\"${CALENDAR_YEAR_PICKER_CLASS}\">\r\n    <table class=\"${CALENDAR_TABLE_CLASS}\" role=\"presentation\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                class=\"${CALENDAR_PREVIOUS_YEAR_CHUNK_CLASS}\" \r\n                aria-label=\"${ariaLabelPreviousYears}\"\r\n                ${prevYearChunkDisabled ? `disabled=\"disabled\"` : \"\"}\r\n              >&nbsp;</button>\r\n            </td>\r\n            <td colspan=\"3\">\r\n              <table class=\"${CALENDAR_TABLE_CLASS}\" role=\"presentation\">\r\n                <tbody>\r\n                  ${yearsHtml}\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                class=\"${CALENDAR_NEXT_YEAR_CHUNK_CLASS}\" \r\n                aria-label=\"${ariaLabelNextYears}\"\r\n                ${nextYearChunkDisabled ? `disabled=\"disabled\"` : \"\"}\r\n              >&nbsp;</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>`;\r\n  calendarEl.parentNode.replaceChild(newCalendar, calendarEl);\r\n\r\n  statusEl.textContent = announceYears;\r\n\r\n  return newCalendar;\r\n};\r\n\r\n/**\r\n * Navigate back by years and display the year selection screen.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n */\r\nconst displayPreviousYearChunk = (el) => {\r\n  if (el.disabled) return;\r\n\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    el\r\n  );\r\n  const yearEl = calendarEl.querySelector(CALENDAR_YEAR_FOCUSED);\r\n  const selectedYear = parseInt(yearEl.textContent, 10);\r\n\r\n  let adjustedYear = selectedYear - YEAR_CHUNK;\r\n  adjustedYear = Math.max(0, adjustedYear);\r\n\r\n  const date = setYear(calendarDate, adjustedYear);\r\n  const cappedDate = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = displayYearSelection(\r\n    calendarEl,\r\n    cappedDate.getFullYear()\r\n  );\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_PREVIOUS_YEAR_CHUNK);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_YEAR_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Navigate forward by years and display the year selection screen.\r\n *\r\n * @param {HTMLButtonElement} el An element within the date picker component\r\n */\r\nconst displayNextYearChunk = (el) => {\r\n  if (el.disabled) return;\r\n\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    el\r\n  );\r\n  const yearEl = calendarEl.querySelector(CALENDAR_YEAR_FOCUSED);\r\n  const selectedYear = parseInt(yearEl.textContent, 10);\r\n\r\n  let adjustedYear = selectedYear + YEAR_CHUNK;\r\n  adjustedYear = Math.max(0, adjustedYear);\r\n\r\n  const date = setYear(calendarDate, adjustedYear);\r\n  const cappedDate = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = displayYearSelection(\r\n    calendarEl,\r\n    cappedDate.getFullYear()\r\n  );\r\n\r\n  let nextToFocus = newCalendar.querySelector(CALENDAR_NEXT_YEAR_CHUNK);\r\n  if (nextToFocus.disabled) {\r\n    nextToFocus = newCalendar.querySelector(CALENDAR_YEAR_PICKER);\r\n  }\r\n  nextToFocus.focus();\r\n};\r\n\r\n/**\r\n * Select a year in the date picker component.\r\n *\r\n * @param {HTMLButtonElement} yearEl A year element within the date picker component\r\n */\r\nconst selectYear = (yearEl) => {\r\n  if (yearEl.disabled) return;\r\n  const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n    yearEl\r\n  );\r\n  const selectedYear = parseInt(yearEl.innerHTML, 10);\r\n  let date = setYear(calendarDate, selectedYear);\r\n  date = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n  const newCalendar = renderCalendar(calendarEl, date);\r\n  newCalendar.querySelector(CALENDAR_DATE_FOCUSED).focus();\r\n};\r\n\r\n// #endregion Calendar - Year Selection View\r\n\r\n// #region Calendar Event Handling\r\n\r\n/**\r\n * Hide the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleEscapeFromCalendar = (event) => {\r\n  const { datePickerEl, externalInputEl, dialogEl, guideEl } = getDatePickerContext(event.target);\r\n\r\n  hideCalendar(datePickerEl);\r\n  dialogEl.hidden = true;\r\n  guideEl.hidden = true;\r\n  externalInputEl.focus();\r\n\r\n  event.preventDefault();\r\n};\r\n\r\n// #endregion Calendar Event Handling\r\n\r\n// #region Calendar Date Event Handling\r\n\r\n/**\r\n * Adjust the date and display the calendar if needed.\r\n *\r\n * @param {function} adjustDateFn function that returns the adjusted date\r\n */\r\nconst adjustCalendar = (adjustDateFn) => {\r\n  return (event) => {\r\n    const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n      event.target\r\n    );\r\n\r\n    const date = adjustDateFn(calendarDate);\r\n\r\n    const cappedDate = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n    if (!isSameDay(calendarDate, cappedDate)) {\r\n      const newCalendar = renderCalendar(calendarEl, cappedDate);\r\n      newCalendar.querySelector(CALENDAR_DATE_FOCUSED).focus();\r\n    }\r\n    event.preventDefault();\r\n  };\r\n};\r\n\r\n/**\r\n * Navigate back one week and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleUpFromDate = adjustCalendar((date) => subWeeks(date, 1));\r\n\r\n/**\r\n * Navigate forward one week and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleDownFromDate = adjustCalendar((date) => addWeeks(date, 1));\r\n\r\n/**\r\n * Navigate back one day and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleLeftFromDate = adjustCalendar((date) => subDays(date, 1));\r\n\r\n/**\r\n * Navigate forward one day and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleRightFromDate = adjustCalendar((date) => addDays(date, 1));\r\n\r\n/**\r\n * Navigate to the start of the week and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleHomeFromDate = adjustCalendar((date) => startOfWeek(date));\r\n\r\n/**\r\n * Navigate to the end of the week and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleEndFromDate = adjustCalendar((date) => endOfWeek(date));\r\n\r\n/**\r\n * Navigate forward one month and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageDownFromDate = adjustCalendar((date) => addMonths(date, 1));\r\n\r\n/**\r\n * Navigate back one month and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageUpFromDate = adjustCalendar((date) => subMonths(date, 1));\r\n\r\n/**\r\n * Navigate forward one year and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleShiftPageDownFromDate = adjustCalendar((date) => addYears(date, 1));\r\n\r\n/**\r\n * Navigate back one year and display the calendar.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleShiftPageUpFromDate = adjustCalendar((date) => subYears(date, 1));\r\n\r\n/**\r\n * display the calendar for the mousemove date.\r\n *\r\n * @param {MouseEvent} event The mousemove event\r\n * @param {HTMLButtonElement} dateEl A date element within the date picker component\r\n */\r\nconst handleMousemoveFromDate = (dateEl) => {\r\n  if (dateEl.disabled) return;\r\n\r\n  const calendarEl = dateEl.closest(DATE_PICKER_CALENDAR);\r\n\r\n  const currentCalendarDate = calendarEl.dataset.value;\r\n  const hoverDate = dateEl.dataset.value;\r\n\r\n  if (hoverDate === currentCalendarDate) return;\r\n\r\n  const dateToDisplay = parseDateString(hoverDate);\r\n  const newCalendar = renderCalendar(calendarEl, dateToDisplay);\r\n  newCalendar.querySelector(CALENDAR_DATE_FOCUSED).focus();\r\n};\r\n\r\n// #endregion Calendar Date Event Handling\r\n\r\n// #region Calendar Month Event Handling\r\n\r\n/**\r\n * Adjust the month and display the month selection screen if needed.\r\n *\r\n * @param {function} adjustMonthFn function that returns the adjusted month\r\n */\r\nconst adjustMonthSelectionScreen = (adjustMonthFn) => {\r\n  return (event) => {\r\n    const monthEl = event.target;\r\n    const selectedMonth = parseInt(monthEl.dataset.value, 10);\r\n    const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n      monthEl\r\n    );\r\n    const currentDate = setMonth(calendarDate, selectedMonth);\r\n\r\n    let adjustedMonth = adjustMonthFn(selectedMonth);\r\n    adjustedMonth = Math.max(0, Math.min(11, adjustedMonth));\r\n\r\n    const date = setMonth(calendarDate, adjustedMonth);\r\n    const cappedDate = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n    if (!isSameMonth(currentDate, cappedDate)) {\r\n      const newCalendar = displayMonthSelection(\r\n        calendarEl,\r\n        cappedDate.getMonth()\r\n      );\r\n      newCalendar.querySelector(CALENDAR_MONTH_FOCUSED).focus();\r\n    }\r\n    event.preventDefault();\r\n  };\r\n};\r\n\r\n/**\r\n * Navigate back three months and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleUpFromMonth = adjustMonthSelectionScreen((month) => month - 3);\r\n\r\n/**\r\n * Navigate forward three months and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleDownFromMonth = adjustMonthSelectionScreen((month) => month + 3);\r\n\r\n/**\r\n * Navigate back one month and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleLeftFromMonth = adjustMonthSelectionScreen((month) => month - 1);\r\n\r\n/**\r\n * Navigate forward one month and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleRightFromMonth = adjustMonthSelectionScreen((month) => month + 1);\r\n\r\n/**\r\n * Navigate to the start of the row of months and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleHomeFromMonth = adjustMonthSelectionScreen(\r\n  (month) => month - (month % 3)\r\n);\r\n\r\n/**\r\n * Navigate to the end of the row of months and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleEndFromMonth = adjustMonthSelectionScreen(\r\n  (month) => month + 2 - (month % 3)\r\n);\r\n\r\n/**\r\n * Navigate to the last month (December) and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageDownFromMonth = adjustMonthSelectionScreen(() => 11);\r\n\r\n/**\r\n * Navigate to the first month (January) and display the month selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageUpFromMonth = adjustMonthSelectionScreen(() => 0);\r\n\r\n/**\r\n * update the focus on a month when the mouse moves.\r\n *\r\n * @param {MouseEvent} event The mousemove event\r\n * @param {HTMLButtonElement} monthEl A month element within the date picker component\r\n */\r\nconst handleMousemoveFromMonth = (monthEl) => {\r\n  if (monthEl.disabled) return;\r\n  if (monthEl.classList.contains(CALENDAR_MONTH_FOCUSED_CLASS)) return;\r\n\r\n  const focusMonth = parseInt(monthEl.dataset.value, 10);\r\n\r\n  const newCalendar = displayMonthSelection(monthEl, focusMonth);\r\n  newCalendar.querySelector(CALENDAR_MONTH_FOCUSED).focus();\r\n};\r\n\r\n// #endregion Calendar Month Event Handling\r\n\r\n// #region Calendar Year Event Handling\r\n\r\n/**\r\n * Adjust the year and display the year selection screen if needed.\r\n *\r\n * @param {function} adjustYearFn function that returns the adjusted year\r\n */\r\nconst adjustYearSelectionScreen = (adjustYearFn) => {\r\n  return (event) => {\r\n    const yearEl = event.target;\r\n    const selectedYear = parseInt(yearEl.dataset.value, 10);\r\n    const { calendarEl, calendarDate, minDate, maxDate } = getDatePickerContext(\r\n      yearEl\r\n    );\r\n    const currentDate = setYear(calendarDate, selectedYear);\r\n\r\n    let adjustedYear = adjustYearFn(selectedYear);\r\n    adjustedYear = Math.max(0, adjustedYear);\r\n\r\n    const date = setYear(calendarDate, adjustedYear);\r\n    const cappedDate = keepDateBetweenMinAndMax(date, minDate, maxDate);\r\n    if (!isSameYear(currentDate, cappedDate)) {\r\n      const newCalendar = displayYearSelection(\r\n        calendarEl,\r\n        cappedDate.getFullYear()\r\n      );\r\n      newCalendar.querySelector(CALENDAR_YEAR_FOCUSED).focus();\r\n    }\r\n    event.preventDefault();\r\n  };\r\n};\r\n\r\n/**\r\n * Navigate back three years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleUpFromYear = adjustYearSelectionScreen((year) => year - 3);\r\n\r\n/**\r\n * Navigate forward three years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleDownFromYear = adjustYearSelectionScreen((year) => year + 3);\r\n\r\n/**\r\n * Navigate back one year and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleLeftFromYear = adjustYearSelectionScreen((year) => year - 1);\r\n\r\n/**\r\n * Navigate forward one year and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleRightFromYear = adjustYearSelectionScreen((year) => year + 1);\r\n\r\n/**\r\n * Navigate to the start of the row of years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleHomeFromYear = adjustYearSelectionScreen(\r\n  (year) => year - (year % 3)\r\n);\r\n\r\n/**\r\n * Navigate to the end of the row of years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handleEndFromYear = adjustYearSelectionScreen(\r\n  (year) => year + 2 - (year % 3)\r\n);\r\n\r\n/**\r\n * Navigate to back 12 years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageUpFromYear = adjustYearSelectionScreen(\r\n  (year) => year - YEAR_CHUNK\r\n);\r\n\r\n/**\r\n * Navigate forward 12 years and display the year selection screen.\r\n *\r\n * @param {KeyboardEvent} event the keydown event\r\n */\r\nconst handlePageDownFromYear = adjustYearSelectionScreen(\r\n  (year) => year + YEAR_CHUNK\r\n);\r\n\r\n/**\r\n * update the focus on a year when the mouse moves.\r\n *\r\n * @param {MouseEvent} event The mousemove event\r\n * @param {HTMLButtonElement} dateEl A year element within the date picker component\r\n */\r\nconst handleMousemoveFromYear = (yearEl) => {\r\n  if (yearEl.disabled) return;\r\n  if (yearEl.classList.contains(CALENDAR_YEAR_FOCUSED_CLASS)) return;\r\n\r\n  const focusYear = parseInt(yearEl.dataset.value, 10);\r\n\r\n  const newCalendar = displayYearSelection(yearEl, focusYear);\r\n  newCalendar.querySelector(CALENDAR_YEAR_FOCUSED).focus();\r\n};\r\n\r\n// #endregion Calendar Year Event Handling\r\n\r\n// #region Focus Handling Event Handling\r\n\r\nconst tabHandler = (focusable) => {\r\n  const getFocusableContext = (el) => {\r\n    const { calendarEl } = getDatePickerContext(el);\r\n    const focusableElements = select(focusable, calendarEl);\r\n\r\n    const firstTabIndex = 0;\r\n    const lastTabIndex = focusableElements.length - 1;\r\n    const firstTabStop = focusableElements[firstTabIndex];\r\n    const lastTabStop = focusableElements[lastTabIndex];\r\n    const focusIndex = focusableElements.indexOf(activeElement());\r\n\r\n    const isLastTab = focusIndex === lastTabIndex;\r\n    const isFirstTab = focusIndex === firstTabIndex;\r\n    const isNotFound = focusIndex === -1;\r\n\r\n    return {\r\n      focusableElements,\r\n      isNotFound,\r\n      firstTabStop,\r\n      isFirstTab,\r\n      lastTabStop,\r\n      isLastTab,\r\n    };\r\n  };\r\n\r\n  return {\r\n    tabAhead(event) {\r\n      const { firstTabStop, isLastTab, isNotFound } = getFocusableContext(\r\n        event.target\r\n      );\r\n\r\n      if (isLastTab || isNotFound) {\r\n        event.preventDefault();\r\n        firstTabStop.focus();\r\n      }\r\n    },\r\n    tabBack(event) {\r\n      const { lastTabStop, isFirstTab, isNotFound } = getFocusableContext(\r\n        event.target\r\n      );\r\n\r\n      if (isFirstTab || isNotFound) {\r\n        event.preventDefault();\r\n        lastTabStop.focus();\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nconst datePickerTabEventHandler = tabHandler(DATE_PICKER_FOCUSABLE);\r\nconst monthPickerTabEventHandler = tabHandler(MONTH_PICKER_FOCUSABLE);\r\nconst yearPickerTabEventHandler = tabHandler(YEAR_PICKER_FOCUSABLE);\r\n\r\n// #endregion Focus Handling Event Handling\r\n\r\n// #region Date Picker Event Delegation Registration / Component\r\n\r\nconst datePickerEvents = {\r\n  [CLICK]: {\r\n    [DATE_PICKER_BUTTON]() {\r\n      toggleCalendar(this);\r\n    },\r\n    [CALENDAR_DATE]() {\r\n      selectDate(this);\r\n    },\r\n    [CALENDAR_MONTH]() {\r\n      selectMonth(this);\r\n    },\r\n    [CALENDAR_YEAR]() {\r\n      selectYear(this);\r\n    },\r\n    [CALENDAR_PREVIOUS_MONTH]() {\r\n      displayPreviousMonth(this);\r\n    },\r\n    [CALENDAR_NEXT_MONTH]() {\r\n      displayNextMonth(this);\r\n    },\r\n    [CALENDAR_PREVIOUS_YEAR]() {\r\n      displayPreviousYear(this);\r\n    },\r\n    [CALENDAR_NEXT_YEAR]() {\r\n      displayNextYear(this);\r\n    },\r\n    [CALENDAR_PREVIOUS_YEAR_CHUNK]() {\r\n      displayPreviousYearChunk(this);\r\n    },\r\n    [CALENDAR_NEXT_YEAR_CHUNK]() {\r\n      displayNextYearChunk(this);\r\n    },\r\n    [CALENDAR_MONTH_SELECTION]() {\r\n      const newCalendar = displayMonthSelection(this);\r\n      newCalendar.querySelector(CALENDAR_MONTH_FOCUSED).focus();\r\n    },\r\n    [CALENDAR_YEAR_SELECTION]() {\r\n      const newCalendar = displayYearSelection(this);\r\n      newCalendar.querySelector(CALENDAR_YEAR_FOCUSED).focus();\r\n    },\r\n  },\r\n  keyup: {\r\n    [DATE_PICKER_CALENDAR](event) {\r\n      const keydown = this.dataset.keydownKeyCode;\r\n      if (`${event.keyCode}` !== keydown) {\r\n        event.preventDefault();\r\n      }\r\n    },\r\n  },\r\n  keydown: {\r\n    [DATE_PICKER_EXTERNAL_INPUT](event) {\r\n      if (event.keyCode === ENTER_KEYCODE) {\r\n        validateDateInput(this);\r\n      }\r\n    },\r\n    [CALENDAR_DATE]: keymap({\r\n      Up: handleUpFromDate,\r\n      ArrowUp: handleUpFromDate,\r\n      Down: handleDownFromDate,\r\n      ArrowDown: handleDownFromDate,\r\n      Left: handleLeftFromDate,\r\n      ArrowLeft: handleLeftFromDate,\r\n      Right: handleRightFromDate,\r\n      ArrowRight: handleRightFromDate,\r\n      Home: handleHomeFromDate,\r\n      End: handleEndFromDate,\r\n      PageDown: handlePageDownFromDate,\r\n      PageUp: handlePageUpFromDate,\r\n      \"Shift+PageDown\": handleShiftPageDownFromDate,\r\n      \"Shift+PageUp\": handleShiftPageUpFromDate,\r\n    }),\r\n    [CALENDAR_DATE_PICKER]: keymap({\r\n      Tab: datePickerTabEventHandler.tabAhead,\r\n      \"Shift+Tab\": datePickerTabEventHandler.tabBack,\r\n    }),\r\n    [CALENDAR_MONTH]: keymap({\r\n      Up: handleUpFromMonth,\r\n      ArrowUp: handleUpFromMonth,\r\n      Down: handleDownFromMonth,\r\n      ArrowDown: handleDownFromMonth,\r\n      Left: handleLeftFromMonth,\r\n      ArrowLeft: handleLeftFromMonth,\r\n      Right: handleRightFromMonth,\r\n      ArrowRight: handleRightFromMonth,\r\n      Home: handleHomeFromMonth,\r\n      End: handleEndFromMonth,\r\n      PageDown: handlePageDownFromMonth,\r\n      PageUp: handlePageUpFromMonth,\r\n    }),\r\n    [CALENDAR_MONTH_PICKER]: keymap({\r\n      Tab: monthPickerTabEventHandler.tabAhead,\r\n      \"Shift+Tab\": monthPickerTabEventHandler.tabBack,\r\n    }),\r\n    [CALENDAR_YEAR]: keymap({\r\n      Up: handleUpFromYear,\r\n      ArrowUp: handleUpFromYear,\r\n      Down: handleDownFromYear,\r\n      ArrowDown: handleDownFromYear,\r\n      Left: handleLeftFromYear,\r\n      ArrowLeft: handleLeftFromYear,\r\n      Right: handleRightFromYear,\r\n      ArrowRight: handleRightFromYear,\r\n      Home: handleHomeFromYear,\r\n      End: handleEndFromYear,\r\n      PageDown: handlePageDownFromYear,\r\n      PageUp: handlePageUpFromYear,\r\n    }),\r\n    [CALENDAR_YEAR_PICKER]: keymap({\r\n      Tab: yearPickerTabEventHandler.tabAhead,\r\n      \"Shift+Tab\": yearPickerTabEventHandler.tabBack,\r\n    }),\r\n    [DATE_PICKER_CALENDAR](event) {\r\n      this.dataset.keydownKeyCode = event.keyCode;\r\n    },\r\n    [DATE_PICKER](event) {\r\n      const keyMap = keymap({\r\n        Escape: handleEscapeFromCalendar,\r\n      });\r\n\r\n      keyMap(event);\r\n    },\r\n  },\r\n  focusout: {\r\n    [DATE_PICKER_EXTERNAL_INPUT]() {\r\n      validateDateInput(this);\r\n    },\r\n    [DATE_PICKER](event) {\r\n      if (!this.contains(event.relatedTarget)) {\r\n        hideCalendar(this);\r\n      }\r\n    },\r\n  },\r\n  input: {\r\n    [DATE_PICKER_EXTERNAL_INPUT]() {\r\n      reconcileInputValues(this);\r\n      updateCalendarIfVisible(this);\r\n    },\r\n  },\r\n};\r\n\r\nif (!isIosDevice()) {\r\n  datePickerEvents.mousemove = {\r\n    [CALENDAR_DATE_CURRENT_MONTH]() {\r\n      handleMousemoveFromDate(this);\r\n    },\r\n    [CALENDAR_MONTH]() {\r\n      handleMousemoveFromMonth(this);\r\n    },\r\n    [CALENDAR_YEAR]() {\r\n      handleMousemoveFromYear(this);\r\n    },\r\n  };\r\n}\r\n\r\nconst datePicker = behavior(datePickerEvents, {\r\n  init(root) {\r\n    select(DATE_PICKER, root).forEach((datePickerEl) => {\r\n      if(!datePickerEl.classList.contains(DATE_PICKER_INITIALIZED_CLASS)){\r\n        enhanceDatePicker(datePickerEl);\r\n      }\r\n    });\r\n  },\r\n  setLanguage(strings) {\r\n    text = strings;\r\n    MONTH_LABELS = [\r\n      text.january,\r\n      text.february,\r\n      text.march,\r\n      text.april,\r\n      text.may,\r\n      text.june,\r\n      text.july,\r\n      text.august,\r\n      text.september,\r\n      text.october,\r\n      text.november,\r\n      text.december\r\n    ];\r\n    DAY_OF_WEEK_LABELS = [\r\n      text.monday,\r\n      text.tuesday,\r\n      text.wednesday,\r\n      text.thursday,\r\n      text.friday,\r\n      text.saturday,\r\n      text.sunday\r\n    ];\r\n  },\r\n  getDatePickerContext,\r\n  disable,\r\n  enable,\r\n  isDateInputInvalid,\r\n  setCalendarValue,\r\n  validateDateInput,\r\n  renderCalendar,\r\n  updateCalendarIfVisible\r\n});\r\n\r\n// #endregion Date Picker Event Delegation Registration / Component\r\n\r\nexport default datePicker;\r\n","export default (htmlDocument = document) => htmlDocument.activeElement;\r\n","/* eslint-disable consistent-return */\r\n/* eslint-disable func-names */\r\n(function () {\r\n  if (typeof window.CustomEvent === \"function\") return false;\r\n\r\n  function CustomEvent(event, _params) {\r\n    const params = _params || {\r\n      bubbles: false,\r\n      cancelable: false,\r\n      detail: null,\r\n    };\r\n    const evt = document.createEvent(\"CustomEvent\");\r\n    evt.initCustomEvent(\r\n      event,\r\n      params.bubbles,\r\n      params.cancelable,\r\n      params.detail\r\n    );\r\n    return evt;\r\n  }\r\n\r\n  window.CustomEvent = CustomEvent;\r\n})();\r\n","'use strict';\r\nconst elproto = window.HTMLElement.prototype;\r\nconst HIDDEN = 'hidden';\r\n\r\nif (!(HIDDEN in elproto)) {\r\n  Object.defineProperty(elproto, HIDDEN, {\r\n    get: function () {\r\n      return this.hasAttribute(HIDDEN);\r\n    },\r\n    set: function (value) {\r\n      if (value) {\r\n        this.setAttribute(HIDDEN, '');\r\n      } else {\r\n        this.removeAttribute(HIDDEN);\r\n      }\r\n    },\r\n  });\r\n}\r\n","'use strict';\r\n\r\n// polyfills HTMLElement.prototype.classList and DOMTokenList\r\nrequire('classlist-polyfill');\r\n\r\n// polyfills HTMLElement.prototype.hidden\r\nrequire('./element-hidden');\r\n\r\n// polyfills Number.isNaN()\r\nrequire(\"./number-is-nan\");\r\n\r\n// polyfills CustomEvent\r\nrequire(\"./custom-event\");","Number.isNaN =\r\n  Number.isNaN ||\r\n  function isNaN(input) {\r\n    // eslint-disable-next-line no-self-compare\r\n    return typeof input === \"number\" && input !== input;\r\n  };\r\n","'use strict';\r\nlet breakpoints = {\r\n  'xs': 0,\r\n  'sm': 576,\r\n  'md': 768,\r\n  'lg': 992,\r\n  'xl': 1200\r\n};\r\n\r\nexport default breakpoints;\r\n","// https://stackoverflow.com/a/7557433\r\nfunction isElementInViewport (el, win=window,\r\n                              docEl=document.documentElement) {\r\n  var rect = el.getBoundingClientRect();\r\n\r\n  return (\r\n    rect.top >= 0 &&\r\n    rect.left >= 0 &&\r\n    rect.bottom <= (win.innerHeight || docEl.clientHeight) &&\r\n    rect.right <= (win.innerWidth || docEl.clientWidth)\r\n  );\r\n}\r\n\r\nexport default isElementInViewport;\r\n","/**\r\n * @name isElement\r\n * @desc returns whether or not the given argument is a DOM element.\r\n * @param {any} value\r\n * @return {boolean}\r\n */\r\nconst isElement = (value) =>\r\n  value && typeof value === \"object\" && value.nodeType === 1;\r\n\r\n/**\r\n * @name select\r\n * @desc selects elements from the DOM by class selector or ID selector.\r\n * @param {string} selector - The selector to traverse the DOM with.\r\n * @param {Document|HTMLElement?} context - The context to traverse the DOM\r\n *   in. If not provided, it defaults to the document.\r\n * @return {HTMLElement[]} - An array of DOM nodes or an empty array.\r\n */\r\nexport default (selector, context) => {\r\n  if (typeof selector !== \"string\") {\r\n    return [];\r\n  }\r\n\r\n  if (!context || !isElement(context)) {\r\n    context = window.document; // eslint-disable-line no-param-reassign\r\n  }\r\n\r\n  const selection = context.querySelectorAll(selector);\r\n  return Array.prototype.slice.call(selection);\r\n};\r\n","'use strict';\r\nconst EXPANDED = 'aria-expanded';\r\nconst CONTROLS = 'aria-controls';\r\nconst HIDDEN = 'aria-hidden';\r\n\r\nexport default (button, expanded) => {\r\n\r\n  if (typeof expanded !== 'boolean') {\r\n    expanded = button.getAttribute(EXPANDED) === 'false';\r\n  }\r\n  button.setAttribute(EXPANDED, expanded);\r\n  const id = button.getAttribute(CONTROLS);\r\n  const controls = document.getElementById(id);\r\n  if (!controls) {\r\n    throw new Error(\r\n      'No toggle target found with id: \"' + id + '\"'\r\n    );\r\n  }\r\n\r\n  controls.setAttribute(HIDDEN, !expanded);\r\n  return expanded;\r\n};\r\n","/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in window.self) {\n\n// Full polyfill for browsers with no classList support\n// Including IE < Edge missing SVGElement.classList\nif (!(\"classList\" in document.createElement(\"_\")) \n\t|| document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n(function (view) {\n\n\"use strict\";\n\nif (!('Element' in view)) return;\n\nvar\n\t  classListProp = \"classList\"\n\t, protoProp = \"prototype\"\n\t, elemCtrProto = view.Element[protoProp]\n\t, objCtr = Object\n\t, strTrim = String[protoProp].trim || function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, \"\");\n\t}\n\t, arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t\tvar\n\t\t\t  i = 0\n\t\t\t, len = this.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tif (i in this && this[i] === item) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\t// Vendors: please allow content code to instantiate DOMExceptions\n\t, DOMEx = function (type, message) {\n\t\tthis.name = type;\n\t\tthis.code = DOMException[type];\n\t\tthis.message = message;\n\t}\n\t, checkTokenAndGetIndex = function (classList, token) {\n\t\tif (token === \"\") {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"SYNTAX_ERR\"\n\t\t\t\t, \"An invalid or illegal string was specified\"\n\t\t\t);\n\t\t}\n\t\tif (/\\s/.test(token)) {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"INVALID_CHARACTER_ERR\"\n\t\t\t\t, \"String contains an invalid character\"\n\t\t\t);\n\t\t}\n\t\treturn arrIndexOf.call(classList, token);\n\t}\n\t, ClassList = function (elem) {\n\t\tvar\n\t\t\t  trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n\t\t\t, classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n\t\t\t, i = 0\n\t\t\t, len = classes.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tthis.push(classes[i]);\n\t\t}\n\t\tthis._updateClassName = function () {\n\t\t\telem.setAttribute(\"class\", this.toString());\n\t\t};\n\t}\n\t, classListProto = ClassList[protoProp] = []\n\t, classListGetter = function () {\n\t\treturn new ClassList(this);\n\t}\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n\treturn this[i] || null;\n};\nclassListProto.contains = function (token) {\n\ttoken += \"\";\n\treturn checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tif (checkTokenAndGetIndex(this, token) === -1) {\n\t\t\tthis.push(token);\n\t\t\tupdated = true;\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.remove = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t\t, index\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tindex = checkTokenAndGetIndex(this, token);\n\t\twhile (index !== -1) {\n\t\t\tthis.splice(index, 1);\n\t\t\tupdated = true;\n\t\t\tindex = checkTokenAndGetIndex(this, token);\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.toggle = function (token, force) {\n\ttoken += \"\";\n\n\tvar\n\t\t  result = this.contains(token)\n\t\t, method = result ?\n\t\t\tforce !== true && \"remove\"\n\t\t:\n\t\t\tforce !== false && \"add\"\n\t;\n\n\tif (method) {\n\t\tthis[method](token);\n\t}\n\n\tif (force === true || force === false) {\n\t\treturn force;\n\t} else {\n\t\treturn !result;\n\t}\n};\nclassListProto.toString = function () {\n\treturn this.join(\" \");\n};\n\nif (objCtr.defineProperty) {\n\tvar classListPropDesc = {\n\t\t  get: classListGetter\n\t\t, enumerable: true\n\t\t, configurable: true\n\t};\n\ttry {\n\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t} catch (ex) { // IE 8 doesn't support enumerable:true\n\t\t// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n\t\t// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n\t\tif (ex.number === undefined || ex.number === -0x7FF5EC54) {\n\t\t\tclassListPropDesc.enumerable = false;\n\t\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t}\n\t}\n} else if (objCtr[protoProp].__defineGetter__) {\n\telemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(window.self));\n\n}\n\n// There is full or partial native classList support, so just check if we need\n// to normalize the add/remove and toggle APIs.\n\n(function () {\n\t\"use strict\";\n\n\tvar testElement = document.createElement(\"_\");\n\n\ttestElement.classList.add(\"c1\", \"c2\");\n\n\t// Polyfill for IE 10/11 and Firefox <26, where classList.add and\n\t// classList.remove exist but support only one argument at a time.\n\tif (!testElement.classList.contains(\"c2\")) {\n\t\tvar createMethod = function(method) {\n\t\t\tvar original = DOMTokenList.prototype[method];\n\n\t\t\tDOMTokenList.prototype[method] = function(token) {\n\t\t\t\tvar i, len = arguments.length;\n\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\ttoken = arguments[i];\n\t\t\t\t\toriginal.call(this, token);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tcreateMethod('add');\n\t\tcreateMethod('remove');\n\t}\n\n\ttestElement.classList.toggle(\"c3\", false);\n\n\t// Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n\t// support the second argument.\n\tif (testElement.classList.contains(\"c3\")) {\n\t\tvar _toggle = DOMTokenList.prototype.toggle;\n\n\t\tDOMTokenList.prototype.toggle = function(token, force) {\n\t\t\tif (1 in arguments && !this.contains(token) === !force) {\n\t\t\t\treturn force;\n\t\t\t} else {\n\t\t\t\treturn _toggle.call(this, token);\n\t\t\t}\n\t\t};\n\n\t}\n\n\ttestElement = null;\n}());\n\n}\n","/* global define, KeyboardEvent, module */\n\n(function () {\n\n  var keyboardeventKeyPolyfill = {\n    polyfill: polyfill,\n    keys: {\n      3: 'Cancel',\n      6: 'Help',\n      8: 'Backspace',\n      9: 'Tab',\n      12: 'Clear',\n      13: 'Enter',\n      16: 'Shift',\n      17: 'Control',\n      18: 'Alt',\n      19: 'Pause',\n      20: 'CapsLock',\n      27: 'Escape',\n      28: 'Convert',\n      29: 'NonConvert',\n      30: 'Accept',\n      31: 'ModeChange',\n      32: ' ',\n      33: 'PageUp',\n      34: 'PageDown',\n      35: 'End',\n      36: 'Home',\n      37: 'ArrowLeft',\n      38: 'ArrowUp',\n      39: 'ArrowRight',\n      40: 'ArrowDown',\n      41: 'Select',\n      42: 'Print',\n      43: 'Execute',\n      44: 'PrintScreen',\n      45: 'Insert',\n      46: 'Delete',\n      48: ['0', ')'],\n      49: ['1', '!'],\n      50: ['2', '@'],\n      51: ['3', '#'],\n      52: ['4', '$'],\n      53: ['5', '%'],\n      54: ['6', '^'],\n      55: ['7', '&'],\n      56: ['8', '*'],\n      57: ['9', '('],\n      91: 'OS',\n      93: 'ContextMenu',\n      144: 'NumLock',\n      145: 'ScrollLock',\n      181: 'VolumeMute',\n      182: 'VolumeDown',\n      183: 'VolumeUp',\n      186: [';', ':'],\n      187: ['=', '+'],\n      188: [',', '<'],\n      189: ['-', '_'],\n      190: ['.', '>'],\n      191: ['/', '?'],\n      192: ['`', '~'],\n      219: ['[', '{'],\n      220: ['\\\\', '|'],\n      221: [']', '}'],\n      222: [\"'\", '\"'],\n      224: 'Meta',\n      225: 'AltGraph',\n      246: 'Attn',\n      247: 'CrSel',\n      248: 'ExSel',\n      249: 'EraseEof',\n      250: 'Play',\n      251: 'ZoomOut'\n    }\n  };\n\n  // Function keys (F1-24).\n  var i;\n  for (i = 1; i < 25; i++) {\n    keyboardeventKeyPolyfill.keys[111 + i] = 'F' + i;\n  }\n\n  // Printable ASCII characters.\n  var letter = '';\n  for (i = 65; i < 91; i++) {\n    letter = String.fromCharCode(i);\n    keyboardeventKeyPolyfill.keys[i] = [letter.toLowerCase(), letter.toUpperCase()];\n  }\n\n  function polyfill () {\n    if (!('KeyboardEvent' in window) ||\n        'key' in KeyboardEvent.prototype) {\n      return false;\n    }\n\n    // Polyfill `key` on `KeyboardEvent`.\n    var proto = {\n      get: function (x) {\n        var key = keyboardeventKeyPolyfill.keys[this.which || this.keyCode];\n\n        if (Array.isArray(key)) {\n          key = key[+this.shiftKey];\n        }\n\n        return key;\n      }\n    };\n    Object.defineProperty(KeyboardEvent.prototype, 'key', proto);\n    return proto;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('keyboardevent-key-polyfill', keyboardeventKeyPolyfill);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    module.exports = keyboardeventKeyPolyfill;\n  } else if (window) {\n    window.keyboardeventKeyPolyfill = keyboardeventKeyPolyfill;\n  }\n\n})();\n","'use strict';\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nmodule.exports = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","const assign = require('object-assign');\nconst delegate = require('./delegate');\nconst delegateAll = require('./delegateAll');\n\nconst DELEGATE_PATTERN = /^(.+):delegate\\((.+)\\)$/;\nconst SPACE = ' ';\n\nconst getListeners = function(type, handler) {\n  var match = type.match(DELEGATE_PATTERN);\n  var selector;\n  if (match) {\n    type = match[1];\n    selector = match[2];\n  }\n\n  var options;\n  if (typeof handler === 'object') {\n    options = {\n      capture: popKey(handler, 'capture'),\n      passive: popKey(handler, 'passive')\n    };\n  }\n\n  var listener = {\n    selector: selector,\n    delegate: (typeof handler === 'object')\n      ? delegateAll(handler)\n      : selector\n        ? delegate(selector, handler)\n        : handler,\n    options: options\n  };\n\n  if (type.indexOf(SPACE) > -1) {\n    return type.split(SPACE).map(function(_type) {\n      return assign({type: _type}, listener);\n    });\n  } else {\n    listener.type = type;\n    return [listener];\n  }\n};\n\nvar popKey = function(obj, key) {\n  var value = obj[key];\n  delete obj[key];\n  return value;\n};\n\nmodule.exports = function behavior(events, props) {\n  const listeners = Object.keys(events)\n    .reduce(function(memo, type) {\n      var listeners = getListeners(type, events[type]);\n      return memo.concat(listeners);\n    }, []);\n\n  return assign({\n    add: function addBehavior(element) {\n      listeners.forEach(function(listener) {\n        element.addEventListener(\n          listener.type,\n          listener.delegate,\n          listener.options\n        );\n      });\n    },\n    remove: function removeBehavior(element) {\n      listeners.forEach(function(listener) {\n        element.removeEventListener(\n          listener.type,\n          listener.delegate,\n          listener.options\n        );\n      });\n    }\n  }, props);\n};\n","const matches = require('matches-selector');\n\nmodule.exports = function(element, selector) {\n  do {\n    if (matches(element, selector)) {\n      return element;\n    }\n  } while ((element = element.parentNode) && element.nodeType === 1);\n};\n\n","module.exports = function compose(functions) {\n  return function(e) {\n    return functions.some(function(fn) {\n      return fn.call(this, e) === false;\n    }, this);\n  };\n};\n","const closest = require('./closest');\n\nmodule.exports = function delegate(selector, fn) {\n  return function delegation(event) {\n    var target = closest(event.target, selector);\n    if (target) {\n      return fn.call(target, event);\n    }\n  }\n};\n","const delegate = require('./delegate');\nconst compose = require('./compose');\n\nconst SPLAT = '*';\n\nmodule.exports = function delegateAll(selectors) {\n  const keys = Object.keys(selectors)\n\n  // XXX optimization: if there is only one handler and it applies to\n  // all elements (the \"*\" CSS selector), then just return that\n  // handler\n  if (keys.length === 1 && keys[0] === SPLAT) {\n    return selectors[SPLAT];\n  }\n\n  const delegates = keys.reduce(function(memo, selector) {\n    memo.push(delegate(selector, selectors[selector]));\n    return memo;\n  }, []);\n  return compose(delegates);\n};\n","module.exports = function ignore(element, fn) {\n  return function ignorance(e) {\n    if (element !== e.target && !element.contains(e.target)) {\n      return fn.call(this, e);\n    }\n  };\n};\n","'use strict';\n\nmodule.exports = {\n  behavior: require('./behavior'),\n  delegate: require('./delegate'),\n  delegateAll: require('./delegateAll'),\n  ignore: require('./ignore'),\n  keymap: require('./keymap'),\n};\n","require('keyboardevent-key-polyfill');\n\n// these are the only relevant modifiers supported on all platforms,\n// according to MDN:\n// <https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState>\nconst MODIFIERS = {\n  'Alt':      'altKey',\n  'Control':  'ctrlKey',\n  'Ctrl':     'ctrlKey',\n  'Shift':    'shiftKey'\n};\n\nconst MODIFIER_SEPARATOR = '+';\n\nconst getEventKey = function(event, hasModifiers) {\n  var key = event.key;\n  if (hasModifiers) {\n    for (var modifier in MODIFIERS) {\n      if (event[MODIFIERS[modifier]] === true) {\n        key = [modifier, key].join(MODIFIER_SEPARATOR);\n      }\n    }\n  }\n  return key;\n};\n\nmodule.exports = function keymap(keys) {\n  const hasModifiers = Object.keys(keys).some(function(key) {\n    return key.indexOf(MODIFIER_SEPARATOR) > -1;\n  });\n  return function(event) {\n    var key = getEventKey(event, hasModifiers);\n    return [key, key.toLowerCase()]\n      .reduce(function(result, _key) {\n        if (_key in keys) {\n          result = keys[key].call(this, event);\n        }\n        return result;\n      }, undefined);\n  };\n};\n\nmodule.exports.MODIFIERS = MODIFIERS;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\r\nconst toggle = require('../utils/toggle').default;\r\nconst isElementInViewport = require('../utils/is-in-viewport').default;\r\nconst BUTTON = `.accordion-button[aria-controls]`;\r\nconst EXPANDED = 'aria-expanded';\r\nconst BULK_FUNCTION_ACTION_ATTRIBUTE = \"data-accordion-bulk-expand\";\r\nconst TEXT_ACCORDION = {\r\n    \"open_all\": \"bn alle\",\r\n    \"close_all\": \"Luk alle\"\r\n}\r\n\r\n/**\r\n * Adds click functionality to accordion list\r\n * @param {HTMLElement} $accordion the accordion ul element\r\n * @param {JSON} strings Translate labels: {\"open_all\": \"bn alle\", \"close_all\": \"Luk alle\"}\r\n */\r\nfunction Accordion($accordion, strings = TEXT_ACCORDION) {\r\n    if (!$accordion) {\r\n        throw new Error(`Missing accordion group element`);\r\n    }\r\n    this.accordion = $accordion;\r\n    this.text = strings;\r\n}\r\n\r\n/**\r\n * Set eventlisteners on click elements in accordion list\r\n */\r\nAccordion.prototype.init = function () {\r\n    this.buttons = this.accordion.querySelectorAll(BUTTON);\r\n    if (this.buttons.length == 0) {\r\n        throw new Error(`Missing accordion buttons`);\r\n    }\r\n\r\n    // loop buttons in list\r\n    for (var i = 0; i < this.buttons.length; i++) {\r\n        let currentButton = this.buttons[i];\r\n\r\n        // Verify state on button and state on panel\r\n        let expanded = currentButton.getAttribute(EXPANDED) === 'true';\r\n        this.toggleButton(currentButton, expanded);\r\n\r\n        // Set click event on accordion buttons\r\n        currentButton.removeEventListener('click', this.eventOnClick.bind(this, currentButton), false);\r\n        currentButton.addEventListener('click', this.eventOnClick.bind(this, currentButton), false);\r\n    }\r\n    // Set click event on bulk button if present\r\n    let prevSibling = this.accordion.previousElementSibling;\r\n    if (prevSibling !== null && prevSibling.classList.contains('accordion-bulk-button')) {\r\n        this.bulkFunctionButton = prevSibling;\r\n        this.bulkFunctionButton.addEventListener('click', this.bulkEvent.bind(this));\r\n    }\r\n}\r\n\r\n/**\r\n * Bulk event handler: Triggered when clicking on .accordion-bulk-button\r\n */\r\nAccordion.prototype.bulkEvent = function () {\r\n    var $module = this;\r\n    if (!$module.accordion.classList.contains('accordion')) {\r\n        throw new Error(`Could not find accordion.`);\r\n    }\r\n    if ($module.buttons.length == 0) {\r\n        throw new Error(`Missing accordion buttons`);\r\n    }\r\n\r\n    let expand = true;\r\n    if ($module.bulkFunctionButton.getAttribute(BULK_FUNCTION_ACTION_ATTRIBUTE) === \"false\") {\r\n        expand = false;\r\n    }\r\n    for (var i = 0; i < $module.buttons.length; i++) {\r\n        $module.toggleButton($module.buttons[i], expand, true);\r\n    }\r\n\r\n    $module.bulkFunctionButton.setAttribute(BULK_FUNCTION_ACTION_ATTRIBUTE, !expand);\r\n    if (!expand === true) {\r\n        $module.bulkFunctionButton.innerText = this.text.open_all;\r\n    } else {\r\n        $module.bulkFunctionButton.innerText = this.text.close_all;\r\n    }\r\n}\r\n\r\n/**\r\n * Accordion button event handler: Toggles accordion\r\n * @param {HTMLButtonElement} $button \r\n * @param {PointerEvent} e \r\n */\r\nAccordion.prototype.eventOnClick = function ($button, e) {\r\n    var $module = this;\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    $module.toggleButton($button);\r\n}\r\n\r\n/**\r\n * Toggle a button's \"pressed\" state, optionally providing a target\r\n * state.\r\n *\r\n * @param {HTMLButtonElement} button\r\n * @param {boolean?} expanded If no state is provided, the current\r\n * state will be toggled (from false to true, and vice-versa).\r\n * @return {boolean} the resulting state\r\n */\r\nAccordion.prototype.toggleButton = function (button, expanded, bulk = false) {\r\n    let accordion = null;\r\n    if (button.parentNode.parentNode.classList.contains('accordion')) {\r\n        accordion = button.parentNode.parentNode;\r\n    } else if (button.parentNode.parentNode.parentNode.classList.contains('accordion')) {\r\n        accordion = button.parentNode.parentNode.parentNode;\r\n    }\r\n    expanded = toggle(button, expanded);\r\n    if (expanded) {\r\n        let eventOpen = new Event('fds.accordion.open');\r\n        button.dispatchEvent(eventOpen);\r\n    } else {\r\n        let eventClose = new Event('fds.accordion.close');\r\n        button.dispatchEvent(eventClose);\r\n    }\r\n\r\n    if (accordion !== null) {\r\n        let bulkFunction = accordion.previousElementSibling;\r\n        if (bulkFunction !== null && bulkFunction.classList.contains('accordion-bulk-button')) {\r\n            let buttons = accordion.querySelectorAll(BUTTON);\r\n            if (bulk === false) {\r\n                let buttonsOpen = accordion.querySelectorAll(BUTTON + '[aria-expanded=\"true\"]');\r\n                let newStatus = true;\r\n\r\n                if (buttons.length === buttonsOpen.length) {\r\n                    newStatus = false;\r\n                }\r\n\r\n                bulkFunction.setAttribute(BULK_FUNCTION_ACTION_ATTRIBUTE, newStatus);\r\n                if (newStatus === true) {\r\n                    bulkFunction.innerText = this.text.open_all;\r\n                } else {\r\n                    bulkFunction.innerText = this.text.close_all;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default Accordion;","'use strict';\r\nfunction Alert(alert){\r\n    this.alert = alert;\r\n}\r\n\r\nAlert.prototype.init = function(){\r\n    let close = this.alert.getElementsByClassName('alert-close');\r\n    if(close.length === 1){\r\n        close[0].addEventListener('click', this.hide.bind(this));\r\n    }\r\n}\r\n\r\nAlert.prototype.hide = function(){\r\n    this.alert.classList.add('d-none');\r\n    let eventHide = new Event('fds.alert.hide');\r\n    this.alert.dispatchEvent(eventHide);\r\n};\r\n\r\nAlert.prototype.show = function(){\r\n    this.alert.classList.remove('d-none');\r\n    \r\n    let eventShow = new Event('fds.alert.show');\r\n    this.alert.dispatchEvent(eventShow);\r\n};\r\n\r\nexport default Alert;","'use strict';\r\n\r\nfunction BackToTop(backtotop) {\r\n    this.backtotop = backtotop;\r\n}\r\n\r\nBackToTop.prototype.init = function () {\r\n    let backtotopbutton = this.backtotop;\r\n\r\n    updateBackToTopButton(backtotopbutton);\r\n\r\n    // DOM changes\r\n    let config = {\r\n        attributes: true,\r\n        attributeOldValue: false,\r\n        characterData: true,\r\n        characterDataOldValue: false,\r\n        childList: true,\r\n        subtree: true\r\n    };\r\n    const observerTarget = document.body;\r\n    let header = document.querySelector('header.header');\r\n    const callback = function (mutationsList, observer) {\r\n        for (const mutation of mutationsList) {\r\n            // Don't react to changes in the back-to-top button\r\n            if (mutation.target !== backtotopbutton) {\r\n                // Don't react to changes in the header\r\n                if (header === null) {\r\n                    updateBackToTopButton(backtotopbutton);\r\n                }\r\n                else if (!header.contains(mutation.target)) {\r\n                    updateBackToTopButton(backtotopbutton);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const observer = new MutationObserver(callback);\r\n    observer.observe(observerTarget, config);\r\n\r\n    // Scroll actions\r\n    window.addEventListener('scroll', function (e) {\r\n        updateBackToTopButton(backtotopbutton);\r\n    });\r\n\r\n    // Window resizes\r\n    window.addEventListener('resize', function (e) {\r\n        updateBackToTopButton(backtotopbutton);\r\n    });\r\n\r\n    // All resources have loaded\r\n    window.addEventListener('load', function (e) {\r\n        updateBackToTopButton(backtotopbutton);\r\n    });\r\n}\r\n\r\nfunction updateBackToTopButton(button) {\r\n    let docBody = document.body;\r\n    let docElem = document.documentElement;\r\n    let heightOfViewport = Math.max(docElem.clientHeight || 0, window.innerHeight || 0);\r\n    let heightOfPage = Math.max(docBody.scrollHeight, docBody.offsetHeight, docBody.getBoundingClientRect().height,\r\n        docElem.scrollHeight, docElem.offsetHeight, docElem.getBoundingClientRect().height, docElem.clientHeight);\r\n\r\n    let limit = heightOfViewport * 2; // The threshold selected to determine whether a back-to-top-button should be displayed\r\n\r\n    // Never show the button if the page is too short\r\n    if (limit > heightOfPage) {\r\n        button.classList.add('d-none');\r\n    }\r\n    // If the page is long, calculate when to show the button\r\n    else {\r\n        button.classList.remove('d-none');\r\n\r\n        let lastKnownScrollPosition = window.scrollY;\r\n        let footerVisible = isFooterVisible(document.getElementsByTagName(\"footer\")[0]);\r\n\r\n        // Show the button, if the user has scrolled too far down\r\n        if (lastKnownScrollPosition >= limit) {\r\n            // If the footer is visible, place the button on top of the footer\r\n            if (footerVisible && !button.classList.contains('footer-sticky')) {\r\n                button.classList.add('footer-sticky');\r\n            }\r\n            // If the footer is not visible, place the button in the lower right corner\r\n            else if (!footerVisible && button.classList.contains('footer-sticky')) {\r\n                button.classList.remove('footer-sticky');\r\n            }\r\n        }\r\n        // If the page has a sidenav, the threshold is always ignored when the bottom of the sidenav is no longer visible\r\n        else {\r\n            let maybeShowButton = false;\r\n\r\n            // Check whether the page has a sidenav (left menu or step guide)\r\n            let sidenav = document.querySelector('.sidemenu');\r\n            if (sidenav) {\r\n                // Ensure that the sidenav hasn't been hidden, e.g. due to a window resize\r\n                let sidenavParentNotHidden = (sidenav.offsetParent !== null);\r\n                if (sidenavParentNotHidden) {\r\n                    // If the sidenav is responsive, ensure that it is not collapsed\r\n                    let sidenavContainer = sidenav.closest(\".overflow-menu-inner\");\r\n                    if (sidenavContainer) {\r\n                        if (sidenavContainer.getAttribute('aria-hidden') === \"false\") {\r\n                            // Check that the sidenav was not opened from an overflow menu\r\n                            let overflowMenu = sidenavContainer.previousElementSibling;\r\n                            if (overflowMenu) {\r\n                                let overflowMenuParentNotHidden = overflowMenu.offsetParent === null;\r\n                                if (overflowMenuParentNotHidden) {\r\n                                    maybeShowButton = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        maybeShowButton = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!maybeShowButton) {\r\n                if (!button.classList.contains('footer-sticky')) {\r\n                    button.classList.add('footer-sticky');\r\n                }\r\n            }\r\n            else {\r\n                let rect = sidenav.getBoundingClientRect();\r\n                // If the sidenav isn't visible, check where to place the button\r\n                if (rect.bottom < 0) {\r\n                    if (!footerVisible && button.classList.contains('footer-sticky')) {\r\n                        button.classList.remove('footer-sticky');\r\n                    }\r\n                    else if (footerVisible && !button.classList.contains('footer-sticky')) {\r\n                        button.classList.add('footer-sticky');\r\n                    }\r\n                }\r\n                // If the sidenav is visible and the scroll threshold hasn't been met, place the button at the footer\r\n                else {\r\n                    if (!button.classList.contains('footer-sticky')) {\r\n                        button.classList.add('footer-sticky');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction isFooterVisible(footerElement) {\r\n    if (footerElement) {\r\n        if (footerElement.querySelector('.footer')) {\r\n            let rect = footerElement.querySelector('.footer').getBoundingClientRect();\r\n            if ((rect.top < window.innerHeight || rect.top < document.documentElement.clientHeight)) {\r\n                // Footer is (partly) visible\r\n                return true;\r\n            }\r\n            else {\r\n                // Footer is not visible\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            // Footer class is missing\r\n            return false;\r\n        }\r\n    }\r\n    else {\r\n        // Footer element is missing\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default BackToTop;","'use strict';\r\n\r\nconst MAX_LENGTH = 'data-maxlength';\r\nconst TEXT_CHARACTERLIMIT = {\r\n    \"character_remaining\": \"Du har {value} tegn tilbage\",\r\n    \"characters_remaining\": \"Du har {value} tegn tilbage\",\r\n    \"character_too_many\": \"Du har {value} tegn for meget\",\r\n    \"characters_too_many\": \"Du har {value} tegn for meget\"\r\n};\r\n\r\n/**\r\n * Show number of characters left in a field\r\n * @param {HTMLElement} containerElement \r\n * @param {JSON} strings Translate labels: {\"character_remaining\": \"Du har {value} tegn tilbage\", \"characters_remaining\": \"Du har {value} tegn tilbage\", \"character_too_many\": \"Du har {value} tegn for meget\", \"characters_too_many\": \"Du har {value} tegn for meget\"}\r\n */\r\n function CharacterLimit(containerElement, strings = TEXT_CHARACTERLIMIT) {\r\n    if (!containerElement) {\r\n        throw new Error(`Missing form-limit element`);\r\n    }\r\n    this.container = containerElement;\r\n    this.input = containerElement.getElementsByClassName('form-input')[0];\r\n    this.maxlength = this.container.getAttribute(MAX_LENGTH);\r\n    this.text = strings;\r\n\r\n    let lastKeyUpTimestamp = null;\r\n    let oldValue = this.input.value;\r\n    let intervalID = null;\r\n\r\n    let handleKeyUp = () => {\r\n        updateVisibleMessage(this);\r\n        lastKeyUpTimestamp = Date.now();\r\n    }\r\n\r\n    let handleFocus = () => {\r\n        /* Reset the screen reader message on focus to force an update of the message.\r\n        This ensures that a screen reader informs the user of how many characters there is left\r\n        on focus and not just what the character limit is. */\r\n        if (this.input.value !== \"\") {\r\n            let sr_message = this.container.getElementsByClassName('character-limit-sr-only')[0];\r\n            sr_message.innerHTML = '';\r\n        }\r\n    \r\n        intervalID = setInterval(function () {\r\n            /* Don't update the Screen Reader message unless it's been awhile\r\n            since the last key up event. Otherwise, the user will be spammed\r\n            with audio notifications while typing. */\r\n            if (!lastKeyUpTimestamp || (Date.now() - 500) >= lastKeyUpTimestamp) {\r\n                let sr_message = this.container.getElementsByClassName('character-limit-sr-only')[0].innerHTML;\r\n                let visible_message = this.container.getElementsByClassName('character-limit')[0].innerHTML;     \r\n    \r\n                /* Don't update the messages unless the input has changed or if there\r\n                is a mismatch between the visible message and the screen reader message. */\r\n                if (oldValue !== this.input.value || sr_message !== visible_message) {\r\n                    oldValue = this.input.value;\r\n                    this.updateMessages();\r\n                }\r\n            }\r\n        }.bind(this), 1000);\r\n    }\r\n    \r\n    let handleBlur = () => {\r\n        clearInterval(intervalID);\r\n        // Don't update the messages on blur unless the value of the textarea/text input has changed\r\n        if (oldValue !== this.input.value) {\r\n            oldValue = this.input.value;\r\n            this.updateMessages();\r\n        }\r\n    }\r\n\r\n    this.init = function() {\r\n        if (!this.maxlength) {\r\n            throw new Error(`Character limit is missing attribute ${MAX_LENGTH}`);\r\n        }\r\n\r\n        this.input.addEventListener('keyup', function() {\r\n            handleKeyUp();\r\n        });\r\n        this.input.addEventListener('focus', function() {\r\n            handleFocus();\r\n        });\r\n        this.input.addEventListener('blur', function() {\r\n            handleBlur();\r\n        });\r\n\r\n        /* If the browser supports the pageshow event, use it to update the character limit\r\n        message and sr-message once a page has loaded. Second best, use the DOMContentLoaded event. \r\n        This ensures that if the user navigates to another page in the browser and goes back, the \r\n        message and sr-message will show/tell the correct amount of characters left. */\r\n        if ('onpageshow' in window) {\r\n            window.addEventListener('pageshow', () => {\r\n                this.updateMessages();\r\n            });\r\n        } \r\n        else {\r\n            window.addEventListener('DOMContentLoaded', () => {\r\n                this.updateMessages();\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\nCharacterLimit.prototype.charactersLeft = function () {\r\n    let current_length = this.input.value.length;\r\n    return this.maxlength - current_length;\r\n}\r\n\r\nfunction characterLimitMessage(formLimit) {\r\n    let count_message = \"\";\r\n    let characters_left = formLimit.charactersLeft();\r\n\r\n    if (characters_left === -1) {\r\n        let exceeded = Math.abs(characters_left);\r\n        count_message = formLimit.text.character_too_many.replace(/{value}/, exceeded);\r\n    }\r\n    else if (characters_left === 1) {\r\n        count_message = formLimit.text.character_remaining.replace(/{value}/, characters_left);\r\n    }\r\n    else if (characters_left >= 0) {\r\n        count_message = formLimit.text.characters_remaining.replace(/{value}/, characters_left);\r\n    }\r\n    else {\r\n        let exceeded = Math.abs(characters_left);\r\n        count_message = formLimit.text.characters_too_many.replace(/{value}/, exceeded);\r\n    }\r\n\r\n    return count_message;\r\n}\r\n\r\nfunction updateVisibleMessage(formLimit) {\r\n    let characters_left = formLimit.charactersLeft();\r\n    let count_message = characterLimitMessage(formLimit);\r\n    let character_label = formLimit.container.getElementsByClassName('character-limit')[0];\r\n\r\n    if (characters_left < 0) {\r\n        if (!character_label.classList.contains('limit-exceeded')) {\r\n            character_label.classList.add('limit-exceeded');\r\n        }\r\n        if (!formLimit.input.classList.contains('form-limit-error')) {\r\n            formLimit.input.classList.add('form-limit-error');\r\n        }\r\n    }\r\n    else {\r\n        if (character_label.classList.contains('limit-exceeded')) {\r\n            character_label.classList.remove('limit-exceeded');\r\n        }\r\n        if (formLimit.input.classList.contains('form-limit-error')) {\r\n            formLimit.input.classList.remove('form-limit-error');\r\n        }\r\n    }\r\n\r\n    character_label.innerHTML = count_message;\r\n}\r\n\r\nfunction updateScreenReaderMessage(formLimit) {\r\n    let count_message = characterLimitMessage(formLimit);\r\n    let character_label = formLimit.container.getElementsByClassName('character-limit-sr-only')[0];\r\n    character_label.innerHTML = count_message;\r\n}\r\n\r\nCharacterLimit.prototype.updateMessages = function () {\r\n    updateVisibleMessage(this);\r\n    updateScreenReaderMessage(this);\r\n}\r\n\r\nexport default CharacterLimit;","'use strict';\r\n\r\nconst TOGGLE_TARGET_ATTRIBUTE = 'data-aria-controls';\r\n\r\n/**\r\n * Adds click functionality to checkbox collapse component\r\n * @param {HTMLInputElement} checkboxElement \r\n */\r\nfunction CheckboxToggleContent(checkboxElement){\r\n    this.checkboxElement = checkboxElement;\r\n    this.targetElement = null;\r\n}\r\n\r\n/**\r\n * Set events on checkbox state change\r\n */\r\nCheckboxToggleContent.prototype.init = function(){\r\n    this.checkboxElement.addEventListener('change', this.toggle.bind(this));\r\n    this.toggle();\r\n}\r\n\r\n/**\r\n * Toggle checkbox content\r\n */\r\nCheckboxToggleContent.prototype.toggle = function(){\r\n    var $module = this;\r\n    var targetAttr = this.checkboxElement.getAttribute(TOGGLE_TARGET_ATTRIBUTE)\r\n    var targetEl = document.getElementById(targetAttr);\r\n    if(targetEl === null || targetEl === undefined){\r\n        throw new Error(`Could not find panel element. Verify value of attribute `+ TOGGLE_TARGET_ATTRIBUTE);\r\n    }\r\n    if(this.checkboxElement.checked){\r\n        $module.expand(this.checkboxElement, targetEl);\r\n    }else{\r\n        $module.collapse(this.checkboxElement, targetEl);\r\n    }\r\n}\r\n\r\n/**\r\n * Expand content\r\n * @param {HTMLInputElement} checkboxElement Checkbox input element \r\n * @param {HTMLElement} contentElement Content container element \r\n */\r\nCheckboxToggleContent.prototype.expand = function(checkboxElement, contentElement){\r\n    if(checkboxElement !== null && checkboxElement !== undefined && contentElement !== null && contentElement !== undefined){\r\n        checkboxElement.setAttribute('data-aria-expanded', 'true');\r\n        contentElement.classList.remove('collapsed');\r\n        contentElement.setAttribute('aria-hidden', 'false');\r\n        let eventOpen = new Event('fds.collapse.expanded');\r\n        checkboxElement.dispatchEvent(eventOpen);\r\n    }\r\n}\r\n\r\n/**\r\n * Collapse content\r\n * @param {HTMLInputElement} checkboxElement Checkbox input element \r\n * @param {HTMLElement} contentElement Content container element \r\n */\r\nCheckboxToggleContent.prototype.collapse = function(triggerEl, targetEl){\r\n    if(triggerEl !== null && triggerEl !== undefined && targetEl !== null && targetEl !== undefined){\r\n        triggerEl.setAttribute('data-aria-expanded', 'false');\r\n        targetEl.classList.add('collapsed');\r\n        targetEl.setAttribute('aria-hidden', 'true');\r\n        \r\n        let eventClose = new Event('fds.collapse.collapsed');\r\n        triggerEl.dispatchEvent(eventClose);\r\n    }\r\n}\r\n\r\nexport default CheckboxToggleContent;\r\n","'use strict';\r\nconst breakpoints = require('../utils/breakpoints').default;\r\nconst BUTTON = '.button-overflow-menu';\r\nconst jsDropdownCollapseModifier = 'js-dropdown--responsive-collapse'; //option: make dropdown behave as the collapse component when on small screens (used by submenus in the header and step-dropdown).\r\nconst TARGET = 'data-js-target';\r\n\r\n/**\r\n * Add functionality to overflow menu component\r\n * @param {HTMLButtonElement} buttonElement Overflow menu button\r\n */\r\nfunction Dropdown (buttonElement) {\r\n  this.buttonElement = buttonElement;\r\n  this.targetEl = null;\r\n  this.responsiveListCollapseEnabled = false;\r\n\r\n  if(this.buttonElement === null ||this.buttonElement === undefined){\r\n    throw new Error(`Could not find button for overflow menu component.`);\r\n  }\r\n  let targetAttr = this.buttonElement.getAttribute(TARGET);\r\n  if(targetAttr === null || targetAttr === undefined){\r\n    throw new Error('Attribute could not be found on overflow menu component: '+TARGET);\r\n  }\r\n  let targetEl = document.getElementById(targetAttr);\r\n  if(targetEl === null || targetEl === undefined){\r\n    throw new Error('Panel for overflow menu component could not be found.');\r\n  }\r\n  this.targetEl = targetEl;\r\n}\r\n\r\n/**\r\n * Set click events\r\n */\r\nDropdown.prototype.init = function (){\r\n  if(this.buttonElement !== null && this.buttonElement !== undefined && this.targetEl !== null && this.targetEl !== undefined){\r\n\r\n    if(this.buttonElement.parentNode.classList.contains('overflow-menu--md-no-responsive') || this.buttonElement.parentNode.classList.contains('overflow-menu--lg-no-responsive')){\r\n      this.responsiveListCollapseEnabled = true;\r\n    }\r\n\r\n    //Clicked outside dropdown -> close it\r\n    document.getElementsByTagName('body')[ 0 ].removeEventListener('click', outsideClose);\r\n    document.getElementsByTagName('body')[ 0 ].addEventListener('click', outsideClose);\r\n    //Clicked on dropdown open button --> toggle it\r\n    this.buttonElement.removeEventListener('click', toggleDropdown);\r\n    this.buttonElement.addEventListener('click', toggleDropdown);\r\n    let $module = this;\r\n    // set aria-hidden correctly for screenreaders (Tringuide responsive)\r\n    if(this.responsiveListCollapseEnabled) {\r\n      let element = this.buttonElement;\r\n      if (window.IntersectionObserver) {\r\n        // trigger event when button changes visibility\r\n        let observer = new IntersectionObserver(function (entries) {\r\n          // button is visible\r\n          if (entries[ 0 ].intersectionRatio) {\r\n            if (element.getAttribute('aria-expanded') === 'false') {\r\n              $module.targetEl.setAttribute('aria-hidden', 'true');\r\n            }\r\n          } else {\r\n            // button is not visible\r\n            if ($module.targetEl.getAttribute('aria-hidden') === 'true') {\r\n              $module.targetEl.setAttribute('aria-hidden', 'false');\r\n            }\r\n          }\r\n        }, {\r\n          root: document.body\r\n        });\r\n        observer.observe(element);\r\n      } else {\r\n        // IE: IntersectionObserver is not supported, so we listen for window resize and grid breakpoint instead\r\n        if (doResponsiveCollapse($module.triggerEl)) {\r\n          // small screen\r\n          if (element.getAttribute('aria-expanded') === 'false') {\r\n            $module.targetEl.setAttribute('aria-hidden', 'true');\r\n          } else{\r\n            $module.targetEl.setAttribute('aria-hidden', 'false');\r\n          }\r\n        } else {\r\n          // Large screen\r\n          $module.targetEl.setAttribute('aria-hidden', 'false');\r\n        }\r\n        window.addEventListener('resize', function () {\r\n          if (doResponsiveCollapse($module.triggerEl)) {\r\n            if (element.getAttribute('aria-expanded') === 'false') {\r\n              $module.targetEl.setAttribute('aria-hidden', 'true');\r\n            } else{\r\n              $module.targetEl.setAttribute('aria-hidden', 'false');\r\n            }\r\n          } else {\r\n            $module.targetEl.setAttribute('aria-hidden', 'false');\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    \r\n    document.removeEventListener('keyup', closeOnEscape);\r\n    document.addEventListener('keyup', closeOnEscape);\r\n  }\r\n}\r\n\r\n/**\r\n * Hide overflow menu\r\n */\r\nDropdown.prototype.hide = function(){\r\n  toggle(this.buttonElement);\r\n}\r\n\r\n/**\r\n * Show overflow menu\r\n */\r\nDropdown.prototype.show = function(){\r\n  toggle(this.buttonElement);\r\n}\r\n\r\nlet closeOnEscape = function(event){\r\n  var key = event.which || event.keyCode;\r\n  if (key === 27) {\r\n    closeAll(event);\r\n  }\r\n};\r\n\r\n/**\r\n * Get an Array of button elements belonging directly to the given\r\n * accordion element.\r\n * @param parent accordion element\r\n * @returns {NodeListOf<SVGElementTagNameMap[[string]]> | NodeListOf<HTMLElementTagNameMap[[string]]> | NodeListOf<Element>}\r\n */\r\nlet getButtons = function (parent) {\r\n  return parent.querySelectorAll(BUTTON);\r\n};\r\n\r\n/**\r\n * Close all overflow menus\r\n * @param {event} event default is null\r\n */\r\nlet closeAll = function (event = null){\r\n  let changed = false;\r\n  const body = document.querySelector('body');\r\n\r\n  let overflowMenuEl = document.querySelectorAll(\".overflow-menu, .submenu\");\r\n  for (let oi = 0; oi < overflowMenuEl.length; oi++) {\r\n    let currentOverflowMenuEL = overflowMenuEl[ oi ];\r\n    let triggerEl = currentOverflowMenuEL.querySelector(BUTTON+'[aria-expanded=\"true\"]');\r\n    if(triggerEl !== null){\r\n      changed = true;\r\n      let targetEl = document.getElementById(triggerEl.getAttribute(TARGET).replace('#', ''));\r\n\r\n        if (targetEl !== null && triggerEl !== null) {\r\n          if(doResponsiveCollapse(triggerEl)){\r\n            if(triggerEl.getAttribute('aria-expanded') === true){\r\n              let eventClose = new Event('fds.dropdown.close');\r\n              triggerEl.dispatchEvent(eventClose);\r\n            }\r\n            triggerEl.setAttribute('aria-expanded', 'false');\r\n            targetEl.classList.add('collapsed');\r\n            targetEl.setAttribute('aria-hidden', 'true');\r\n          }\r\n        }\r\n    }\r\n  }\r\n\r\n  if(changed && event !== null){\r\n    event.stopImmediatePropagation();\r\n  }\r\n};\r\nlet offset = function (el) {\r\n  let rect = el.getBoundingClientRect(),\r\n    scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n    scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\r\n};\r\n\r\nlet toggleDropdown = function (event, forceClose = false) {\r\n  event.stopPropagation();\r\n  event.preventDefault();\r\n\r\n  toggle(this, forceClose);\r\n\r\n};\r\n\r\nlet toggle = function(button, forceClose = false){\r\n  let triggerEl = button;\r\n  let targetEl = null;\r\n  if(triggerEl !== null && triggerEl !== undefined){\r\n    let targetAttr = triggerEl.getAttribute(TARGET);\r\n    if(targetAttr !== null && targetAttr !== undefined){\r\n      targetEl = document.getElementById(targetAttr);\r\n    }\r\n  }\r\n  if(triggerEl !== null && triggerEl !== undefined && targetEl !== null && targetEl !== undefined){\r\n    //change state\r\n\r\n    targetEl.style.left = null;\r\n    targetEl.style.right = null;\r\n\r\n    if(triggerEl.getAttribute('aria-expanded') === 'true' || forceClose){\r\n      //close\r\n      triggerEl.setAttribute('aria-expanded', 'false');\r\n      targetEl.classList.add('collapsed');\r\n      targetEl.setAttribute('aria-hidden', 'true');      \r\n      let eventClose = new Event('fds.dropdown.close');\r\n      triggerEl.dispatchEvent(eventClose);\r\n    }else{\r\n      \r\n      if(!document.getElementsByTagName('body')[0].classList.contains('mobile-nav-active')){\r\n        closeAll();\r\n      }\r\n      //open\r\n      triggerEl.setAttribute('aria-expanded', 'true');\r\n      targetEl.classList.remove('collapsed');\r\n      targetEl.setAttribute('aria-hidden', 'false');\r\n      let eventOpen = new Event('fds.dropdown.open');\r\n      triggerEl.dispatchEvent(eventOpen);\r\n\r\n      let targetOffset = offset(targetEl);\r\n      if(targetOffset.left < 0){\r\n        targetEl.style.left = '0px';\r\n        targetEl.style.right = 'auto';\r\n\r\n        if(parseInt(window.getComputedStyle(targetEl).marginLeft) < 0) {\r\n          targetEl.style.marginLeft = 0;\r\n        }\r\n      }\r\n      \r\n      let right = targetOffset.left + targetEl.offsetWidth;\r\n      if(right > document.body.clientWidth){\r\n        targetEl.style.left = 'auto';\r\n        targetEl.style.right = '-4px'; // Focus outline\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\nlet hasParent = function (child, parentTagName){\r\n  if(child.parentNode.tagName === parentTagName){\r\n    return true;\r\n  } else if(parentTagName !== 'BODY' && child.parentNode.tagName !== 'BODY'){\r\n    return hasParent(child.parentNode, parentTagName);\r\n  }else{\r\n    return false;\r\n  }\r\n};\r\n\r\nlet outsideClose = function (evt){\r\n  if(!document.getElementsByTagName('body')[0].classList.contains('mobile-nav-active')){\r\n    if(document.querySelector('body.mobile-nav-active') === null && !evt.target.classList.contains('button-menu-close')) {\r\n      let openDropdowns = document.querySelectorAll(BUTTON+'[aria-expanded=true]');\r\n      for (let i = 0; i < openDropdowns.length; i++) {\r\n        let triggerEl = openDropdowns[i];\r\n        let targetEl = null;\r\n        let targetAttr = triggerEl.getAttribute(TARGET);\r\n        if (targetAttr !== null && targetAttr !== undefined) {\r\n          if(targetAttr.indexOf('#') !== -1){\r\n            targetAttr = targetAttr.replace('#', '');\r\n          }\r\n          targetEl = document.getElementById(targetAttr);\r\n        }\r\n        if (doResponsiveCollapse(triggerEl) || (hasParent(triggerEl, 'HEADER') && !evt.target.classList.contains('overlay'))) {\r\n          //closes dropdown when clicked outside\r\n          if (evt.target !== triggerEl) {\r\n            //clicked outside trigger, force close\r\n            triggerEl.setAttribute('aria-expanded', 'false');\r\n            targetEl.classList.add('collapsed');\r\n            targetEl.setAttribute('aria-hidden', 'true');          \r\n            let eventClose = new Event('fds.dropdown.close');\r\n            triggerEl.dispatchEvent(eventClose);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nlet doResponsiveCollapse = function (triggerEl){\r\n  if(!triggerEl.classList.contains(jsDropdownCollapseModifier)){\r\n    // not nav overflow menu\r\n    if(triggerEl.parentNode.classList.contains('overflow-menu--md-no-responsive') || triggerEl.parentNode.classList.contains('overflow-menu--lg-no-responsive')) {\r\n      // trinindikator overflow menu\r\n      if (window.innerWidth <= getTringuideBreakpoint(triggerEl)) {\r\n        // overflow menu p responsiv tringuide aktiveret\r\n        return true;\r\n      }\r\n    } else{\r\n      // normal overflow menu\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nlet getTringuideBreakpoint = function (button){\r\n  if(button.parentNode.classList.contains('overflow-menu--md-no-responsive')){\r\n    return breakpoints.md;\r\n  }\r\n  if(button.parentNode.classList.contains('overflow-menu--lg-no-responsive')){\r\n    return breakpoints.lg;\r\n  }\r\n};\r\n\r\nexport default Dropdown;","'use strict';\r\nimport Dropdown from './dropdown';\r\n\r\n/**\r\n * Add functionality to sorting variant of Overflow menu component\r\n * @param {HTMLElement} container .overflow-menu element\r\n */\r\nfunction DropdownSort (container){\r\n    this.container = container;\r\n    this.button = container.getElementsByClassName('button-overflow-menu')[0];\r\n    this.overflowMenu = new Dropdown(this.button);\r\n\r\n    // if no value is selected, choose first option\r\n    if(!this.container.querySelector('.overflow-list li button[aria-current=\"true\"]')){\r\n        this.container.querySelectorAll('.overflow-list li button')[0].setAttribute('aria-current', \"true\");\r\n    }\r\n\r\n    this.updateSelectedValue();\r\n}\r\n\r\n/**\r\n * Add click events on overflow menu and options in menu\r\n */\r\nDropdownSort.prototype.init = function(){\r\n    this.overflowMenu.init();\r\n\r\n    let sortingOptions = this.container.querySelectorAll('.overflow-list li button');\r\n    for(let s = 0; s < sortingOptions.length; s++){\r\n        let option = sortingOptions[s];\r\n        option.addEventListener('click', this.onOptionClick.bind(this));\r\n    }\r\n}\r\n\r\n/**\r\n * Update button text to selected value\r\n */\r\nDropdownSort.prototype.updateSelectedValue = function(){\r\n    let selectedItem = this.container.querySelector('.overflow-list li button[aria-current=\"true\"]');\r\n    this.container.getElementsByClassName('button-overflow-menu')[0].getElementsByClassName('selected-value')[0].innerText = selectedItem.innerText;\r\n}\r\n\r\n/**\r\n * Triggers when choosing option in menu\r\n * @param {PointerEvent} e\r\n */\r\nDropdownSort.prototype.onOptionClick = function(e){\r\n    let li = e.target.closest('li');\r\n    li.parentNode.querySelector('li button[aria-current=\"true\"]').removeAttribute('aria-current');\r\n    li.querySelectorAll('.overflow-list li button')[0].setAttribute('aria-current', 'true');\r\n\r\n    let button = li.parentNode.parentNode.parentNode.getElementsByClassName('button-overflow-menu')[0];\r\n    let eventSelected = new Event('fds.dropdown.selected');\r\n    eventSelected.detail = this.target;\r\n    button.dispatchEvent(eventSelected);\r\n    this.updateSelectedValue();\r\n    this.overflowMenu.hide();\r\n}\r\n\r\nexport default DropdownSort;\r\n","'use strict';\r\n/**\r\n * Handle focus on input elements upon clicking link in error message\r\n * @param {HTMLElement} element Error summary element\r\n */\r\nfunction ErrorSummary (element) {\r\n  this.element = element;\r\n}\r\n\r\n/**\r\n * Set events on links in error summary\r\n */\r\nErrorSummary.prototype.init = function () {\r\n  if (!this.element) {\r\n    return\r\n  }\r\n  this.element.focus()\r\n\r\n  this.element.addEventListener('click', this.handleClick.bind(this))\r\n}\r\n\r\n/**\r\n* Click event handler\r\n*\r\n* @param {MouseEvent} event - Click event\r\n*/\r\nErrorSummary.prototype.handleClick = function (event) {\r\n  var target = event.target\r\n  if (this.focusTarget(target)) {\r\n    event.preventDefault()\r\n  }\r\n}\r\n\r\n/**\r\n * Focus the target element\r\n *\r\n * By default, the browser will scroll the target into view. Because our labels\r\n * or legends appear above the input, this means the user will be presented with\r\n * an input without any context, as the label or legend will be off the top of\r\n * the screen.\r\n *\r\n * Manually handling the click event, scrolling the question into view and then\r\n * focussing the element solves this.\r\n *\r\n * This also results in the label and/or legend being announced correctly in\r\n * NVDA (as tested in 2018.3.2) - without this only the field type is announced\r\n * (e.g. \"Edit, has autocomplete\").\r\n *\r\n * @param {HTMLElement} $target - Event target\r\n * @returns {boolean} True if the target was able to be focussed\r\n */\r\nErrorSummary.prototype.focusTarget = function ($target) {\r\n  // If the element that was clicked was not a link, return early\r\n  if ($target.tagName !== 'A' || $target.href === false) {\r\n    return false\r\n  }\r\n\r\n  var inputId = this.getFragmentFromUrl($target.href)\r\n  var $input = document.getElementById(inputId)\r\n  if (!$input) {\r\n    return false\r\n  }\r\n\r\n  var $legendOrLabel = this.getAssociatedLegendOrLabel($input)\r\n  if (!$legendOrLabel) {\r\n    return false\r\n  }\r\n\r\n  // Scroll the legend or label into view *before* calling focus on the input to\r\n  // avoid extra scrolling in browsers that don't support `preventScroll` (which\r\n  // at time of writing is most of them...)\r\n  $legendOrLabel.scrollIntoView()\r\n  $input.focus({ preventScroll: true })\r\n\r\n  return true\r\n}\r\n\r\n/**\r\n * Get fragment from URL\r\n *\r\n * Extract the fragment (everything after the hash) from a URL, but not including\r\n * the hash.\r\n *\r\n * @param {string} url - URL\r\n * @returns {string} Fragment from URL, without the hash\r\n */\r\nErrorSummary.prototype.getFragmentFromUrl = function (url) {\r\n  if (url.indexOf('#') === -1) {\r\n    return false\r\n  }\r\n\r\n  return url.split('#').pop()\r\n}\r\n\r\n/**\r\n * Get associated legend or label\r\n *\r\n * Returns the first element that exists from this list:\r\n *\r\n * - The `<legend>` associated with the closest `<fieldset>` ancestor, as long\r\n *   as the top of it is no more than half a viewport height away from the\r\n *   bottom of the input\r\n * - The first `<label>` that is associated with the input using for=\"inputId\"\r\n * - The closest parent `<label>`\r\n *\r\n * @param {HTMLElement} $input - The input\r\n * @returns {HTMLElement} Associated legend or label, or null if no associated\r\n *                        legend or label can be found\r\n */\r\nErrorSummary.prototype.getAssociatedLegendOrLabel = function ($input) {\r\n  var $fieldset = $input.closest('fieldset')\r\n\r\n  if ($fieldset) {\r\n    var legends = $fieldset.getElementsByTagName('legend')\r\n\r\n    if (legends.length) {\r\n      var $candidateLegend = legends[0]\r\n\r\n      // If the input type is radio or checkbox, always use the legend if there\r\n      // is one.\r\n      if ($input.type === 'checkbox' || $input.type === 'radio') {\r\n        return $candidateLegend\r\n      }\r\n\r\n      // For other input types, only scroll to the fieldsets legend (instead of\r\n      // the label associated with the input) if the input would end up in the\r\n      // top half of the screen.\r\n      //\r\n      // This should avoid situations where the input either ends up off the\r\n      // screen, or obscured by a software keyboard.\r\n      var legendTop = $candidateLegend.getBoundingClientRect().top\r\n      var inputRect = $input.getBoundingClientRect()\r\n\r\n      // If the browser doesn't support Element.getBoundingClientRect().height\r\n      // or window.innerHeight (like IE8), bail and just link to the label.\r\n      if (inputRect.height && window.innerHeight) {\r\n        var inputBottom = inputRect.top + inputRect.height\r\n\r\n        if (inputBottom - legendTop < window.innerHeight / 2) {\r\n          return $candidateLegend\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return document.querySelector(\"label[for='\" + $input.getAttribute('id') + \"']\") ||\r\n    $input.closest('label')\r\n}\r\n\r\nexport default ErrorSummary;","'use strict';\r\n/**\r\n * Adds click functionality to modal\r\n * @param {HTMLElement} $modal Modal element\r\n */\r\nfunction Modal($modal) {\r\n    this.$modal = $modal;\r\n    let id = this.$modal.getAttribute('id');\r\n    this.triggers = document.querySelectorAll('[data-module=\"modal\"][data-target=\"' + id + '\"]');\r\n}\r\n\r\n/**\r\n * Set events\r\n */\r\nModal.prototype.init = function () {\r\n    let triggers = this.triggers;\r\n    for (let i = 0; i < triggers.length; i++) {\r\n        let trigger = triggers[i];\r\n        trigger.addEventListener('click', this.show.bind(this));\r\n    }\r\n    let closers = this.$modal.querySelectorAll('[data-modal-close]');\r\n    for (let c = 0; c < closers.length; c++) {\r\n        let closer = closers[c];\r\n        closer.addEventListener('click', this.hide.bind(this));\r\n    }\r\n};\r\n\r\n/**\r\n * Hide modal\r\n */\r\nModal.prototype.hide = function () {\r\n    let modalElement = this.$modal;\r\n    if (modalElement !== null) {\r\n        modalElement.setAttribute('aria-hidden', 'true');\r\n\r\n        let eventClose = new Event('fds.modal.hidden');\r\n        modalElement.dispatchEvent(eventClose);\r\n\r\n        let $backdrop = document.querySelector('#modal-backdrop');\r\n        if ($backdrop) {\r\n            $backdrop.parentNode.removeChild($backdrop);\r\n        }\r\n\r\n        document.getElementsByTagName('body')[0].classList.remove('modal-open');\r\n\r\n        if (!hasForcedAction(modalElement)) {\r\n            document.removeEventListener('keyup', handleEscape);\r\n        }\r\n\r\n        /* Release the focus from the modal */\r\n        let bodyChildren = document.querySelectorAll('body > *');\r\n        for (let c = 0; c < bodyChildren.length; c++) {\r\n            if (bodyChildren[c].classList.contains('fds-modal-inert')) {\r\n                bodyChildren[c].removeAttribute('inert');\r\n                bodyChildren[c].classList.remove('fds-modal-inert');\r\n            }\r\n        }\r\n\r\n        /* Place focus on the element which opened the modal */\r\n        let dataModalOpener = document.querySelector('[data-modal-opener]');\r\n        if (dataModalOpener !== null) {\r\n            let opener = document.getElementById(dataModalOpener.getAttribute('data-modal-opener'));\r\n            if (opener !== null) {\r\n                opener.focus();\r\n            }\r\n            modalElement.removeAttribute('data-modal-opener');\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Show modal\r\n */\r\nModal.prototype.show = function (e = null) {\r\n    let modalElement = this.$modal;\r\n    if (modalElement !== null) {\r\n        if (e !== null) {\r\n            let openerId = e.target.getAttribute('id');\r\n            if (openerId === null) {\r\n                openerId = 'modal-opener-' + Math.floor(Math.random() * (9999 - 1000 + 1) + 1000);\r\n                e.target.setAttribute('id', openerId);\r\n            }\r\n            modalElement.setAttribute('data-modal-opener', openerId);\r\n        }\r\n\r\n        // Hide open modals - FDS do not recommend more than one open modal at a time\r\n        let activeModals = document.querySelectorAll('.fds-modal[aria-hidden=false]');\r\n        for (let i = 0; i < activeModals.length; i++) {\r\n            new Modal(activeModals[i]).hide();\r\n        }\r\n\r\n        modalElement.setAttribute('aria-hidden', 'false');\r\n        modalElement.setAttribute('tabindex', '-1');\r\n\r\n        let eventOpen = new Event('fds.modal.shown');\r\n        modalElement.dispatchEvent(eventOpen);\r\n\r\n        let $backdrop = document.createElement('div');\r\n        $backdrop.classList.add('modal-backdrop');\r\n        $backdrop.setAttribute('id', \"modal-backdrop\");\r\n        document.getElementsByTagName('body')[0].appendChild($backdrop);\r\n\r\n        document.getElementsByTagName('body')[0].classList.add('modal-open');\r\n\r\n        modalElement.focus();\r\n\r\n        if (!hasForcedAction(modalElement)) {\r\n            document.addEventListener('keyup', handleEscape);\r\n        }\r\n\r\n        /* Trap the focus inside the modal */\r\n        let bodyChildren = document.querySelectorAll('body > *');\r\n        for (let c = 0; c < bodyChildren.length; c++) {\r\n            let child = bodyChildren[c];\r\n            if (child.tagName !== 'SCRIPT' && !child.classList.contains('fds-modal-container') && !child.hasAttribute('inert')) {\r\n                child.setAttribute('inert', '');\r\n                child.classList.add('fds-modal-inert');\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Close modal when hitting ESC\r\n * @param {KeyboardEvent} event \r\n */\r\nlet handleEscape = function (event) {\r\n    let key = event.key;\r\n    let modalElement = document.querySelector('.fds-modal[aria-hidden=false]');\r\n    let currentModal = new Modal(document.querySelector('.fds-modal[aria-hidden=false]'));\r\n    if (key === 'Escape') {\r\n        let possibleOverflowMenus = modalElement.querySelectorAll('.button-overflow-menu[aria-expanded=\"true\"]');\r\n        if (possibleOverflowMenus.length === 0) {\r\n            currentModal.hide();\r\n        }\r\n    }\r\n};\r\n\r\nfunction hasForcedAction(modal) {\r\n    if (modal.getAttribute('data-modal-forced-action') === null) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport default Modal;\r\n","'use strict';\r\nimport Dropdown from './dropdown';\r\nconst forEach = require('array-foreach');\r\nconst select = require('../utils/select').default;\r\n\r\n//const NAV_DESKTOP = `.navigation-header`;\r\nconst MOBILE_DRAWER = `.mobile-drawer`;\r\nconst NAV_LINKS = `.navigation-menu-mobile a`;\r\nconst OPENERS = `.js-menu-open`;\r\nconst CLOSE_BUTTON = `.js-menu-close`;\r\nconst OVERLAY = `.overlay`;\r\nconst CLOSERS = `${CLOSE_BUTTON}, .overlay`;\r\nconst TOGGLES = [MOBILE_DRAWER, OVERLAY].join(', ');\r\n\r\nconst ACTIVE_CLASS = 'mobile-nav-active';\r\nconst VISIBLE_CLASS = 'is-visible';\r\n\r\n/**\r\n * Add mobile menu functionality\r\n */\r\nclass Navigation {\r\n    /**\r\n     * Set events\r\n     */\r\n    init() {\r\n        window.addEventListener('resize', mobileMenu, false);\r\n        mobileMenu();\r\n\r\n        if (document.querySelectorAll('.navigation-menu .mainmenu').length > 0) {\r\n            /* Add an invisible more button to the main menu navigation on desktop */\r\n            createMoreMenu();\r\n\r\n            /* Sometimes, it's possible to correctly calculate the width of the menu items\r\n               very early during page load - if it fails, all widths are the same. If possible,\r\n               update the more menu as soon as possible for a better user experience. */\r\n            let widths = [];\r\n            let mainMenuItems = document.querySelectorAll('.navigation-menu .mainmenu > li');\r\n            for (let i = 0; i < mainMenuItems.length - 1; i++) {\r\n                let w = getVisibleWidth(mainMenuItems[i]);\r\n                widths.push(w);\r\n            }\r\n            let allWidthsEqual = (new Set(widths).size === 1); // The same value can't appear twice in a Set. If the size is 1, all widths in the array were equal.\r\n            if (!allWidthsEqual) {\r\n                updateMoreMenu();\r\n            }\r\n\r\n            /* Update more menu on window resize */\r\n            window.addEventListener('resize', updateMoreMenu, false);\r\n\r\n            // Observe DOM changes to the main menu\r\n            let config = {\r\n                attributes: false,\r\n                attributeOldValue: false,\r\n                characterData: false,\r\n                characterDataOldValue: false,\r\n                childList: true,\r\n                subtree: false\r\n            };\r\n            const observerTarget = document.querySelector('.navigation-menu .mainmenu');\r\n            const callback = function (mutationsList, observer) {\r\n                updateMoreMenu();\r\n            };\r\n            const observer = new MutationObserver(callback);\r\n            observer.observe(observerTarget, config);\r\n            \r\n            /* Ensure the more menu is correctly displayed when all resources have loaded */\r\n            window.onload = (event) => {\r\n                updateMoreMenu();\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove events\r\n     */\r\n    teardown() {\r\n        window.removeEventListener('resize', mobileMenu, false);\r\n\r\n        if (document.getElementsByClassName('mainmenu').length > 0) {\r\n            document.querySelectorAll('.navigation-menu .more-option')[0].remove;\r\n            window.removeEventListener('resize', updateMoreMenu, false);\r\n        }\r\n    }\r\n}\r\n\r\nconst createMoreMenu = function () {\r\n    let mainMenu = document.querySelectorAll('.navigation-menu .mainmenu')[0];\r\n    let moreMenu = document.createElement('li');\r\n    moreMenu.classList.add('more-option');\r\n    moreMenu.classList.add('d-none');\r\n    moreMenu.innerHTML = '<div class=\"submenu\"><button class=\"more-button button-overflow-menu js-dropdown\" data-js-target=\"fds-more-menu\" aria-haspopup=\"true\" aria-expanded=\"false\"><span>Mere</span></button><div class=\"overflow-menu-inner collapsed\" id=\"fds-more-menu\" aria-hidden=\"true\"><ul class=\"overflow-list\"></ul></div></div>';\r\n    mainMenu.append(moreMenu);\r\n    new Dropdown(document.getElementsByClassName('more-button')[0]).init();\r\n}\r\n\r\nconst updateMoreMenu = function () {\r\n    let mainMenuItems = document.querySelectorAll('.navigation-menu .mainmenu > li');\r\n    let moreMenu = mainMenuItems[mainMenuItems.length - 1];\r\n    let moreMenuList = document.querySelectorAll('.navigation-menu .more-option .overflow-list')[0];\r\n\r\n    /* Calculate available space for main menu items */\r\n    let menuWidth = Math.floor(document.querySelectorAll('.navigation-menu .navigation-menu-inner')[0].getBoundingClientRect().width);\r\n    let searchWidth = 0;\r\n    let paddingMoreMenu = 0;\r\n    if (document.querySelectorAll('.navigation-menu.contains-search').length > 0) {\r\n        searchWidth = getVisibleWidth(document.querySelectorAll('.navigation-menu .search')[0]);\r\n    }\r\n    else {\r\n        paddingMoreMenu = parseInt(window.getComputedStyle(document.querySelectorAll('.navigation-menu .more-option .more-button')[0]).paddingRight);\r\n    }\r\n    let containerPadding = parseInt(window.getComputedStyle(document.querySelectorAll('.navigation-menu .navigation-menu-inner')[0]).paddingRight);\r\n    let availableSpace = menuWidth - searchWidth - containerPadding + paddingMoreMenu;\r\n\r\n    /* Find the max amount of main menu items, it is possible to show */\r\n    let widthNeeded = 0;\r\n    for (let i = 0; i < mainMenuItems.length - 1; i++) {\r\n        widthNeeded = widthNeeded + getVisibleWidth(mainMenuItems[i]);\r\n        if (widthNeeded >= availableSpace) {\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (widthNeeded < availableSpace) {\r\n        /* More menu not needed */\r\n        for (let l = 0; l < mainMenuItems.length - 1; l++) {\r\n            mainMenuItems[l].classList.remove('d-none');\r\n        }\r\n        moreMenu.classList.add('d-none');\r\n    }\r\n    else {\r\n        let widthNeededWithMoreMenu = getVisibleWidth(moreMenu);\r\n        moreMenuList.innerHTML = \"\";\r\n        for (let j = 0; j < mainMenuItems.length - 1; j++) {\r\n            widthNeededWithMoreMenu = widthNeededWithMoreMenu + getVisibleWidth(mainMenuItems[j]);\r\n            if (widthNeededWithMoreMenu >= availableSpace) {\r\n                mainMenuItems[j].classList.remove('d-none'); // Make visible temporarily for cloning to the more menu\r\n                if (mainMenuItems[j].getElementsByClassName('submenu').length > 0) {\r\n                    /* The menu items contains subitems */\r\n                    let subMenu = document.createElement('li');\r\n                    if (mainMenuItems[j].getElementsByClassName('active').length > 0) {\r\n                        subMenu.classList.add('active');\r\n                    }\r\n                    let subMenuText = mainMenuItems[j].getElementsByClassName('button-overflow-menu')[0].getElementsByTagName('SPAN')[0].innerText;\r\n                    subMenu.innerHTML = '<ul aria-label=\"' + subMenuText + '\"><span class=\"sub-title\" aria-hidden=\"true\">' + subMenuText + '</span></ul>';\r\n                    let subElements = mainMenuItems[j].getElementsByTagName('LI');\r\n                    for (let k = 0; k < subElements.length; k++) {\r\n                        subMenu.getElementsByTagName('UL')[0].append(subElements[k].cloneNode(true));\r\n                    }\r\n                    moreMenuList.append(subMenu);\r\n                }\r\n                else {\r\n                    /* No subitems - cloning can be done without any issues */\r\n                    moreMenuList.append(mainMenuItems[j].cloneNode(true));\r\n                }\r\n                mainMenuItems[j].classList.add('d-none'); // Hide once cloning is done\r\n            }\r\n            else {\r\n                /* There's room for the main menu item - ensure it is visible */\r\n                mainMenuItems[j].classList.remove('d-none');\r\n            }\r\n        }\r\n        moreMenu.classList.remove('d-none');\r\n    }\r\n}\r\n\r\n/* Get the width of an element, even if the element isn't visible */\r\nconst getVisibleWidth = function (element) {\r\n    let width = 0;\r\n    if (element.classList.contains('d-none')) {\r\n        element.classList.remove('d-none');\r\n        width = element.getBoundingClientRect().width;\r\n        element.classList.add('d-none')\r\n    }\r\n    else {\r\n        width = element.getBoundingClientRect().width;\r\n    }\r\n    return Math.ceil(width);\r\n}\r\n\r\n/**\r\n * Add functionality to mobile menu\r\n */\r\nconst mobileMenu = function () {\r\n    let mobile = false;\r\n\r\n    // Find all menu buttons on page and add toggleNav function\r\n    let openers = document.querySelectorAll(OPENERS);\r\n    for (let o = 0; o < openers.length; o++) {\r\n        if (window.getComputedStyle(openers[o], null).display !== 'none') {\r\n            openers[o].addEventListener('click', toggleNav);\r\n            mobile = true;\r\n        }\r\n    }\r\n\r\n    // if mobile\r\n    if (mobile) {\r\n\r\n        // Add click listeners to all close elements (e.g. close button and overlay)\r\n        let closers = document.querySelectorAll(CLOSERS);\r\n        for (let c = 0; c < closers.length; c++) {\r\n            closers[c].addEventListener('click', toggleNav);\r\n        }\r\n\r\n        let navLinks = document.querySelectorAll(NAV_LINKS);\r\n        for (let n = 0; n < navLinks.length; n++) {\r\n            navLinks[n].addEventListener('click', function () {\r\n                // If a navigation link is clicked inside the mobile menu, ensure that the menu gets hidden\r\n                if (isActive()) {\r\n                    toggleNav.call(this, false);\r\n                }\r\n            });\r\n        }\r\n\r\n        const trapContainers = document.querySelectorAll(MOBILE_DRAWER);\r\n        for (let i = 0; i < trapContainers.length; i++) {\r\n            focusTrap = _focusTrap(trapContainers[i]);\r\n        }\r\n\r\n    }\r\n\r\n    const closer = document.body.querySelector(CLOSE_BUTTON);\r\n\r\n    if (isActive() && closer && closer.getBoundingClientRect().width === 0) {\r\n        // The mobile nav is active, but the close box isn't visible, which\r\n        // means the user's viewport has been resized so that it is no longer\r\n        // in mobile mode. Let's make the page state consistent by\r\n        // deactivating the mobile nav.\r\n        toggleNav.call(closer, false);\r\n    }\r\n};\r\n\r\n/**\r\n * Check if mobile menu is active\r\n * @returns true if mobile menu is active and false if not active\r\n */\r\nconst isActive = () => document.body.classList.contains(ACTIVE_CLASS);\r\n\r\n/**\r\n * Trap focus in mobile menu if active\r\n * @param {HTMLElement} trapContainer \r\n */\r\nconst _focusTrap = (trapContainer) => {\r\n\r\n    // Find all focusable children\r\n    const focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\r\n    let focusableElements = trapContainer.querySelectorAll(focusableElementsString);\r\n    let firstTabStop = focusableElements[0];\r\n\r\n    function trapTabKey(e) {\r\n        var key = event.which || event.keyCode;\r\n        // Check for TAB key press\r\n        if (key === 9) {\r\n\r\n            let lastTabStop = null;\r\n            for (let i = 0; i < focusableElements.length; i++) {\r\n                let number = focusableElements.length - 1;\r\n                let element = focusableElements[number - i];\r\n                if (element.offsetWidth > 0 && element.offsetHeight > 0) {\r\n                    lastTabStop = element;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // SHIFT + TAB\r\n            if (e.shiftKey) {\r\n                if (document.activeElement === firstTabStop) {\r\n                    e.preventDefault();\r\n                    lastTabStop.focus();\r\n                }\r\n\r\n                // TAB\r\n            } else {\r\n                if (document.activeElement === lastTabStop) {\r\n                    e.preventDefault();\r\n                    firstTabStop.focus();\r\n                }\r\n            }\r\n        }\r\n\r\n        // ESCAPE\r\n        if (e.key === 'Escape') {\r\n            toggleNav.call(this, false);\r\n        }\r\n    }\r\n\r\n    return {\r\n        enable() {\r\n            // Focus first child\r\n            firstTabStop.focus();\r\n            // Listen for and trap the keyboard\r\n            document.addEventListener('keydown', trapTabKey);\r\n        },\r\n\r\n        release() {\r\n            document.removeEventListener('keydown', trapTabKey);\r\n        },\r\n    };\r\n};\r\n\r\nlet focusTrap;\r\n\r\nconst toggleNav = function (active) {\r\n    const body = document.body;\r\n    if (typeof active !== 'boolean') {\r\n        active = !isActive();\r\n    }\r\n    body.classList.toggle(ACTIVE_CLASS, active);\r\n\r\n    forEach(select(TOGGLES), el => {\r\n        el.classList.toggle(VISIBLE_CLASS, active);\r\n    });\r\n\r\n    if (active) {\r\n        focusTrap.enable();\r\n    } else {\r\n        focusTrap.release();\r\n    }\r\n\r\n    const closeButton = body.querySelector(CLOSE_BUTTON);\r\n    const menuButton = body.querySelector(OPENERS);\r\n\r\n    if (active && closeButton) {\r\n        // The mobile nav was just activated, so focus on the close button,\r\n        // which is just before all the nav elements in the tab order.\r\n        closeButton.focus();\r\n    } else if (!active && document.activeElement === closeButton &&\r\n        menuButton) {\r\n        // The mobile nav was just deactivated, and focus was on the close\r\n        // button, which is no longer visible. We don't want the focus to\r\n        // disappear into the void, so focus on the menu button if it's\r\n        // visible (this may have been what the user was just focused on,\r\n        // if they triggered the mobile nav by mistake).\r\n        menuButton.focus();\r\n    }\r\n\r\n    return active;\r\n};\r\n\r\nexport default Navigation;","'use strict';\r\nconst TARGET = 'data-js-target';\r\n\r\n/**\r\n * Add functionality to overflow buttons in mobile menu\r\n * @param {HTMLButtonElement} buttonElement Mobile menu button\r\n */\r\nfunction MenuDropdown (buttonElement) {\r\n  this.buttonElement = buttonElement;\r\n  this.targetEl = null;\r\n\r\n  if(this.buttonElement === null ||this.buttonElement === undefined){\r\n    throw new Error(`Could not find button for overflow menu component.`);\r\n  }\r\n  let targetAttr = this.buttonElement.getAttribute(TARGET);\r\n  if(targetAttr === null || targetAttr === undefined){\r\n    throw new Error('Attribute could not be found on overflow menu component: ' + TARGET);\r\n  }\r\n  let targetEl = document.getElementById(targetAttr.replace('#', ''));\r\n  if(targetEl === null || targetEl === undefined){\r\n    throw new Error('Panel for overflow menu component could not be found.');\r\n  }\r\n  this.targetEl = targetEl;\r\n}\r\n\r\n/**\r\n * Set click events\r\n */\r\nMenuDropdown.prototype.init = function (){\r\n  if(this.buttonElement !== null && this.buttonElement !== undefined && this.targetEl !== null && this.targetEl !== undefined){\r\n\r\n    //Clicked on dropdown open button --> toggle it\r\n    this.buttonElement.removeEventListener('click', toggleDropdown);\r\n    this.buttonElement.addEventListener('click', toggleDropdown);\r\n  }\r\n}\r\n\r\n/**\r\n * Hide overflow menu\r\n */\r\nMenuDropdown.prototype.hide = function(){\r\n  toggle(this.buttonElement);\r\n}\r\n\r\n/**\r\n * Show overflow menu\r\n */\r\nMenuDropdown.prototype.show = function(){\r\n  toggle(this.buttonElement);\r\n}\r\n\r\nlet toggleDropdown = function (event, forceClose = false) {\r\n  event.stopPropagation();\r\n  event.preventDefault();\r\n\r\n  toggle(this, forceClose);\r\n};\r\n\r\nlet toggle = function(button, forceClose = false){\r\n  let triggerEl = button;\r\n  let targetEl = null;\r\n  if(triggerEl !== null && triggerEl !== undefined){\r\n    let targetAttr = triggerEl.getAttribute(TARGET);\r\n    if(targetAttr !== null && targetAttr !== undefined){\r\n      targetEl = document.getElementById(targetAttr.replace('#', ''));\r\n    }\r\n  }\r\n  if(triggerEl !== null && triggerEl !== undefined && targetEl !== null && targetEl !== undefined){\r\n    if(triggerEl.getAttribute('aria-expanded') === 'true' || forceClose){\r\n      //close\r\n      triggerEl.setAttribute('aria-expanded', 'false');\r\n      targetEl.setAttribute('aria-hidden', 'true');      \r\n      let eventClose = new Event('fds.menudropdown.close');\r\n      triggerEl.dispatchEvent(eventClose);\r\n    }else{\r\n      //open\r\n      triggerEl.setAttribute('aria-expanded', 'true');\r\n      targetEl.setAttribute('aria-hidden', 'false');\r\n      let eventOpen = new Event('fds.menudropdown.open');\r\n      triggerEl.dispatchEvent(eventOpen);\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default MenuDropdown;","'use strict';\r\nconst TOGGLE_ATTRIBUTE = 'data-controls';\r\n\r\n/**\r\n * Adds click functionality to radiobutton collapse list\r\n * @param {HTMLElement} containerElement \r\n */\r\nfunction RadioToggleGroup(containerElement){\r\n    this.radioGroup = containerElement;\r\n    this.radioEls = null;\r\n    this.targetEl = null;\r\n}\r\n\r\n/**\r\n * Set events\r\n */\r\nRadioToggleGroup.prototype.init = function (){\r\n    this.radioEls = this.radioGroup.querySelectorAll('input[type=\"radio\"]');\r\n    if(this.radioEls.length === 0){\r\n        throw new Error('No radiobuttons found in radiobutton group.');\r\n    }\r\n    var that = this;\r\n\r\n    for(let i = 0; i < this.radioEls.length; i++){\r\n        var radio = this.radioEls[ i ];\r\n        \r\n        radio.addEventListener('change', function (){\r\n            for(let a = 0; a < that.radioEls.length; a++ ){\r\n                that.toggle(that.radioEls[ a ]);\r\n            }\r\n        });\r\n        this.toggle(radio);\r\n    }\r\n}\r\n\r\n/**\r\n * Toggle radiobutton content\r\n * @param {HTMLInputElement} radioInputElement \r\n */\r\nRadioToggleGroup.prototype.toggle = function (radioInputElement){\r\n    var contentId = radioInputElement.getAttribute(TOGGLE_ATTRIBUTE);\r\n    if(contentId !== null && contentId !== undefined && contentId !== \"\"){\r\n        var contentElement = document.querySelector(contentId);\r\n        if(contentElement === null || contentElement === undefined){\r\n            throw new Error(`Could not find panel element. Verify value of attribute `+ TOGGLE_ATTRIBUTE);\r\n        }\r\n        if(radioInputElement.checked){\r\n            this.expand(radioInputElement, contentElement);\r\n        }else{\r\n            this.collapse(radioInputElement, contentElement);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Expand radio button content\r\n * @param {} radioInputElement Radio Input element\r\n * @param {*} contentElement Content element\r\n */\r\nRadioToggleGroup.prototype.expand = function (radioInputElement, contentElement){\r\n    if(radioInputElement !== null && radioInputElement !== undefined && contentElement !== null && contentElement !== undefined){\r\n        radioInputElement.setAttribute('data-expanded', 'true');\r\n        contentElement.setAttribute('aria-hidden', 'false');\r\n        let eventOpen = new Event('fds.radio.expanded');\r\n        radioInputElement.dispatchEvent(eventOpen);\r\n    }\r\n}\r\n/**\r\n * Collapse radio button content\r\n * @param {} radioInputElement Radio Input element\r\n * @param {*} contentElement Content element\r\n */\r\nRadioToggleGroup.prototype.collapse = function(radioInputElement, contentElement){\r\n    if(radioInputElement !== null && radioInputElement !== undefined && contentElement !== null && contentElement !== undefined){\r\n        radioInputElement.setAttribute('data-expanded', 'false');\r\n        contentElement.setAttribute('aria-hidden', 'true');\r\n        let eventClose = new Event('fds.radio.collapsed');\r\n        radioInputElement.dispatchEvent(eventClose);\r\n    }\r\n}\r\n\r\nexport default RadioToggleGroup;","const select = require('../utils/select').default;\r\n\r\n/**\r\n * Set data-title on cells, where the attribute is missing\r\n */\r\nclass ResponsiveTable {\r\n    constructor(table) {\r\n        insertHeaderAsAttributes(table);\r\n    }\r\n}\r\n\r\n/**\r\n * Add data attributes needed for responsive mode.\r\n * @param {HTMLTableElement} tableEl Table element\r\n */\r\nfunction insertHeaderAsAttributes(tableEl) {\r\n    if (!tableEl) return;\r\n\r\n    let header = tableEl.getElementsByTagName('thead');\r\n    if (header.length !== 0) {\r\n        let headerCellEls = header[0].getElementsByTagName('th');\r\n        if (headerCellEls.length == 0) {\r\n            headerCellEls = header[0].getElementsByTagName('td');\r\n        }\r\n\r\n        if (headerCellEls.length > 0) {\r\n            const bodyRowEls = select('tbody tr', tableEl);\r\n            Array.from(bodyRowEls).forEach(rowEl => {\r\n                let cellEls = rowEl.children;\r\n                if (cellEls.length === headerCellEls.length) {\r\n                    Array.from(headerCellEls).forEach((headerCellEl, i) => {\r\n                        // Grab header cell text and use it body cell data title.\r\n                        if (!cellEls[i].hasAttribute('data-title') && headerCellEl.tagName === \"TH\" && !headerCellEl.classList.contains(\"sr-header\")) {\r\n                            cellEls[i].setAttribute('data-title', headerCellEl.textContent);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default ResponsiveTable;\r\n","'use strict';\r\n\r\n// Add or substract depending on key pressed\r\nvar direction = {\r\n    'ArrowLeft': -1,\r\n    'ArrowRight': 1,\r\n};\r\n\r\n/**\r\n * Adds functionality to tab container component without URL change\r\n * @param {HTMLElement} tabContainer Tab container\r\n */\r\nfunction Tabs(tabContainer) {\r\n    if (!tabContainer) {\r\n        throw new Error(`Missing tab container element`);\r\n    }\r\n    this.tabContainer = tabContainer;\r\n    this.tabs = this.tabContainer.querySelectorAll('.tab-button');\r\n}\r\n\r\n/**\r\n * Set event on component\r\n */\r\nTabs.prototype.init = function () {\r\n    if (this.tabs.length === 0) {\r\n        throw new Error(`tabContainer element seems to be missing a child tab-button. There needs to be atleast one tab of class tab-button to set an active tab`);\r\n    }\r\n\r\n    // if no hash is set on load, set active tab\r\n    if (!setActiveHashTab()) {\r\n        // set first tab as active\r\n        let tab = this.tabs[0];\r\n\r\n        // check no other tabs has been set at default. If so set tab to the first active tab found\r\n        let alreadyActive = getActiveTabs(this.tabContainer);\r\n        if (alreadyActive.length !== 0) {\r\n            tab = alreadyActive[0];\r\n        }\r\n\r\n        // activate and deactivate tabs\r\n        this.activateTab(tab, false);\r\n    }\r\n    let $module = this;\r\n    // add eventlisteners on buttons\r\n    for (let t = 0; t < this.tabs.length; t++) {\r\n        this.tabs[t].addEventListener('click', function () { $module.activateTab(this, false) });\r\n        this.tabs[t].addEventListener('keydown', keydownEventListener);\r\n    }\r\n}\r\n\r\n/***\r\n * Show tab and hide others\r\n * @param {HTMLButtonElement} tab button element\r\n * @param {boolean} setFocus True if tab button should be focused\r\n */\r\nTabs.prototype.activateTab = function (tab, setFocus) {\r\n    let tabs = getAllTabsInList(tab);\r\n\r\n    if (tab.getAttribute('aria-selected') !== null) {\r\n\r\n        // close all tabs except selected\r\n        for (let i = 0; i < this.tabs.length; i++) {\r\n            if (tabs[i] === tab) {\r\n                continue;\r\n            }\r\n\r\n            if (tabs[i].getAttribute('aria-selected') === 'true') {\r\n                let eventClose = new Event('fds.tab.close');\r\n                tabs[i].dispatchEvent(eventClose);\r\n            }\r\n\r\n            tabs[i].setAttribute('aria-selected', 'false');\r\n            tabs[i].setAttribute('tabindex', '-1');\r\n            let tabpanelID = tabs[i].getAttribute('aria-controls');\r\n            let tabpanel = document.getElementById(tabpanelID)\r\n            if (tabpanel === null) {\r\n                throw new Error(`Could not find tabpanel from ID.`);\r\n            }\r\n            tabpanel.setAttribute('hidden', '');\r\n        }\r\n\r\n        // Set selected tab to active\r\n        tab.setAttribute('aria-selected', 'true');\r\n        tab.setAttribute('tabindex', '0');\r\n        let tabpanelID = tab.getAttribute('aria-controls');\r\n        let tabpanel = document.getElementById(tabpanelID);\r\n        if (tabpanel === null) {\r\n            throw new Error(`Could not find tabpanel to set active.`);\r\n        }\r\n        tabpanel.removeAttribute('hidden');\r\n\r\n        // Set focus when required\r\n        if (setFocus) {\r\n            tab.focus();\r\n        }\r\n\r\n        let eventChanged = new Event('fds.tab.changed');\r\n        tab.parentNode.parentNode.parentNode.dispatchEvent(eventChanged);\r\n\r\n        let eventOpen = new Event('fds.tab.open');\r\n        tab.dispatchEvent(eventOpen);\r\n    }\r\n}\r\n\r\nfunction keydownEventListener(event) {\r\n    let key = event.key;\r\n    if (key === 'ArrowLeft' || key === 'ArrowRight' || key === 'Home' || key === 'End') {\r\n        event.preventDefault();\r\n        if (event.repeat) {\r\n            return;\r\n        }\r\n        switchTabOnKeyPress(event);\r\n    }\r\n}\r\n\r\n/**\r\n * Either focus the next, previous, first, or last tab\r\n * depending on key pressed\r\n */\r\nfunction switchTabOnKeyPress(event) {\r\n    let pressed = event.key;\r\n    let target = event.target;\r\n    let greatGrandparentNode = target.parentNode.parentNode.parentNode;\r\n    let tabs = getAllTabsInList(target);\r\n    if (direction[pressed]) {\r\n        let index = getIndexOfElementInList(target, tabs);\r\n        if (index !== -1) {\r\n            if (tabs[index + direction[pressed]]) {\r\n                new Tabs(greatGrandparentNode).activateTab(tabs[index + direction[pressed]], true);\r\n            }\r\n            else if (pressed === 'ArrowLeft') {\r\n                new Tabs(greatGrandparentNode).activateTab(tabs[tabs.length - 1], true);\r\n            }\r\n            else if (pressed === 'ArrowRight') {\r\n                new Tabs(greatGrandparentNode).activateTab(tabs[0], true);\r\n            }\r\n        }\r\n    } else if (pressed === 'Home') {\r\n        new Tabs(greatGrandparentNode).activateTab(tabs[0], true);\r\n    } else if (pressed === 'End') {\r\n        new Tabs(greatGrandparentNode).activateTab(tabs[tabs.length - 1], true);\r\n    }\r\n}\r\n\r\n/**\r\n * Get all active tabs in list\r\n * @param tabContainer parent .tab-container element\r\n * @returns returns list of active tabs if any\r\n */\r\nfunction getActiveTabs(tabContainer) {\r\n    if (tabContainer.querySelector('button.tab-button') !== null) {\r\n        return tabContainer.querySelectorAll('.tab-button[aria-selected=true]');\r\n    } else {\r\n        throw new Error(`tabContainer HTML seems to be missing a tab-button in the tab-container.`);\r\n    }\r\n}\r\n\r\n/**\r\n * Get a list of all button tabs in current tablist\r\n * @param tab Button tab element\r\n * @returns {*} return array of tabs\r\n */\r\nfunction getAllTabsInList(tab) {\r\n    let greatGrandparentNode = tab.parentNode.parentNode.parentNode;\r\n    if (greatGrandparentNode.classList.contains('tab-container')) {\r\n        return greatGrandparentNode.querySelectorAll('.tab-button');\r\n    } else {\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Get index of element in list\r\n * @param {HTMLElement} element \r\n * @param {HTMLCollection} list \r\n * @returns {index}\r\n */\r\nfunction getIndexOfElementInList(element, list) {\r\n    let index = -1;\r\n    for (let i = 0; i < list.length; i++) {\r\n        if (list[i] === element) {\r\n            index = i;\r\n            break;\r\n        }\r\n    }\r\n    return index;\r\n}\r\n\r\n/**\r\n * Checks if there is a tab hash in the url and activates the tab accordingly\r\n * @returns {boolean} returns true if tab has been set - returns false if no tab has been set to active\r\n */\r\nfunction setActiveHashTab() {\r\n    let hash = location.hash.replace('#', '');\r\n    if (hash !== '' && hash !== \"tab-component\") {\r\n        let selector = '.tab-button[aria-controls=\"' + hash + '\"]';\r\n        let tab = document.querySelector(selector);\r\n        if (tab !== null) {\r\n            new Tabs(tab.parentNode.parentNode.parentNode).activateTab(tab, false);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default Tabs;","'use strict';\r\n\r\n/**\r\n * \r\n * @param {HTMLTableElement} table Table Element\r\n */\r\nfunction TableSelectableRows (table) {\r\n  this.table = table;\r\n}\r\n\r\n/**\r\n * Initialize eventlisteners for checkboxes in table\r\n */\r\nTableSelectableRows.prototype.init = function(){\r\n  this.groupCheckbox = this.getGroupCheckbox();\r\n  this.tbodyCheckboxList = this.getCheckboxList();\r\n  if(this.tbodyCheckboxList.length !== 0){\r\n    for(let c = 0; c < this.tbodyCheckboxList.length; c++){\r\n      let checkbox = this.tbodyCheckboxList[c];\r\n      checkbox.removeEventListener('change', updateGroupCheck);\r\n      checkbox.addEventListener('change', updateGroupCheck);\r\n    }\r\n  }\r\n  if(this.groupCheckbox !== false){\r\n    this.groupCheckbox.removeEventListener('change', updateCheckboxList);\r\n    this.groupCheckbox.addEventListener('change', updateCheckboxList);\r\n  }\r\n}\r\n  \r\n/**\r\n * Get group checkbox in table header\r\n * @returns element on true - false if not found\r\n */\r\nTableSelectableRows.prototype.getGroupCheckbox = function(){\r\n  let checkbox = this.table.getElementsByTagName('thead')[0].getElementsByClassName('form-checkbox');\r\n  if(checkbox.length === 0){\r\n    return false;\r\n  }\r\n  return checkbox[0];\r\n}\r\n/**\r\n * Get table body checkboxes\r\n * @returns HTMLCollection\r\n */\r\nTableSelectableRows.prototype.getCheckboxList = function(){\r\n  return this.table.getElementsByTagName('tbody')[0].getElementsByClassName('form-checkbox');\r\n}\r\n\r\n/**\r\n * Update checkboxes in table body when group checkbox is changed\r\n * @param {Event} e \r\n */\r\nfunction updateCheckboxList(e){\r\n  let checkbox = e.target;\r\n  checkbox.removeAttribute('aria-checked');\r\n  let table = e.target.parentNode.parentNode.parentNode.parentNode.parentNode;\r\n  let tableSelectableRows = new TableSelectableRows(table);\r\n  let checkboxList = tableSelectableRows.getCheckboxList();\r\n  let checkedNumber = 0;\r\n  if(checkbox.checked){\r\n    for(let c = 0; c < checkboxList.length; c++){\r\n      checkboxList[c].checked = true;\r\n      checkboxList[c].parentNode.parentNode.parentNode.classList.add('table-row-selected');\r\n    }\r\n\r\n    checkedNumber = checkboxList.length;\r\n  } else{\r\n    for(let c = 0; c < checkboxList.length; c++){\r\n      checkboxList[c].checked = false;\r\n      checkboxList[c].parentNode.parentNode.parentNode.classList.remove('table-row-selected');\r\n    }\r\n  }\r\n  \r\n  const event = new CustomEvent(\"fds.table.selectable.updated\", {\r\n    bubbles: true,\r\n    cancelable: true,\r\n    detail: {checkedNumber}\r\n  });\r\n  table.dispatchEvent(event);\r\n}\r\n\r\n/**\r\n * Update group checkbox when checkbox in table body is changed\r\n * @param {Event} e \r\n */\r\nfunction updateGroupCheck(e){\r\n  // update label for event checkbox\r\n  if(e.target.checked){\r\n    e.target.parentNode.parentNode.parentNode.classList.add('table-row-selected');\r\n  } else{\r\n    e.target.parentNode.parentNode.parentNode.classList.remove('table-row-selected');\r\n  }\r\n  let table = e.target.parentNode.parentNode.parentNode.parentNode.parentNode;\r\n  let tableSelectableRows = new TableSelectableRows(table);\r\n  let groupCheckbox = tableSelectableRows.getGroupCheckbox();\r\n  if(groupCheckbox !== false){\r\n    let checkboxList = tableSelectableRows.getCheckboxList();\r\n\r\n    // how many row has been selected\r\n    let checkedNumber = 0;\r\n    for(let c = 0; c < checkboxList.length; c++){\r\n      let loopedCheckbox = checkboxList[c];\r\n      if(loopedCheckbox.checked){\r\n        checkedNumber++;\r\n      }\r\n    }\r\n    \r\n    if(checkedNumber === checkboxList.length){ // if all rows has been selected\r\n      groupCheckbox.removeAttribute('aria-checked');\r\n      groupCheckbox.checked = true;\r\n    } else if(checkedNumber == 0){ // if no rows has been selected\r\n      groupCheckbox.removeAttribute('aria-checked');\r\n      groupCheckbox.checked = false;\r\n    } else{ // if some but not all rows has been selected\r\n      groupCheckbox.setAttribute('aria-checked', 'mixed');\r\n      groupCheckbox.checked = false;\r\n    }\r\n    const event = new CustomEvent(\"fds.table.selectable.updated\", {\r\n      bubbles: true,\r\n      cancelable: true,\r\n      detail: {checkedNumber}\r\n    });\r\n    table.dispatchEvent(event);\r\n  }\r\n}\r\n\r\nexport default TableSelectableRows;","'use strict';\r\n/**\r\n * Show/hide toast component\r\n * @param {HTMLElement} element \r\n */\r\nfunction Toast (element){\r\n    this.element = element;\r\n}\r\n\r\n/**\r\n * Show toast\r\n */\r\nToast.prototype.show = function(){\r\n    this.element.classList.remove('hide');\r\n    this.element.classList.add('showing');\r\n    this.element.getElementsByClassName('toast-close')[0].addEventListener('click', function(){\r\n        let toast = this.parentNode.parentNode;\r\n        new Toast(toast).hide();\r\n    });\r\n    requestAnimationFrame(showToast);\r\n}\r\n\r\n/**\r\n * Hide toast\r\n */\r\nToast.prototype.hide = function(){\r\n    this.element.classList.remove('show');\r\n    this.element.classList.add('hide');         \r\n}\r\n\r\n/**\r\n * Adds classes to make show animation\r\n */\r\nfunction showToast(){\r\n    let toasts = document.querySelectorAll('.toast.showing');\r\n    for(let t = 0; t < toasts.length; t++){\r\n        let toast = toasts[t];\r\n        toast.classList.remove('showing');\r\n        toast.classList.add('show');\r\n    }\r\n}\r\n\r\nexport default Toast;","'use strict';\r\n\r\nconst ARROW_DISTANCE_TO_TARGET = 4;             // Must match '$-arrow-dist-to-target' in 'src\\stylesheets\\components\\_tooltip.scss'\r\nconst ARROW_HEIGHT = 8;                         // Must match '$-arrow-height' in 'src\\stylesheets\\components\\_tooltip.scss'\r\nconst GRID_GUTTER_WIDTH = 32;                   // Must match '$grid-gutter-width' in 'src\\stylesheets\\variables\\variables\\_grid.scss'\r\nconst PAGE_MARGIN = GRID_GUTTER_WIDTH * 0.5\r\n\r\nfunction Tooltip(wrapper) {\r\n    if ((wrapper.getElementsByClassName('tooltip-target')).length === 0) {\r\n        throw new Error(`Missing tooltip target. Add class 'tooltip-target' to element inside tooltip wrapper.`);\r\n    }\r\n    else if (!wrapper.hasAttribute('data-tooltip') || wrapper.dataset.tooltip === '') {\r\n        throw new Error(`Missing tooltip text. Wrapper must have data attribute 'data-tooltip'.`);\r\n    }\r\n    else if (wrapper.dataset.trigger !== 'hover' && wrapper.dataset.trigger !== 'click') {\r\n        throw new Error(`Missing trigger. Tooltip wrapper must have data attribute 'data-trigger=\"hover\"' or 'data-trigger=\"click\"'.`);\r\n    }\r\n    else if (!wrapper.hasAttribute('data-tooltip-id') || wrapper.dataset.tooltipId === '') {\r\n        throw new Error(`Missing ID. Tooltip wrapper must have data attribute 'data-tooltip-id'.`);\r\n    }\r\n    else {\r\n        this.wrapper = wrapper;\r\n        this.target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n\r\n        this.tooltip = document.createElement('span');\r\n        this.tooltip.classList.add('tooltip');\r\n\r\n        let arrow = document.createElement('span');\r\n        arrow.classList.add('tooltip-arrow');\r\n        arrow.setAttribute('aria-hidden', true);\r\n    }\r\n}\r\n\r\nTooltip.prototype.init = function () {\r\n    let wrapper = this.wrapper;\r\n    let tooltipTarget = this.target;\r\n    let tooltipEl = this.tooltip;\r\n\r\n    hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n\r\n    /* Ensure tooltip remains visible if window size is reduced */\r\n    window.addEventListener('resize', function () {\r\n        updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n    });\r\n\r\n    document.getElementsByTagName('body')[0].addEventListener('click', closeAllTooltips);\r\n    document.getElementsByTagName('body')[0].addEventListener('keyup', closeOnTab);\r\n\r\n    /* A \"true\" tooltip describes the element which triggered it and is triggered on hover */\r\n    let trueTooltip = (wrapper.dataset.trigger === 'hover');\r\n    tooltipEl.id = wrapper.dataset.tooltipId;\r\n\r\n    if (trueTooltip) {\r\n        wrapper.append(tooltipEl);\r\n        appendArrow(wrapper);\r\n        if (tooltipTarget.classList.contains('tooltip-is-label')) {\r\n            tooltipTarget.setAttribute('aria-labelledby', wrapper.dataset.tooltipId);\r\n        }\r\n        else {\r\n            tooltipTarget.setAttribute('aria-describedby', wrapper.dataset.tooltipId);\r\n        }\r\n        tooltipEl.setAttribute('role', 'tooltip');\r\n        tooltipEl.innerText = wrapper.dataset.tooltip;\r\n\r\n        tooltipTarget.addEventListener('focus', function () {\r\n            showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n        });\r\n\r\n        tooltipTarget.addEventListener('mouseover', function (e) {\r\n            /* The tooltip should not appear if the user just briefly moves the cursor \r\n               across the component. Use the 'js-hover' class as a flag to check, if\r\n               the hover action is persistant. */\r\n            tooltipTarget.classList.add('js-hover');\r\n            setTimeout(function () {\r\n                if (tooltipTarget.classList.contains('js-hover')) {\r\n                    showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n                    updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n                }\r\n            }, 300);\r\n        });\r\n    \r\n        tooltipTarget.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            let onTooltip = false;\r\n            if (wrapper.classList.contains('place-above')) {\r\n                onTooltip = tooltipTarget.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipTarget.getBoundingClientRect().right && \r\n                            tooltipTarget.getBoundingClientRect().top >= e.clientY;\r\n            }\r\n            else if (wrapper.classList.contains('place-below')) {\r\n                onTooltip = tooltipTarget.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipTarget.getBoundingClientRect().right && \r\n                            tooltipTarget.getBoundingClientRect().bottom <= e.clientY;\r\n            }\r\n            /* WCAG 1.4.13: It must be possible to hover on the tooltip */\r\n            if (!onTooltip) {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n\r\n        tooltipEl.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            let onTarget = false;\r\n            if (wrapper.classList.contains('place-above')) {\r\n                onTarget = tooltipEl.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipEl.getBoundingClientRect().right && \r\n                           tooltipEl.getBoundingClientRect().bottom <= e.clientY;\r\n            }\r\n            else if (wrapper.classList.contains('place-below')) {\r\n                onTarget = tooltipEl.getBoundingClientRect().left <= e.clientX && e.clientX <= tooltipEl.getBoundingClientRect().right && \r\n                           tooltipEl.getBoundingClientRect().top >= e.clientY;\r\n            }\r\n            /* Don't remove tooltip if hover returns to the target which triggered the tooltip */\r\n            if (!onTarget) {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n\r\n        /* If the mouse leaves while in the gap between the target and the tooltip,\r\n           ensure that the tooltip closes */\r\n        wrapper.addEventListener('mouseleave', function (e) {\r\n            tooltipTarget.classList.remove('js-hover');\r\n            hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n        });\r\n    }\r\n    /* The \"tooltip\" is actually a \"toggletip\", i.e. a button which turns a tip on or off */\r\n    else {\r\n        let live_region = document.createElement('span');\r\n        live_region.setAttribute('aria-live', 'assertive');\r\n        wrapper.append(live_region);\r\n        live_region.append(tooltipEl);\r\n        appendArrow(wrapper);\r\n        tooltipTarget.setAttribute('aria-expanded', 'false');\r\n        tooltipTarget.setAttribute('aria-controls', wrapper.dataset.tooltipId);\r\n        tooltipTarget.addEventListener('click', function () {\r\n            if (wrapper.classList.contains('hide-tooltip')) {\r\n                showTooltip(wrapper, tooltipTarget, tooltipEl);\r\n                updateTooltipPosition(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n            else {\r\n                hideTooltip(wrapper, tooltipTarget, tooltipEl);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nfunction appendArrow(tooltipWrapper) {\r\n    let arrow = document.createElement('span');\r\n    arrow.classList.add('tooltip-arrow');\r\n    arrow.setAttribute('aria-hidden', true);\r\n    tooltipWrapper.append(arrow);\r\n}\r\n\r\nfunction setWidth(tooltipEl) {\r\n    tooltipEl.style.width = 'max-content';\r\n    let WCAG_Reflow_criteria = 320; // Width of 320 px defined in WCAG 2.1, Criterion 1.4.10 \"Reflow\"\r\n    let accessibleMaxWidth = WCAG_Reflow_criteria - (PAGE_MARGIN * 2);\r\n    if (parseInt(window.getComputedStyle(tooltipEl).width) > accessibleMaxWidth) {\r\n        tooltipEl.style.width = accessibleMaxWidth + 'px';\r\n    }\r\n    let screenMaxWidth = document.body.clientWidth - (PAGE_MARGIN * 2);\r\n    if (parseInt(window.getComputedStyle(tooltipEl).width) > screenMaxWidth) {\r\n        tooltipEl.style.width = screenMaxWidth + 'px';\r\n    }\r\n}\r\n\r\nfunction placeAboveOrBelow(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    let spaceAbove = tooltipTarget.getBoundingClientRect().top;\r\n    let spaceBelow = window.screen.availHeight - tooltipTarget.getBoundingClientRect().bottom;\r\n    let height = tooltipEl.getBoundingClientRect().height + ARROW_DISTANCE_TO_TARGET + ARROW_HEIGHT;\r\n    let placement = 'above'; // Default placement\r\n    if (tooltipWrapper.dataset.position === 'below' && spaceBelow >= height || (height > spaceAbove && height <= spaceBelow)) {\r\n        placement = 'below';\r\n    }\r\n    if (placement === 'above') {\r\n        tooltipWrapper.classList.add('place-above');\r\n        tooltipWrapper.classList.remove('place-below');\r\n    }\r\n    else if (placement === 'below') {\r\n        tooltipWrapper.classList.add('place-below');\r\n        tooltipWrapper.classList.remove('place-above');\r\n    }\r\n}\r\n\r\nfunction setLeft(tooltipTarget, tooltipEl) {\r\n    /* Center the tooltip on the tooltip arrow */\r\n    let left = (parseInt(tooltipTarget.getBoundingClientRect().width) - parseInt(tooltipEl.getBoundingClientRect().width))/2;\r\n    tooltipEl.style.left = left + 'px';\r\n    /* If the tooltip exceeds the left side of the screen, adjust it */\r\n    if (tooltipEl.getBoundingClientRect().left < PAGE_MARGIN) {\r\n        let adjustedLeft = 0 - parseInt(tooltipTarget.getBoundingClientRect().left) + PAGE_MARGIN;\r\n        tooltipEl.style.left = adjustedLeft + 'px';\r\n    }\r\n    /* If the tooltip exceeds the right side of the screen, adjust it */\r\n    else if (tooltipEl.getBoundingClientRect().right > (document.body.clientWidth - PAGE_MARGIN)) {\r\n        let adjustedLeft = parseInt(window.getComputedStyle(tooltipEl).left) - (tooltipEl.getBoundingClientRect().right - document.body.clientWidth + PAGE_MARGIN);\r\n        tooltipEl.style.left = adjustedLeft + 'px';\r\n    }\r\n}\r\n\r\nfunction setBottomAndTop(tooltipWrapper, tooltipEl) {\r\n    let total = 0 - tooltipEl.getBoundingClientRect().height - ARROW_HEIGHT - ARROW_DISTANCE_TO_TARGET + 1;\r\n    if (tooltipWrapper.classList.contains('place-above')) {\r\n        tooltipEl.style.top = total + 'px';\r\n        tooltipEl.style.bottom = 'auto';\r\n    }\r\n    else if (tooltipWrapper.classList.contains('place-below')) {\r\n        tooltipEl.style.bottom = total + 'px';\r\n        tooltipEl.style.top = 'auto';\r\n    }\r\n}\r\n\r\nfunction updateTooltipPosition(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    setWidth(tooltipEl);\r\n    placeAboveOrBelow(tooltipWrapper, tooltipTarget, tooltipEl);\r\n    setLeft(tooltipTarget, tooltipEl);\r\n    setBottomAndTop(tooltipWrapper, tooltipEl);\r\n}\r\n\r\nfunction hideTooltip(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    tooltipWrapper.classList.add('hide-tooltip');\r\n    if (tooltipTarget.hasAttribute('aria-expanded')) {\r\n        tooltipTarget.setAttribute('aria-expanded', 'false');\r\n        tooltipEl.innerText = \"\";\r\n    }\r\n}\r\n\r\nfunction showTooltip(tooltipWrapper, tooltipTarget, tooltipEl) {\r\n    tooltipWrapper.classList.remove('hide-tooltip');\r\n    if (tooltipTarget.hasAttribute('aria-expanded')) {\r\n        tooltipTarget.setAttribute('aria-expanded', 'true');\r\n        tooltipEl.innerText = tooltipWrapper.dataset.tooltip;\r\n    }\r\n}\r\n\r\nfunction closeAllTooltips(event) {\r\n    let tooltips = document.getElementsByClassName('tooltip-wrapper');\r\n    for (let t = 0; t < tooltips.length; t++) {\r\n        let wrapper = tooltips[t];\r\n        let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n        let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n        let clickedOnTarget = target.getBoundingClientRect().left <= event.clientX && \r\n                              event.clientX <= target.getBoundingClientRect().right && \r\n                              target.getBoundingClientRect().top <= event.clientY && \r\n                              event.clientY <= target.getBoundingClientRect().bottom;\r\n        let clickedOnTooltip = window.getComputedStyle(tooltip).display !== 'none' &&\r\n                               tooltip.getBoundingClientRect().left <= event.clientX && \r\n                               event.clientX <= tooltip.getBoundingClientRect().right && \r\n                               tooltip.getBoundingClientRect().top <= event.clientY && \r\n                               event.clientY <= tooltip.getBoundingClientRect().bottom;\r\n        if (!clickedOnTarget && target !== document.activeElement && !clickedOnTooltip) {\r\n            hideTooltip(wrapper, target, tooltip);\r\n        }\r\n    }\r\n}\r\n\r\nfunction closeOnTab(e) {\r\n    let key = e.key;\r\n    let tooltips = document.getElementsByClassName('tooltip-wrapper');\r\n    if (key === 'Tab') {\r\n        for (let t = 0; t < tooltips.length; t++) {\r\n            let wrapper = tooltips[t];\r\n            let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n            let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n            /* If the user is tabbing to an element, where a tooltip already is open,\r\n               keep it open */\r\n            if (document.activeElement !== target) {\r\n                hideTooltip(wrapper, target, tooltip);\r\n            }\r\n        }\r\n    }\r\n    else if (key === 'Escape') {\r\n        for (let t = 0; t < tooltips.length; t++) {\r\n            let wrapper = tooltips[t];\r\n            let target = wrapper.getElementsByClassName('tooltip-target')[0];\r\n            let tooltip = wrapper.getElementsByClassName('tooltip')[0];\r\n            hideTooltip(wrapper, target, tooltip);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Tooltip;\r\n","'use strict';\r\nimport Accordion from './components/accordion';\r\nimport Alert from './components/alert';\r\nimport BackToTop from './components/back-to-top';\r\nimport CharacterLimit from './components/character-limit';\r\nimport CheckboxToggleContent from './components/checkbox-toggle-content';\r\nimport Dropdown from './components/dropdown';\r\nimport DropdownSort from './components/dropdown-sort';\r\nimport ErrorSummary from './components/error-summary';\r\nimport Modal from './components/modal';\r\nimport Navigation from './components/navigation';\r\nimport MenuDropdown from './components/navigation-drawer-overflow';\r\nimport RadioToggleGroup from './components/radio-toggle-content';\r\nimport ResponsiveTable from './components/table';\r\nimport Tabs from  './components/tabs';\r\nimport TableSelectableRows from './components/selectable-table';\r\nimport Toast from './components/toast';\r\nimport Tooltip from './components/tooltip';\r\nconst datePicker = require('./components/date-picker').default;\r\n/**\r\n * The 'polyfills' define key ECMAScript 5 methods that may be missing from\r\n * older browsers, so must be loaded first.\r\n */\r\nrequire('./polyfills');\r\n\r\n/**\r\n * Init all components\r\n * @param {JSON} options {scope: HTMLElement} - Init all components within scope (default is document)\r\n */\r\nvar init = function (options) {\r\n  // Set the options to an empty object by default if no options are passed.\r\n  options = typeof options !== 'undefined' ? options : {}\r\n\r\n  // Allow the user to initialise FDS in only certain sections of the page\r\n  // Defaults to the entire document if nothing is set.\r\n  var scope = typeof options.scope !== 'undefined' ? options.scope : document\r\n\r\n  /*\r\n  ---------------------\r\n  Accordions\r\n  ---------------------\r\n  */\r\n  const jsSelectorAccordion = scope.getElementsByClassName('accordion');\r\n  for(let c = 0; c < jsSelectorAccordion.length; c++){\r\n    new Accordion(jsSelectorAccordion[ c ]).init();\r\n  }\r\n  const jsSelectorAccordionBordered = scope.querySelectorAll('.accordion-bordered:not(.accordion)');\r\n  for(let c = 0; c < jsSelectorAccordionBordered.length; c++){\r\n    new Accordion(jsSelectorAccordionBordered[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Alerts\r\n  ---------------------\r\n  */\r\n\r\n  const alertsWithCloseButton = scope.querySelectorAll('.alert.has-close');\r\n  for(let c = 0; c < alertsWithCloseButton.length; c++){\r\n    new Alert(alertsWithCloseButton[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Back to top button\r\n  ---------------------\r\n  */\r\n\r\n  const backToTopButtons = scope.getElementsByClassName('back-to-top-button');\r\n  for(let c = 0; c < backToTopButtons.length; c++){\r\n    new BackToTop(backToTopButtons[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Character limit\r\n  ---------------------\r\n  */\r\n  const jsCharacterLimit = scope.getElementsByClassName('form-limit');\r\n  for(let c = 0; c < jsCharacterLimit.length; c++){\r\n\r\n    new CharacterLimit(jsCharacterLimit[ c ]).init();\r\n  }\r\n  \r\n  /*\r\n  ---------------------\r\n  Checkbox collapse\r\n  ---------------------\r\n  */\r\n  const jsSelectorCheckboxCollapse = scope.getElementsByClassName('js-checkbox-toggle-content');\r\n  for(let c = 0; c < jsSelectorCheckboxCollapse.length; c++){\r\n    new CheckboxToggleContent(jsSelectorCheckboxCollapse[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Overflow menu\r\n  ---------------------\r\n  */\r\n  const jsSelectorDropdown = scope.getElementsByClassName('js-dropdown');\r\n  for(let c = 0; c < jsSelectorDropdown.length; c++){\r\n    new Dropdown(jsSelectorDropdown[ c ]).init();\r\n  }\r\n\r\n  \r\n  /*\r\n  ---------------------\r\n  Overflow menu sort\r\n  ---------------------\r\n  */\r\n  const jsSelectorDropdownSort = scope.getElementsByClassName('overflow-menu--sort');\r\n  for(let c = 0; c < jsSelectorDropdownSort.length; c++){\r\n    new DropdownSort(jsSelectorDropdownSort[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Datepicker\r\n  ---------------------\r\n  */\r\n  datePicker.on(scope);\r\n  \r\n  /*\r\n  ---------------------\r\n  Error summary\r\n  ---------------------\r\n  */\r\n  var $errorSummary = scope.querySelector('[data-module=\"error-summary\"]');\r\n  new ErrorSummary($errorSummary).init();\r\n\r\n  /*\r\n  ---------------------\r\n  Modal\r\n  ---------------------\r\n  */\r\n  const modals = scope.querySelectorAll('.fds-modal');\r\n  for(let d = 0; d < modals.length; d++) {\r\n    new Modal(modals[d]).init();\r\n  }\r\n  \r\n  /*\r\n  ---------------------\r\n  Navigation\r\n  ---------------------\r\n  */\r\n  new Navigation().init();\r\n\r\n  /*\r\n  ---------------------\r\n  Navigation Drawer Overflow Menus\r\n  ---------------------\r\n  */\r\n  const jsSelectorMenuDropdown = scope.getElementsByClassName('js-menudropdown');\r\n  for(let c = 0; c < jsSelectorMenuDropdown.length; c++){\r\n    new MenuDropdown(jsSelectorMenuDropdown[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Radiobutton group collapse\r\n  ---------------------\r\n  */\r\n  const jsSelectorRadioCollapse = scope.getElementsByClassName('js-radio-toggle-group');\r\n  for(let c = 0; c < jsSelectorRadioCollapse.length; c++){\r\n    new RadioToggleGroup(jsSelectorRadioCollapse[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Responsive tables\r\n  ---------------------\r\n  */\r\n  const jsSelectorTable = scope.querySelectorAll('table.table--responsive-headers, table.table-sm-responsive-headers, table.table-md-responsive-headers, table.table-lg-responsive-headers');\r\n  for(let c = 0; c < jsSelectorTable.length; c++){\r\n    new ResponsiveTable(jsSelectorTable[ c ]);\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Selectable rows in table\r\n  ---------------------\r\n  */\r\n  const jsSelectableTable = scope.querySelectorAll('table.table--selectable');\r\n  for(let c = 0; c < jsSelectableTable.length; c++){\r\n    new TableSelectableRows(jsSelectableTable[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Tabs\r\n  ---------------------\r\n  */\r\n  const jsSelectorTabs = scope.querySelectorAll('div.tab-container');\r\n  for(let c = 0; c < jsSelectorTabs.length; c++){\r\n    new Tabs(jsSelectorTabs[ c ]).init();\r\n  }\r\n\r\n  /*\r\n  ---------------------\r\n  Tooltip\r\n  ---------------------\r\n  */\r\n  const jsSelectorTooltip = scope.getElementsByClassName('tooltip-wrapper');\r\n  for(let c = 0; c < jsSelectorTooltip.length; c++){\r\n    new Tooltip(jsSelectorTooltip[ c ]).init();\r\n  }\r\n  \r\n};\r\n\r\nexport { init, Accordion, Alert, BackToTop, CharacterLimit, CheckboxToggleContent, Dropdown, DropdownSort, datePicker, ErrorSummary, Modal, Navigation, MenuDropdown, RadioToggleGroup, ResponsiveTable, TableSelectableRows, Tabs, Toast, Tooltip };\r\n"],"names":["root","factory","exports","module","define","amd","this","ary","callback","thisArg","forEach","i","length","call","receptor","require","sequence","_len","arguments","seq","Array","_key","target","undefined","document","body","method","navigator","userAgent","match","platform","maxTouchPoints","window","MSStream","DATE_PICKER_CLASS","DATE_PICKER_WRAPPER_CLASS","DATE_PICKER_INITIALIZED_CLASS","DATE_PICKER_ACTIVE_CLASS","DATE_PICKER_INTERNAL_INPUT_CLASS","DATE_PICKER_EXTERNAL_INPUT_CLASS","DATE_PICKER_BUTTON_CLASS","DATE_PICKER_CALENDAR_CLASS","DATE_PICKER_STATUS_CLASS","DATE_PICKER_GUIDE_CLASS","CALENDAR_DATE_CLASS","DIALOG_WRAPPER_CLASS","DATE_PICKER_DIALOG_WRAPPER","CALENDAR_DATE_FOCUSED_CLASS","CALENDAR_DATE_SELECTED_CLASS","CALENDAR_DATE_PREVIOUS_MONTH_CLASS","CALENDAR_DATE_CURRENT_MONTH_CLASS","CALENDAR_DATE_NEXT_MONTH_CLASS","CALENDAR_DATE_RANGE_DATE_CLASS","CALENDAR_DATE_TODAY_CLASS","CALENDAR_DATE_RANGE_DATE_START_CLASS","CALENDAR_DATE_RANGE_DATE_END_CLASS","CALENDAR_DATE_WITHIN_RANGE_CLASS","CALENDAR_PREVIOUS_YEAR_CLASS","CALENDAR_PREVIOUS_MONTH_CLASS","CALENDAR_NEXT_YEAR_CLASS","CALENDAR_NEXT_MONTH_CLASS","CALENDAR_MONTH_SELECTION_CLASS","CALENDAR_YEAR_SELECTION_CLASS","CALENDAR_MONTH_CLASS","CALENDAR_MONTH_FOCUSED_CLASS","CALENDAR_MONTH_SELECTED_CLASS","CALENDAR_YEAR_CLASS","CALENDAR_YEAR_FOCUSED_CLASS","CALENDAR_YEAR_SELECTED_CLASS","CALENDAR_PREVIOUS_YEAR_CHUNK_CLASS","CALENDAR_NEXT_YEAR_CHUNK_CLASS","CALENDAR_DATE_PICKER_CLASS","CALENDAR_MONTH_PICKER_CLASS","CALENDAR_YEAR_PICKER_CLASS","CALENDAR_TABLE_CLASS","CALENDAR_ROW_CLASS","CALENDAR_CELL_CLASS","CALENDAR_CELL_CENTER_ITEMS_CLASS","CALENDAR_MONTH_LABEL_CLASS","CALENDAR_DAY_OF_WEEK_CLASS","DATE_PICKER","DATE_PICKER_BUTTON","DATE_PICKER_INTERNAL_INPUT","DATE_PICKER_EXTERNAL_INPUT","DATE_PICKER_CALENDAR","DATE_PICKER_STATUS","DATE_PICKER_GUIDE","CALENDAR_DATE","CALENDAR_DATE_FOCUSED","CALENDAR_DATE_CURRENT_MONTH","CALENDAR_PREVIOUS_YEAR","CALENDAR_PREVIOUS_MONTH","CALENDAR_NEXT_YEAR","CALENDAR_NEXT_MONTH","CALENDAR_YEAR_SELECTION","CALENDAR_MONTH_SELECTION","CALENDAR_MONTH","CALENDAR_YEAR","CALENDAR_PREVIOUS_YEAR_CHUNK","CALENDAR_NEXT_YEAR_CHUNK","CALENDAR_DATE_PICKER","CALENDAR_MONTH_PICKER","CALENDAR_YEAR_PICKER","CALENDAR_MONTH_FOCUSED","CALENDAR_YEAR_FOCUSED","text","VALIDATION_MESSAGE","MONTH_LABELS","january","february","march","april","may","june","july","august","september","october","november","december","DAY_OF_WEEK_LABELS","monday","tuesday","wednesday","thursday","friday","saturday","sunday","YEAR_CHUNK","DEFAULT_MIN_DATE","DATE_FORMAT_OPTION_1","DATE_FORMAT_OPTION_2","DATE_FORMAT_OPTION_3","DATE_FORMAT_OPTION_4","DATE_FORMAT_OPTION_5","INTERNAL_DATE_FORMAT","processFocusableSelectors","selectors","map","query","join","DATE_PICKER_FOCUSABLE","MONTH_PICKER_FOCUSABLE","YEAR_PICKER_FOCUSABLE","keepDateWithinMonth","dateToCheck","month","getMonth","setDate","year","date","newDate","Date","setFullYear","today","day","getDate","getFullYear","startOfMonth","lastDayOfMonth","addDays","_date","numDays","getTime","subDays","addWeeks","numWeeks","startOfWeek","dayOfWeek","getDay","addMonths","numMonths","dateMonth","setMonth","subMonths","addYears","numYears","subYears","setYear","isSameYear","dateA","dateB","isSameMonth","isSameDay","keepDateBetweenMinAndMax","minDate","maxDate","isDateWithinMinAndMax","isDatesYearOutsideMinOrMax","parseDateString","dateString","parsed","dateFormat","adjustDate","monthStr","dayStr","yearStr","split","parseInt","Number","isNaN","Math","max","currentYear","pow","min","lastDayOfTheMonth","formatDate","padZeros","value","slice","listToGridHtml","htmlArray","rowSize","grid","row","push","changeElementValue","el","elementToChange","event","Event","dispatchEvent","getDatePickerContext","datePickerEl","closest","Error","internalInputEl","querySelector","externalInputEl","calendarEl","toggleBtnEl","statusEl","guideEl","firstYearChunkEl","dialogEl","selectedDateFormat","hasAttribute","dataset","dateformat","dateFormatOption","inputDate","selectedDate","calendarDate","rangeDate","defaultDate","disable","disabled","isDateInputInvalid","isInvalid","dateStringParts","str","checkDate","validateDateInput","validationMessage","setCustomValidity","setCalendarValue","parsedDate","formattedDate","renderCalendar","_dateToDisplay","todaysDate","dateToDisplay","calendarWasHidden","hidden","focusedDate","focusedMonth","focusedYear","prevMonth","nextMonth","currentFormattedDate","firstOfMonth","prevButtonsDisabled","nextButtonsDisabled","rangeConclusionDate","rangeStartDate","rangeEndDate","withinRangeStartDate","withinRangeEndDate","monthLabel","generateDateHtml","dateToRender","classes","tabindex","isDisabled","isSelected","ariaLabelDate","aria_label_date","replace","days","datesHtml","newCalendar","cloneNode","style","top","offsetHeight","content","previous_year","previous_month","select_month","select_year","next_month","next_year","d","charAt","innerHTML","parentNode","replaceChild","classList","add","statuses","textContent","first_possible_date","last_possible_date","current_month_displayed","hideCalendar","remove","updateCalendarIfVisible","displayMonthSelection","monthToDisplay","selectedMonth","months","index","isDatesMonthOutsideMinOrMax","monthsHtml","months_displayed","displayYearSelection","yearToDisplay","selectedYear","yearToChunk","prevYearChunkDisabled","nextYearChunkDisabled","years","yearIndex","yearsHtml","ariaLabelPreviousYears","previous_years","ariaLabelNextYears","next_years","announceYears","years_displayed","handleEscapeFromCalendar","focus","preventDefault","adjustCalendar","adjustDateFn","cappedDate","handleUpFromDate","handleDownFromDate","handleLeftFromDate","handleRightFromDate","handleHomeFromDate","handleEndFromDate","endOfWeek","handlePageDownFromDate","handlePageUpFromDate","handleShiftPageDownFromDate","handleShiftPageUpFromDate","adjustMonthSelectionScreen","adjustMonthFn","monthEl","currentDate","adjustedMonth","handleUpFromMonth","handleDownFromMonth","handleLeftFromMonth","handleRightFromMonth","handleHomeFromMonth","handleEndFromMonth","handlePageDownFromMonth","handlePageUpFromMonth","adjustYearSelectionScreen","adjustYearFn","yearEl","adjustedYear","handleUpFromYear","handleDownFromYear","handleLeftFromYear","handleRightFromYear","handleHomeFromYear","handleEndFromYear","handlePageUpFromYear","handlePageDownFromYear","tabHandler","focusable","getFocusableContext","focusableElements","select","lastTabIndex","firstTabStop","lastTabStop","focusIndex","indexOf","activeElement","isNotFound","isFirstTab","isLastTab","tabAhead","tabBack","datePickerTabEventHandler","monthPickerTabEventHandler","yearPickerTabEventHandler","datePickerEvents","toggleCalendar","calendarDateEl","selectDate","selectMonth","selectYear","_buttonEl","nextToFocus","displayPreviousMonth","displayNextMonth","displayPreviousYear","displayNextYear","displayPreviousYearChunk","displayNextYearChunk","keyup","keydown","keydownKeyCode","keyCode","keymap","Up","ArrowUp","Down","ArrowDown","Left","ArrowLeft","Right","ArrowRight","Home","End","PageDown","PageUp","Tab","Escape","keyMap","focusout","contains","relatedTarget","input","newValue","reconcileInputValues","isIosDevice","mousemove","dateEl","currentCalendarDate","hoverDate","handleMousemoveFromDate","focusMonth","handleMousemoveFromMonth","focusYear","handleMousemoveFromYear","events","props","init","defaultValue","getAttribute","calendarWrapper","createElement","tabIndex","type","name","dialogTitle","choose_a_date","hasMinDate","isDefaultMinDate","hasMaxDate","minDay","minMonth","minMonthStr","minYear","maxDay","maxMonth","maxMonthStr","maxYear","choose_a_date_between","choose_a_date_before","choose_a_date_after","guideID","appendChild","insertAdjacentHTML","open_calendar","guide","setAttribute","removeAttribute","required","enhanceDatePicker","setLanguage","strings","enable","behavior","assign","on","off","CustomEvent","_params","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","elproto","HTMLElement","prototype","HIDDEN","Object","defineProperty","get","set","win","docEl","documentElement","rect","getBoundingClientRect","left","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","selector","context","nodeType","selection","querySelectorAll","EXPANDED","button","expanded","id","controls","getElementById","self","createElementNS","view","classListProp","protoProp","elemCtrProto","Element","objCtr","strTrim","String","trim","arrIndexOf","item","len","DOMEx","message","code","DOMException","checkTokenAndGetIndex","token","test","ClassList","elem","trimmedClasses","_updateClassName","toString","classListProto","classListGetter","tokens","l","updated","splice","toggle","force","result","classListPropDesc","enumerable","configurable","ex","number","__defineGetter__","testElement","createMethod","original","DOMTokenList","_toggle","keyboardeventKeyPolyfill","polyfill","KeyboardEvent","proto","x","key","keys","which","isArray","shiftKey","letter","fromCharCode","toLowerCase","toUpperCase","vendor","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","nodes","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","n","test3","err","shouldUseNative","source","from","symbols","to","val","TypeError","toObject","s","delegate","delegateAll","DELEGATE_PATTERN","popKey","obj","listeners","reduce","memo","handler","options","capture","passive","listener","_type","getListeners","concat","element","addEventListener","removeEventListener","functions","e","some","fn","compose","delegates","ignore","MODIFIERS","hasModifiers","modifier","getEventKey","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","a","definition","o","prop","r","Symbol","toStringTag","BUTTON","BULK_FUNCTION_ACTION_ATTRIBUTE","TEXT_ACCORDION","Accordion","$accordion","accordion","buttons","currentButton","toggleButton","eventOnClick","bind","prevSibling","previousElementSibling","bulkFunctionButton","bulkEvent","$module","expand","innerText","open_all","close_all","$button","stopPropagation","bulk","eventOpen","eventClose","bulkFunction","buttonsOpen","newStatus","Alert","alert","close","getElementsByClassName","hide","eventHide","show","eventShow","BackToTop","backtotop","updateBackToTopButton","docBody","docElem","limit","scrollHeight","height","lastKnownScrollPosition","scrollY","footerVisible","footerElement","isFooterVisible","getElementsByTagName","maybeShowButton","sidenav","offsetParent","sidenavContainer","overflowMenu","backtotopbutton","observerTarget","header","MutationObserver","mutationsList","observer","mutation","observe","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","MAX_LENGTH","TEXT_CHARACTERLIMIT","CharacterLimit","containerElement","container","maxlength","lastKeyUpTimestamp","oldValue","intervalID","handleKeyUp","updateVisibleMessage","now","handleFocus","setInterval","sr_message","visible_message","updateMessages","handleBlur","clearInterval","characterLimitMessage","formLimit","count_message","characters_left","charactersLeft","exceeded","abs","character_too_many","character_remaining","characters_remaining","characters_too_many","character_label","current_length","updateScreenReaderMessage","TOGGLE_TARGET_ATTRIBUTE","CheckboxToggleContent","checkboxElement","targetElement","targetAttr","targetEl","checked","collapse","contentElement","triggerEl","breakpoints","TARGET","Dropdown","buttonElement","responsiveListCollapseEnabled","outsideClose","toggleDropdown","IntersectionObserver","entries","intersectionRatio","doResponsiveCollapse","closeOnEscape","closeAll","changed","overflowMenuEl","oi","stopImmediatePropagation","forceClose","targetOffset","scrollLeft","pageXOffset","scrollTop","pageYOffset","offset","getComputedStyle","marginLeft","offsetWidth","hasParent","child","parentTagName","tagName","openDropdowns","getTringuideBreakpoint","md","lg","DropdownSort","updateSelectedValue","sortingOptions","onOptionClick","selectedItem","li","eventSelected","ErrorSummary","handleClick","focusTarget","$target","href","inputId","getFragmentFromUrl","$input","$legendOrLabel","getAssociatedLegendOrLabel","scrollIntoView","preventScroll","url","pop","$fieldset","legends","$candidateLegend","legendTop","inputRect","Modal","$modal","triggers","closers","c","modalElement","$backdrop","removeChild","hasForcedAction","handleEscape","bodyChildren","dataModalOpener","opener","openerId","floor","random","activeModals","currentModal","modal","MOBILE_DRAWER","OPENERS","CLOSE_BUTTON","CLOSERS","TOGGLES","ACTIVE_CLASS","createMoreMenu","mainMenu","moreMenu","append","updateMoreMenu","mainMenuItems","moreMenuList","menuWidth","width","searchWidth","paddingMoreMenu","getVisibleWidth","paddingRight","availableSpace","widthNeeded","widthNeededWithMoreMenu","j","subMenu","subMenuText","subElements","k","ceil","mobileMenu","mobile","openers","display","toggleNav","navLinks","isActive","trapContainers","focusTrap","_focusTrap","closer","trapContainer","trapTabKey","release","active","closeButton","menuButton","widths","w","Set","size","config","onload","teardown","MenuDropdown","TOGGLE_ATTRIBUTE","RadioToggleGroup","radioGroup","radioEls","that","radio","radioInputElement","contentId","constructor","table","tableEl","headerCellEls","bodyRowEls","rowEl","cellEls","children","headerCellEl","insertHeaderAsAttributes","direction","Tabs","tabContainer","tabs","keydownEventListener","repeat","pressed","greatGrandparentNode","getAllTabsInList","list","getIndexOfElementInList","activateTab","switchTabOnKeyPress","tab","hash","location","setActiveHashTab","alreadyActive","getActiveTabs","t","setFocus","tabpanelID","tabpanel","eventChanged","TableSelectableRows","updateCheckboxList","checkbox","checkboxList","getCheckboxList","checkedNumber","updateGroupCheck","tableSelectableRows","groupCheckbox","getGroupCheckbox","tbodyCheckboxList","Toast","showToast","toasts","toast","requestAnimationFrame","ARROW_DISTANCE_TO_TARGET","ARROW_HEIGHT","PAGE_MARGIN","GRID_GUTTER_WIDTH","Tooltip","wrapper","tooltip","trigger","tooltipId","arrow","appendArrow","tooltipWrapper","updateTooltipPosition","tooltipTarget","tooltipEl","accessibleMaxWidth","screenMaxWidth","setWidth","spaceAbove","spaceBelow","screen","availHeight","placement","position","placeAboveOrBelow","adjustedLeft","setLeft","total","setBottomAndTop","hideTooltip","showTooltip","closeAllTooltips","tooltips","clickedOnTarget","clientX","clientY","clickedOnTooltip","closeOnTab","trueTooltip","setTimeout","onTooltip","onTarget","live_region","datePicker","scope","jsSelectorAccordion","jsSelectorAccordionBordered","alertsWithCloseButton","backToTopButtons","jsCharacterLimit","jsSelectorCheckboxCollapse","jsSelectorDropdown","jsSelectorDropdownSort","$errorSummary","modals","Navigation","jsSelectorMenuDropdown","jsSelectorRadioCollapse","jsSelectorTable","ResponsiveTable","jsSelectableTable","jsSelectorTabs","jsSelectorTooltip"],"sourceRoot":""}